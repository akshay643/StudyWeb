function A1(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const r in o)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(o,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>o[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Rg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ig={exports:{}},_a={},Mg={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ls=Symbol.for("react.element"),P1=Symbol.for("react.portal"),N1=Symbol.for("react.fragment"),O1=Symbol.for("react.strict_mode"),R1=Symbol.for("react.profiler"),I1=Symbol.for("react.provider"),M1=Symbol.for("react.context"),D1=Symbol.for("react.forward_ref"),L1=Symbol.for("react.suspense"),F1=Symbol.for("react.memo"),U1=Symbol.for("react.lazy"),cp=Symbol.iterator;function _1(e){return e===null||typeof e!="object"?null:(e=cp&&e[cp]||e["@@iterator"],typeof e=="function"?e:null)}var Dg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lg=Object.assign,Fg={};function cr(e,t,n){this.props=e,this.context=t,this.refs=Fg,this.updater=n||Dg}cr.prototype.isReactComponent={};cr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ug(){}Ug.prototype=cr.prototype;function ed(e,t,n){this.props=e,this.context=t,this.refs=Fg,this.updater=n||Dg}var td=ed.prototype=new Ug;td.constructor=ed;Lg(td,cr.prototype);td.isPureReactComponent=!0;var up=Array.isArray,_g=Object.prototype.hasOwnProperty,nd={current:null},Bg={key:!0,ref:!0,__self:!0,__source:!0};function Wg(e,t,n){var o,r={},s=null,i=null;if(t!=null)for(o in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)_g.call(t,o)&&!Bg.hasOwnProperty(o)&&(r[o]=t[o]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(o in a=e.defaultProps,a)r[o]===void 0&&(r[o]=a[o]);return{$$typeof:Ls,type:e,key:s,ref:i,props:r,_owner:nd.current}}function B1(e,t){return{$$typeof:Ls,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function od(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ls}function W1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dp=/\/+/g;function Pl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?W1(""+e.key):t.toString(36)}function Ni(e,t,n,o,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ls:case P1:i=!0}}if(i)return i=e,r=r(i),e=o===""?"."+Pl(i,0):o,up(r)?(n="",e!=null&&(n=e.replace(dp,"$&/")+"/"),Ni(r,t,n,"",function(c){return c})):r!=null&&(od(r)&&(r=B1(r,n+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(dp,"$&/")+"/")+e)),t.push(r)),1;if(i=0,o=o===""?".":o+":",up(e))for(var a=0;a<e.length;a++){s=e[a];var l=o+Pl(s,a);i+=Ni(s,t,n,l,r)}else if(l=_1(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=o+Pl(s,a++),i+=Ni(s,t,n,l,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ti(e,t,n){if(e==null)return e;var o=[],r=0;return Ni(e,o,"","",function(s){return t.call(n,s,r++)}),o}function V1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Oi={transition:null},H1={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Oi,ReactCurrentOwner:nd};function Vg(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:ti,forEach:function(e,t,n){ti(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ti(e,function(){t++}),t},toArray:function(e){return ti(e,function(t){return t})||[]},only:function(e){if(!od(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=cr;G.Fragment=N1;G.Profiler=R1;G.PureComponent=ed;G.StrictMode=O1;G.Suspense=L1;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H1;G.act=Vg;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Lg({},e.props),r=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=nd.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)_g.call(t,l)&&!Bg.hasOwnProperty(l)&&(o[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];o.children=a}return{$$typeof:Ls,type:e.type,key:r,ref:s,props:o,_owner:i}};G.createContext=function(e){return e={$$typeof:M1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I1,_context:e},e.Consumer=e};G.createElement=Wg;G.createFactory=function(e){var t=Wg.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:D1,render:e}};G.isValidElement=od;G.lazy=function(e){return{$$typeof:U1,_payload:{_status:-1,_result:e},_init:V1}};G.memo=function(e,t){return{$$typeof:F1,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Oi.transition;Oi.transition={};try{e()}finally{Oi.transition=t}};G.unstable_act=Vg;G.useCallback=function(e,t){return Be.current.useCallback(e,t)};G.useContext=function(e){return Be.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};G.useEffect=function(e,t){return Be.current.useEffect(e,t)};G.useId=function(){return Be.current.useId()};G.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Be.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};G.useRef=function(e){return Be.current.useRef(e)};G.useState=function(e){return Be.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Be.current.useTransition()};G.version="18.3.1";Mg.exports=G;var m=Mg.exports;const Ue=Rg(m),Ba=A1({__proto__:null,default:Ue},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1=m,$1=Symbol.for("react.element"),J1=Symbol.for("react.fragment"),G1=Object.prototype.hasOwnProperty,Y1=z1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K1={key:!0,ref:!0,__self:!0,__source:!0};function Hg(e,t,n){var o,r={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(o in t)G1.call(t,o)&&!K1.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:$1,type:e,key:s,ref:i,props:r,_owner:Y1.current}}_a.Fragment=J1;_a.jsx=Hg;_a.jsxs=Hg;Ig.exports=_a;var d=Ig.exports,Oc={},zg={exports:{}},st={},$g={exports:{}},Jg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,A){var D=T.length;T.push(A);e:for(;0<D;){var I=D-1>>>1,W=T[I];if(0<r(W,A))T[I]=A,T[D]=W,D=I;else break e}}function n(T){return T.length===0?null:T[0]}function o(T){if(T.length===0)return null;var A=T[0],D=T.pop();if(D!==A){T[0]=D;e:for(var I=0,W=T.length,Q=W>>>1;I<Q;){var ye=2*(I+1)-1,De=T[ye],Le=ye+1,He=T[Le];if(0>r(De,D))Le<W&&0>r(He,De)?(T[I]=He,T[Le]=D,I=Le):(T[I]=De,T[ye]=D,I=ye);else if(Le<W&&0>r(He,D))T[I]=He,T[Le]=D,I=Le;else break e}}return A}function r(T,A){var D=T.sortIndex-A.sortIndex;return D!==0?D:T.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,f=null,p=3,y=!1,w=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var A=n(c);A!==null;){if(A.callback===null)o(c);else if(A.startTime<=T)o(c),A.sortIndex=A.expirationTime,t(l,A);else break;A=n(c)}}function S(T){if(v=!1,b(T),!w)if(n(l)!==null)w=!0,L(C);else{var A=n(c);A!==null&&B(S,A.startTime-T)}}function C(T,A){w=!1,v&&(v=!1,h(k),k=-1),y=!0;var D=p;try{for(b(A),f=n(l);f!==null&&(!(f.expirationTime>A)||T&&!F());){var I=f.callback;if(typeof I=="function"){f.callback=null,p=f.priorityLevel;var W=I(f.expirationTime<=A);A=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(l)&&o(l),b(A)}else o(l);f=n(l)}if(f!==null)var Q=!0;else{var ye=n(c);ye!==null&&B(S,ye.startTime-A),Q=!1}return Q}finally{f=null,p=D,y=!1}}var j=!1,E=null,k=-1,N=5,P=-1;function F(){return!(e.unstable_now()-P<N)}function U(){if(E!==null){var T=e.unstable_now();P=T;var A=!0;try{A=E(!0,T)}finally{A?H():(j=!1,E=null)}}else j=!1}var H;if(typeof g=="function")H=function(){g(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,R=M.port2;M.port1.onmessage=U,H=function(){R.postMessage(null)}}else H=function(){x(U,0)};function L(T){E=T,j||(j=!0,H())}function B(T,A){k=x(function(){T(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,L(C))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var D=p;p=A;try{return T()}finally{p=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,A){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var D=p;p=T;try{return A()}finally{p=D}},e.unstable_scheduleCallback=function(T,A,D){var I=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?I+D:I):D=I,T){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=D+W,T={id:u++,callback:A,priorityLevel:T,startTime:D,expirationTime:W,sortIndex:-1},D>I?(T.sortIndex=D,t(c,T),n(l)===null&&T===n(c)&&(v?(h(k),k=-1):v=!0,B(S,D-I))):(T.sortIndex=W,t(l,T),w||y||(w=!0,L(C))),T},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(T){var A=p;return function(){var D=p;p=A;try{return T.apply(this,arguments)}finally{p=D}}}})(Jg);$g.exports=Jg;var q1=$g.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1=m,ot=q1;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gg=new Set,is={};function uo(e,t){Qo(e,t),Qo(e+"Capture",t)}function Qo(e,t){for(is[e]=t,e=0;e<t.length;e++)Gg.add(t[e])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rc=Object.prototype.hasOwnProperty,X1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fp={},pp={};function Z1(e){return Rc.call(pp,e)?!0:Rc.call(fp,e)?!1:X1.test(e)?pp[e]=!0:(fp[e]=!0,!1)}function eS(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tS(e,t,n,o){if(t===null||typeof t>"u"||eS(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,o,r,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var rd=/[\-:]([a-z])/g;function sd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rd,sd);ke[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rd,sd);ke[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rd,sd);ke[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function id(e,t,n,o){var r=ke.hasOwnProperty(t)?ke[t]:null;(r!==null?r.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tS(t,n,r,o)&&(n=null),o||r===null?Z1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,o=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var ln=Q1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ni=Symbol.for("react.element"),Eo=Symbol.for("react.portal"),jo=Symbol.for("react.fragment"),ad=Symbol.for("react.strict_mode"),Ic=Symbol.for("react.profiler"),Yg=Symbol.for("react.provider"),Kg=Symbol.for("react.context"),ld=Symbol.for("react.forward_ref"),Mc=Symbol.for("react.suspense"),Dc=Symbol.for("react.suspense_list"),cd=Symbol.for("react.memo"),hn=Symbol.for("react.lazy"),qg=Symbol.for("react.offscreen"),mp=Symbol.iterator;function Er(e){return e===null||typeof e!="object"?null:(e=mp&&e[mp]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,Nl;function Dr(e){if(Nl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nl=t&&t[1]||""}return`
`+Nl+e}var Ol=!1;function Rl(e,t){if(!e||Ol)return"";Ol=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var o=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){o=c}e.call(t.prototype)}else{try{throw Error()}catch(c){o=c}e()}}catch(c){if(c&&o&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=o.stack.split(`
`),i=r.length-1,a=s.length-1;1<=i&&0<=a&&r[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(r[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||r[i]!==s[a]){var l=`
`+r[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{Ol=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Dr(e):""}function nS(e){switch(e.tag){case 5:return Dr(e.type);case 16:return Dr("Lazy");case 13:return Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 2:case 15:return e=Rl(e.type,!1),e;case 11:return e=Rl(e.type.render,!1),e;case 1:return e=Rl(e.type,!0),e;default:return""}}function Lc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jo:return"Fragment";case Eo:return"Portal";case Ic:return"Profiler";case ad:return"StrictMode";case Mc:return"Suspense";case Dc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kg:return(e.displayName||"Context")+".Consumer";case Yg:return(e._context.displayName||"Context")+".Provider";case ld:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cd:return t=e.displayName||null,t!==null?t:Lc(e.type)||"Memo";case hn:t=e._payload,e=e._init;try{return Lc(e(t))}catch{}}return null}function oS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lc(t);case 8:return t===ad?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rS(e){var t=Qg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(i){o=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(i){o=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oi(e){e._valueTracker||(e._valueTracker=rS(e))}function Xg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Qg(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fc(e,t){var n=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hp(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=Rn(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zg(e,t){t=t.checked,t!=null&&id(e,"checked",t,!1)}function Uc(e,t){Zg(e,t);var n=Rn(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_c(e,t.type,n):t.hasOwnProperty("defaultValue")&&_c(e,t.type,Rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _c(e,t,n){(t!=="number"||Yi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Lr=Array.isArray;function Vo(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+Rn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Bc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(Lr(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rn(n)}}function ey(e,t){var n=Rn(t.value),o=Rn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function vp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ty(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ty(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ri,ny=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ri=ri||document.createElement("div"),ri.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function as(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sS=["Webkit","ms","Moz","O"];Object.keys(zr).forEach(function(e){sS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zr[t]=zr[e]})});function oy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zr.hasOwnProperty(e)&&zr[e]?(""+t).trim():t+"px"}function ry(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=oy(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}var iS=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vc(e,t){if(t){if(iS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Hc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zc=null;function ud(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $c=null,Ho=null,zo=null;function bp(e){if(e=_s(e)){if(typeof $c!="function")throw Error(O(280));var t=e.stateNode;t&&(t=$a(t),$c(e.stateNode,e.type,t))}}function sy(e){Ho?zo?zo.push(e):zo=[e]:Ho=e}function iy(){if(Ho){var e=Ho,t=zo;if(zo=Ho=null,bp(e),t)for(e=0;e<t.length;e++)bp(t[e])}}function ay(e,t){return e(t)}function ly(){}var Il=!1;function cy(e,t,n){if(Il)return e(t,n);Il=!0;try{return ay(e,t,n)}finally{Il=!1,(Ho!==null||zo!==null)&&(ly(),iy())}}function ls(e,t){var n=e.stateNode;if(n===null)return null;var o=$a(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var Jc=!1;if(Xt)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){Jc=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{Jc=!1}function aS(e,t,n,o,r,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var $r=!1,Ki=null,qi=!1,Gc=null,lS={onError:function(e){$r=!0,Ki=e}};function cS(e,t,n,o,r,s,i,a,l){$r=!1,Ki=null,aS.apply(lS,arguments)}function uS(e,t,n,o,r,s,i,a,l){if(cS.apply(this,arguments),$r){if($r){var c=Ki;$r=!1,Ki=null}else throw Error(O(198));qi||(qi=!0,Gc=c)}}function fo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function uy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wp(e){if(fo(e)!==e)throw Error(O(188))}function dS(e){var t=e.alternate;if(!t){if(t=fo(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return wp(r),e;if(s===o)return wp(r),t;s=s.sibling}throw Error(O(188))}if(n.return!==o.return)n=r,o=s;else{for(var i=!1,a=r.child;a;){if(a===n){i=!0,n=r,o=s;break}if(a===o){i=!0,o=r,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,o=r;break}if(a===o){i=!0,o=s,n=r;break}a=a.sibling}if(!i)throw Error(O(189))}}if(n.alternate!==o)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function dy(e){return e=dS(e),e!==null?fy(e):null}function fy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fy(e);if(t!==null)return t;e=e.sibling}return null}var py=ot.unstable_scheduleCallback,xp=ot.unstable_cancelCallback,fS=ot.unstable_shouldYield,pS=ot.unstable_requestPaint,pe=ot.unstable_now,mS=ot.unstable_getCurrentPriorityLevel,dd=ot.unstable_ImmediatePriority,my=ot.unstable_UserBlockingPriority,Qi=ot.unstable_NormalPriority,hS=ot.unstable_LowPriority,hy=ot.unstable_IdlePriority,Wa=null,Mt=null;function gS(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Wa,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:bS,yS=Math.log,vS=Math.LN2;function bS(e){return e>>>=0,e===0?32:31-(yS(e)/vS|0)|0}var si=64,ii=4194304;function Fr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xi(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,r=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~r;a!==0?o=Fr(a):(s&=i,s!==0&&(o=Fr(s)))}else i=n&~r,i!==0?o=Fr(i):s!==0&&(o=Fr(s));if(o===0)return 0;if(t!==0&&t!==o&&!(t&r)&&(r=o&-o,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-Et(t),r=1<<n,o|=e[n],t&=~r;return o}function wS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xS(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Et(s),a=1<<i,l=r[i];l===-1?(!(a&n)||a&o)&&(r[i]=wS(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Yc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gy(){var e=si;return si<<=1,!(si&4194240)&&(si=64),e}function Ml(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=n}function SS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Et(n),s=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~s}}function fd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-Et(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var X=0;function yy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vy,pd,by,wy,xy,Kc=!1,ai=[],Sn=null,Cn=null,En=null,cs=new Map,us=new Map,yn=[],CS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sp(e,t){switch(e){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(t.pointerId)}}function kr(e,t,n,o,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:s,targetContainers:[r]},t!==null&&(t=_s(t),t!==null&&pd(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function ES(e,t,n,o,r){switch(t){case"focusin":return Sn=kr(Sn,e,t,n,o,r),!0;case"dragenter":return Cn=kr(Cn,e,t,n,o,r),!0;case"mouseover":return En=kr(En,e,t,n,o,r),!0;case"pointerover":var s=r.pointerId;return cs.set(s,kr(cs.get(s)||null,e,t,n,o,r)),!0;case"gotpointercapture":return s=r.pointerId,us.set(s,kr(us.get(s)||null,e,t,n,o,r)),!0}return!1}function Sy(e){var t=qn(e.target);if(t!==null){var n=fo(t);if(n!==null){if(t=n.tag,t===13){if(t=uy(n),t!==null){e.blockedOn=t,xy(e.priority,function(){by(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);zc=o,n.target.dispatchEvent(o),zc=null}else return t=_s(n),t!==null&&pd(t),e.blockedOn=n,!1;t.shift()}return!0}function Cp(e,t,n){Ri(e)&&n.delete(t)}function jS(){Kc=!1,Sn!==null&&Ri(Sn)&&(Sn=null),Cn!==null&&Ri(Cn)&&(Cn=null),En!==null&&Ri(En)&&(En=null),cs.forEach(Cp),us.forEach(Cp)}function Tr(e,t){e.blockedOn===t&&(e.blockedOn=null,Kc||(Kc=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,jS)))}function ds(e){function t(r){return Tr(r,e)}if(0<ai.length){Tr(ai[0],e);for(var n=1;n<ai.length;n++){var o=ai[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Sn!==null&&Tr(Sn,e),Cn!==null&&Tr(Cn,e),En!==null&&Tr(En,e),cs.forEach(t),us.forEach(t),n=0;n<yn.length;n++)o=yn[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<yn.length&&(n=yn[0],n.blockedOn===null);)Sy(n),n.blockedOn===null&&yn.shift()}var $o=ln.ReactCurrentBatchConfig,Zi=!0;function kS(e,t,n,o){var r=X,s=$o.transition;$o.transition=null;try{X=1,md(e,t,n,o)}finally{X=r,$o.transition=s}}function TS(e,t,n,o){var r=X,s=$o.transition;$o.transition=null;try{X=4,md(e,t,n,o)}finally{X=r,$o.transition=s}}function md(e,t,n,o){if(Zi){var r=qc(e,t,n,o);if(r===null)zl(e,t,o,ea,n),Sp(e,o);else if(ES(r,e,t,n,o))o.stopPropagation();else if(Sp(e,o),t&4&&-1<CS.indexOf(e)){for(;r!==null;){var s=_s(r);if(s!==null&&vy(s),s=qc(e,t,n,o),s===null&&zl(e,t,o,ea,n),s===r)break;r=s}r!==null&&o.stopPropagation()}else zl(e,t,o,null,n)}}var ea=null;function qc(e,t,n,o){if(ea=null,e=ud(o),e=qn(e),e!==null)if(t=fo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=uy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ea=e,null}function Cy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mS()){case dd:return 1;case my:return 4;case Qi:case hS:return 16;case hy:return 536870912;default:return 16}default:return 16}}var bn=null,hd=null,Ii=null;function Ey(){if(Ii)return Ii;var e,t=hd,n=t.length,o,r="value"in bn?bn.value:bn.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var i=n-e;for(o=1;o<=i&&t[n-o]===r[s-o];o++);return Ii=r.slice(e,1<o?1-o:void 0)}function Mi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function li(){return!0}function Ep(){return!1}function it(e){function t(n,o,r,s,i){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?li:Ep,this.isPropagationStopped=Ep,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),t}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gd=it(ur),Us=ce({},ur,{view:0,detail:0}),AS=it(Us),Dl,Ll,Ar,Va=ce({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ar&&(Ar&&e.type==="mousemove"?(Dl=e.screenX-Ar.screenX,Ll=e.screenY-Ar.screenY):Ll=Dl=0,Ar=e),Dl)},movementY:function(e){return"movementY"in e?e.movementY:Ll}}),jp=it(Va),PS=ce({},Va,{dataTransfer:0}),NS=it(PS),OS=ce({},Us,{relatedTarget:0}),Fl=it(OS),RS=ce({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),IS=it(RS),MS=ce({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),DS=it(MS),LS=ce({},ur,{data:0}),kp=it(LS),FS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},US={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_S={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_S[e])?!!t[e]:!1}function yd(){return BS}var WS=ce({},Us,{key:function(e){if(e.key){var t=FS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?US[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yd,charCode:function(e){return e.type==="keypress"?Mi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VS=it(WS),HS=ce({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tp=it(HS),zS=ce({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yd}),$S=it(zS),JS=ce({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),GS=it(JS),YS=ce({},Va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KS=it(YS),qS=[9,13,27,32],vd=Xt&&"CompositionEvent"in window,Jr=null;Xt&&"documentMode"in document&&(Jr=document.documentMode);var QS=Xt&&"TextEvent"in window&&!Jr,jy=Xt&&(!vd||Jr&&8<Jr&&11>=Jr),Ap=" ",Pp=!1;function ky(e,t){switch(e){case"keyup":return qS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ko=!1;function XS(e,t){switch(e){case"compositionend":return Ty(t);case"keypress":return t.which!==32?null:(Pp=!0,Ap);case"textInput":return e=t.data,e===Ap&&Pp?null:e;default:return null}}function ZS(e,t){if(ko)return e==="compositionend"||!vd&&ky(e,t)?(e=Ey(),Ii=hd=bn=null,ko=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jy&&t.locale!=="ko"?null:t.data;default:return null}}var eC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Np(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eC[e.type]:t==="textarea"}function Ay(e,t,n,o){sy(o),t=ta(t,"onChange"),0<t.length&&(n=new gd("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Gr=null,fs=null;function tC(e){_y(e,0)}function Ha(e){var t=Po(e);if(Xg(t))return e}function nC(e,t){if(e==="change")return t}var Py=!1;if(Xt){var Ul;if(Xt){var _l="oninput"in document;if(!_l){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),_l=typeof Op.oninput=="function"}Ul=_l}else Ul=!1;Py=Ul&&(!document.documentMode||9<document.documentMode)}function Rp(){Gr&&(Gr.detachEvent("onpropertychange",Ny),fs=Gr=null)}function Ny(e){if(e.propertyName==="value"&&Ha(fs)){var t=[];Ay(t,fs,e,ud(e)),cy(tC,t)}}function oC(e,t,n){e==="focusin"?(Rp(),Gr=t,fs=n,Gr.attachEvent("onpropertychange",Ny)):e==="focusout"&&Rp()}function rC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ha(fs)}function sC(e,t){if(e==="click")return Ha(t)}function iC(e,t){if(e==="input"||e==="change")return Ha(t)}function aC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:aC;function ps(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!Rc.call(t,r)||!kt(e[r],t[r]))return!1}return!0}function Ip(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mp(e,t){var n=Ip(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ip(n)}}function Oy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Oy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ry(){for(var e=window,t=Yi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yi(e.document)}return t}function bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lC(e){var t=Ry(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Oy(n.ownerDocument.documentElement,n)){if(o!==null&&bd(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(o.start,r);o=o.end===void 0?s:Math.min(o.end,r),!e.extend&&s>o&&(r=o,o=s,s=r),r=Mp(n,s);var i=Mp(n,o);r&&i&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>o?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cC=Xt&&"documentMode"in document&&11>=document.documentMode,To=null,Qc=null,Yr=null,Xc=!1;function Dp(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xc||To==null||To!==Yi(o)||(o=To,"selectionStart"in o&&bd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yr&&ps(Yr,o)||(Yr=o,o=ta(Qc,"onSelect"),0<o.length&&(t=new gd("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=To)))}function ci(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ao={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},Bl={},Iy={};Xt&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function za(e){if(Bl[e])return Bl[e];if(!Ao[e])return e;var t=Ao[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Iy)return Bl[e]=t[n];return e}var My=za("animationend"),Dy=za("animationiteration"),Ly=za("animationstart"),Fy=za("transitionend"),Uy=new Map,Lp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){Uy.set(e,t),uo(t,[e])}for(var Wl=0;Wl<Lp.length;Wl++){var Vl=Lp[Wl],uC=Vl.toLowerCase(),dC=Vl[0].toUpperCase()+Vl.slice(1);Un(uC,"on"+dC)}Un(My,"onAnimationEnd");Un(Dy,"onAnimationIteration");Un(Ly,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(Fy,"onTransitionEnd");Qo("onMouseEnter",["mouseout","mouseover"]);Qo("onMouseLeave",["mouseout","mouseover"]);Qo("onPointerEnter",["pointerout","pointerover"]);Qo("onPointerLeave",["pointerout","pointerover"]);uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Fp(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,uS(o,t,void 0,e),e.currentTarget=null}function _y(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var s=void 0;if(t)for(var i=o.length-1;0<=i;i--){var a=o[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Fp(r,a,c),s=l}else for(i=0;i<o.length;i++){if(a=o[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Fp(r,a,c),s=l}}}if(qi)throw e=Gc,qi=!1,Gc=null,e}function te(e,t){var n=t[ou];n===void 0&&(n=t[ou]=new Set);var o=e+"__bubble";n.has(o)||(By(t,e,2,!1),n.add(o))}function Hl(e,t,n){var o=0;t&&(o|=4),By(n,e,o,t)}var ui="_reactListening"+Math.random().toString(36).slice(2);function ms(e){if(!e[ui]){e[ui]=!0,Gg.forEach(function(n){n!=="selectionchange"&&(fC.has(n)||Hl(n,!1,e),Hl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ui]||(t[ui]=!0,Hl("selectionchange",!1,t))}}function By(e,t,n,o){switch(Cy(t)){case 1:var r=kS;break;case 4:r=TS;break;default:r=md}n=r.bind(null,t,n,e),r=void 0,!Jc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function zl(e,t,n,o,r){var s=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var i=o.tag;if(i===3||i===4){var a=o.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(i===4)for(i=o.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;i=i.return}for(;a!==null;){if(i=qn(a),i===null)return;if(l=i.tag,l===5||l===6){o=s=i;continue e}a=a.parentNode}}o=o.return}cy(function(){var c=s,u=ud(n),f=[];e:{var p=Uy.get(e);if(p!==void 0){var y=gd,w=e;switch(e){case"keypress":if(Mi(n)===0)break e;case"keydown":case"keyup":y=VS;break;case"focusin":w="focus",y=Fl;break;case"focusout":w="blur",y=Fl;break;case"beforeblur":case"afterblur":y=Fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=jp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=NS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=$S;break;case My:case Dy:case Ly:y=IS;break;case Fy:y=GS;break;case"scroll":y=AS;break;case"wheel":y=KS;break;case"copy":case"cut":case"paste":y=DS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Tp}var v=(t&4)!==0,x=!v&&e==="scroll",h=v?p!==null?p+"Capture":null:p;v=[];for(var g=c,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,h!==null&&(S=ls(g,h),S!=null&&v.push(hs(g,S,b)))),x)break;g=g.return}0<v.length&&(p=new y(p,w,null,n,u),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==zc&&(w=n.relatedTarget||n.fromElement)&&(qn(w)||w[Zt]))break e;if((y||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=c,w=w?qn(w):null,w!==null&&(x=fo(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=c),y!==w)){if(v=jp,S="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Tp,S="onPointerLeave",h="onPointerEnter",g="pointer"),x=y==null?p:Po(y),b=w==null?p:Po(w),p=new v(S,g+"leave",y,n,u),p.target=x,p.relatedTarget=b,S=null,qn(u)===c&&(v=new v(h,g+"enter",w,n,u),v.target=b,v.relatedTarget=x,S=v),x=S,y&&w)t:{for(v=y,h=w,g=0,b=v;b;b=bo(b))g++;for(b=0,S=h;S;S=bo(S))b++;for(;0<g-b;)v=bo(v),g--;for(;0<b-g;)h=bo(h),b--;for(;g--;){if(v===h||h!==null&&v===h.alternate)break t;v=bo(v),h=bo(h)}v=null}else v=null;y!==null&&Up(f,p,y,v,!1),w!==null&&x!==null&&Up(f,x,w,v,!0)}}e:{if(p=c?Po(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var C=nC;else if(Np(p))if(Py)C=iC;else{C=rC;var j=oC}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=sC);if(C&&(C=C(e,c))){Ay(f,C,n,u);break e}j&&j(e,p,c),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&_c(p,"number",p.value)}switch(j=c?Po(c):window,e){case"focusin":(Np(j)||j.contentEditable==="true")&&(To=j,Qc=c,Yr=null);break;case"focusout":Yr=Qc=To=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,Dp(f,n,u);break;case"selectionchange":if(cC)break;case"keydown":case"keyup":Dp(f,n,u)}var E;if(vd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ko?ky(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(jy&&n.locale!=="ko"&&(ko||k!=="onCompositionStart"?k==="onCompositionEnd"&&ko&&(E=Ey()):(bn=u,hd="value"in bn?bn.value:bn.textContent,ko=!0)),j=ta(c,k),0<j.length&&(k=new kp(k,e,null,n,u),f.push({event:k,listeners:j}),E?k.data=E:(E=Ty(n),E!==null&&(k.data=E)))),(E=QS?XS(e,n):ZS(e,n))&&(c=ta(c,"onBeforeInput"),0<c.length&&(u=new kp("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=E))}_y(f,t)})}function hs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ta(e,t){for(var n=t+"Capture",o=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=ls(e,n),s!=null&&o.unshift(hs(e,s,r)),s=ls(e,t),s!=null&&o.push(hs(e,s,r))),e=e.return}return o}function bo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Up(e,t,n,o,r){for(var s=t._reactName,i=[];n!==null&&n!==o;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===o)break;a.tag===5&&c!==null&&(a=c,r?(l=ls(n,s),l!=null&&i.unshift(hs(n,l,a))):r||(l=ls(n,s),l!=null&&i.push(hs(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var pC=/\r\n?/g,mC=/\u0000|\uFFFD/g;function _p(e){return(typeof e=="string"?e:""+e).replace(pC,`
`).replace(mC,"")}function di(e,t,n){if(t=_p(t),_p(e)!==t&&n)throw Error(O(425))}function na(){}var Zc=null,eu=null;function tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nu=typeof setTimeout=="function"?setTimeout:void 0,hC=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,gC=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(e){return Bp.resolve(null).then(e).catch(yC)}:nu;function yC(e){setTimeout(function(){throw e})}function $l(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){e.removeChild(r),ds(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);ds(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+dr,gs="__reactProps$"+dr,Zt="__reactContainer$"+dr,ou="__reactEvents$"+dr,vC="__reactListeners$"+dr,bC="__reactHandles$"+dr;function qn(e){var t=e[Ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zt]||n[Ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wp(e);e!==null;){if(n=e[Ot])return n;e=Wp(e)}return t}e=n,n=e.parentNode}return null}function _s(e){return e=e[Ot]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Po(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function $a(e){return e[gs]||null}var ru=[],No=-1;function _n(e){return{current:e}}function ne(e){0>No||(e.current=ru[No],ru[No]=null,No--)}function Z(e,t){No++,ru[No]=e.current,e.current=t}var In={},Ie=_n(In),Je=_n(!1),oo=In;function Xo(e,t){var n=e.type.contextTypes;if(!n)return In;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ge(e){return e=e.childContextTypes,e!=null}function oa(){ne(Je),ne(Ie)}function Vp(e,t,n){if(Ie.current!==In)throw Error(O(168));Z(Ie,t),Z(Je,n)}function Wy(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in t))throw Error(O(108,oS(e)||"Unknown",r));return ce({},n,o)}function ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||In,oo=Ie.current,Z(Ie,e),Z(Je,Je.current),!0}function Hp(e,t,n){var o=e.stateNode;if(!o)throw Error(O(169));n?(e=Wy(e,t,oo),o.__reactInternalMemoizedMergedChildContext=e,ne(Je),ne(Ie),Z(Ie,e)):ne(Je),Z(Je,n)}var Jt=null,Ja=!1,Jl=!1;function Vy(e){Jt===null?Jt=[e]:Jt.push(e)}function wC(e){Ja=!0,Vy(e)}function Bn(){if(!Jl&&Jt!==null){Jl=!0;var e=0,t=X;try{var n=Jt;for(X=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Jt=null,Ja=!1}catch(r){throw Jt!==null&&(Jt=Jt.slice(e+1)),py(dd,Bn),r}finally{X=t,Jl=!1}}return null}var Oo=[],Ro=0,sa=null,ia=0,ut=[],dt=0,ro=null,Gt=1,Yt="";function Jn(e,t){Oo[Ro++]=ia,Oo[Ro++]=sa,sa=e,ia=t}function Hy(e,t,n){ut[dt++]=Gt,ut[dt++]=Yt,ut[dt++]=ro,ro=e;var o=Gt;e=Yt;var r=32-Et(o)-1;o&=~(1<<r),n+=1;var s=32-Et(t)+r;if(30<s){var i=r-r%5;s=(o&(1<<i)-1).toString(32),o>>=i,r-=i,Gt=1<<32-Et(t)+r|n<<r|o,Yt=s+e}else Gt=1<<s|n<<r|o,Yt=e}function wd(e){e.return!==null&&(Jn(e,1),Hy(e,1,0))}function xd(e){for(;e===sa;)sa=Oo[--Ro],Oo[Ro]=null,ia=Oo[--Ro],Oo[Ro]=null;for(;e===ro;)ro=ut[--dt],ut[dt]=null,Yt=ut[--dt],ut[dt]=null,Gt=ut[--dt],ut[dt]=null}var et=null,Ze=null,re=!1,Ct=null;function zy(e,t){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,Ze=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ro!==null?{id:Gt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,Ze=null,!0):!1;default:return!1}}function su(e){return(e.mode&1)!==0&&(e.flags&128)===0}function iu(e){if(re){var t=Ze;if(t){var n=t;if(!zp(e,t)){if(su(e))throw Error(O(418));t=jn(n.nextSibling);var o=et;t&&zp(e,t)?zy(o,n):(e.flags=e.flags&-4097|2,re=!1,et=e)}}else{if(su(e))throw Error(O(418));e.flags=e.flags&-4097|2,re=!1,et=e}}}function $p(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function fi(e){if(e!==et)return!1;if(!re)return $p(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tu(e.type,e.memoizedProps)),t&&(t=Ze)){if(su(e))throw $y(),Error(O(418));for(;t;)zy(e,t),t=jn(t.nextSibling)}if($p(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=et?jn(e.stateNode.nextSibling):null;return!0}function $y(){for(var e=Ze;e;)e=jn(e.nextSibling)}function Zo(){Ze=et=null,re=!1}function Sd(e){Ct===null?Ct=[e]:Ct.push(e)}var xC=ln.ReactCurrentBatchConfig;function Pr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var o=n.stateNode}if(!o)throw Error(O(147,e));var r=o,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=r.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function pi(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jp(e){var t=e._init;return t(e._payload)}function Jy(e){function t(h,g){if(e){var b=h.deletions;b===null?(h.deletions=[g],h.flags|=16):b.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function o(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function r(h,g){return h=Pn(h,g),h.index=0,h.sibling=null,h}function s(h,g,b){return h.index=b,e?(b=h.alternate,b!==null?(b=b.index,b<g?(h.flags|=2,g):b):(h.flags|=2,g)):(h.flags|=1048576,g)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,g,b,S){return g===null||g.tag!==6?(g=Zl(b,h.mode,S),g.return=h,g):(g=r(g,b),g.return=h,g)}function l(h,g,b,S){var C=b.type;return C===jo?u(h,g,b.props.children,S,b.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hn&&Jp(C)===g.type)?(S=r(g,b.props),S.ref=Pr(h,g,b),S.return=h,S):(S=Wi(b.type,b.key,b.props,null,h.mode,S),S.ref=Pr(h,g,b),S.return=h,S)}function c(h,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=ec(b,h.mode,S),g.return=h,g):(g=r(g,b.children||[]),g.return=h,g)}function u(h,g,b,S,C){return g===null||g.tag!==7?(g=to(b,h.mode,S,C),g.return=h,g):(g=r(g,b),g.return=h,g)}function f(h,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Zl(""+g,h.mode,b),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ni:return b=Wi(g.type,g.key,g.props,null,h.mode,b),b.ref=Pr(h,null,g),b.return=h,b;case Eo:return g=ec(g,h.mode,b),g.return=h,g;case hn:var S=g._init;return f(h,S(g._payload),b)}if(Lr(g)||Er(g))return g=to(g,h.mode,b,null),g.return=h,g;pi(h,g)}return null}function p(h,g,b,S){var C=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(h,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ni:return b.key===C?l(h,g,b,S):null;case Eo:return b.key===C?c(h,g,b,S):null;case hn:return C=b._init,p(h,g,C(b._payload),S)}if(Lr(b)||Er(b))return C!==null?null:u(h,g,b,S,null);pi(h,b)}return null}function y(h,g,b,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(b)||null,a(g,h,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ni:return h=h.get(S.key===null?b:S.key)||null,l(g,h,S,C);case Eo:return h=h.get(S.key===null?b:S.key)||null,c(g,h,S,C);case hn:var j=S._init;return y(h,g,b,j(S._payload),C)}if(Lr(S)||Er(S))return h=h.get(b)||null,u(g,h,S,C,null);pi(g,S)}return null}function w(h,g,b,S){for(var C=null,j=null,E=g,k=g=0,N=null;E!==null&&k<b.length;k++){E.index>k?(N=E,E=null):N=E.sibling;var P=p(h,E,b[k],S);if(P===null){E===null&&(E=N);break}e&&E&&P.alternate===null&&t(h,E),g=s(P,g,k),j===null?C=P:j.sibling=P,j=P,E=N}if(k===b.length)return n(h,E),re&&Jn(h,k),C;if(E===null){for(;k<b.length;k++)E=f(h,b[k],S),E!==null&&(g=s(E,g,k),j===null?C=E:j.sibling=E,j=E);return re&&Jn(h,k),C}for(E=o(h,E);k<b.length;k++)N=y(E,h,k,b[k],S),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?k:N.key),g=s(N,g,k),j===null?C=N:j.sibling=N,j=N);return e&&E.forEach(function(F){return t(h,F)}),re&&Jn(h,k),C}function v(h,g,b,S){var C=Er(b);if(typeof C!="function")throw Error(O(150));if(b=C.call(b),b==null)throw Error(O(151));for(var j=C=null,E=g,k=g=0,N=null,P=b.next();E!==null&&!P.done;k++,P=b.next()){E.index>k?(N=E,E=null):N=E.sibling;var F=p(h,E,P.value,S);if(F===null){E===null&&(E=N);break}e&&E&&F.alternate===null&&t(h,E),g=s(F,g,k),j===null?C=F:j.sibling=F,j=F,E=N}if(P.done)return n(h,E),re&&Jn(h,k),C;if(E===null){for(;!P.done;k++,P=b.next())P=f(h,P.value,S),P!==null&&(g=s(P,g,k),j===null?C=P:j.sibling=P,j=P);return re&&Jn(h,k),C}for(E=o(h,E);!P.done;k++,P=b.next())P=y(E,h,k,P.value,S),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?k:P.key),g=s(P,g,k),j===null?C=P:j.sibling=P,j=P);return e&&E.forEach(function(U){return t(h,U)}),re&&Jn(h,k),C}function x(h,g,b,S){if(typeof b=="object"&&b!==null&&b.type===jo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ni:e:{for(var C=b.key,j=g;j!==null;){if(j.key===C){if(C=b.type,C===jo){if(j.tag===7){n(h,j.sibling),g=r(j,b.props.children),g.return=h,h=g;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hn&&Jp(C)===j.type){n(h,j.sibling),g=r(j,b.props),g.ref=Pr(h,j,b),g.return=h,h=g;break e}n(h,j);break}else t(h,j);j=j.sibling}b.type===jo?(g=to(b.props.children,h.mode,S,b.key),g.return=h,h=g):(S=Wi(b.type,b.key,b.props,null,h.mode,S),S.ref=Pr(h,g,b),S.return=h,h=S)}return i(h);case Eo:e:{for(j=b.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(h,g.sibling),g=r(g,b.children||[]),g.return=h,h=g;break e}else{n(h,g);break}else t(h,g);g=g.sibling}g=ec(b,h.mode,S),g.return=h,h=g}return i(h);case hn:return j=b._init,x(h,g,j(b._payload),S)}if(Lr(b))return w(h,g,b,S);if(Er(b))return v(h,g,b,S);pi(h,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(h,g.sibling),g=r(g,b),g.return=h,h=g):(n(h,g),g=Zl(b,h.mode,S),g.return=h,h=g),i(h)):n(h,g)}return x}var er=Jy(!0),Gy=Jy(!1),aa=_n(null),la=null,Io=null,Cd=null;function Ed(){Cd=Io=la=null}function jd(e){var t=aa.current;ne(aa),e._currentValue=t}function au(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Jo(e,t){la=e,Cd=Io=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(Cd!==e)if(e={context:e,memoizedValue:t,next:null},Io===null){if(la===null)throw Error(O(308));Io=e,la.dependencies={lanes:0,firstContext:e}}else Io=Io.next=e;return t}var Qn=null;function kd(e){Qn===null?Qn=[e]:Qn.push(e)}function Yy(e,t,n,o){var r=t.interleaved;return r===null?(n.next=n,kd(t)):(n.next=r.next,r.next=n),t.interleaved=n,en(e,o)}function en(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var gn=!1;function Td(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ky(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kn(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var r=o.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),o.pending=t,en(e,n)}return r=o.interleaved,r===null?(t.next=t,kd(o)):(t.next=r.next,r.next=t),o.interleaved=t,en(e,n)}function Di(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,fd(e,n)}}function Gp(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ca(e,t,n,o){var r=e.updateQueue;gn=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;i=0,u=c=l=null,a=s;do{var p=a.lane,y=a.eventTime;if((o&p)===p){u!==null&&(u=u.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,v=a;switch(p=t,y=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(y,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(y,f,p):w,p==null)break e;f=ce({},f,p);break e;case 2:gn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=y,l=f):u=u.next=y,i|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(u===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,t=r.shared.interleaved,t!==null){r=t;do i|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);io|=i,e.lanes=i,e.memoizedState=f}}function Yp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(O(191,r));r.call(o)}}}var Bs={},Dt=_n(Bs),ys=_n(Bs),vs=_n(Bs);function Xn(e){if(e===Bs)throw Error(O(174));return e}function Ad(e,t){switch(Z(vs,t),Z(ys,e),Z(Dt,Bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wc(t,e)}ne(Dt),Z(Dt,t)}function tr(){ne(Dt),ne(ys),ne(vs)}function qy(e){Xn(vs.current);var t=Xn(Dt.current),n=Wc(t,e.type);t!==n&&(Z(ys,e),Z(Dt,n))}function Pd(e){ys.current===e&&(ne(Dt),ne(ys))}var ie=_n(0);function ua(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gl=[];function Nd(){for(var e=0;e<Gl.length;e++)Gl[e]._workInProgressVersionPrimary=null;Gl.length=0}var Li=ln.ReactCurrentDispatcher,Yl=ln.ReactCurrentBatchConfig,so=0,le=null,ve=null,xe=null,da=!1,Kr=!1,bs=0,SC=0;function Te(){throw Error(O(321))}function Od(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function Rd(e,t,n,o,r,s){if(so=s,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Li.current=e===null||e.memoizedState===null?kC:TC,e=n(o,r),Kr){s=0;do{if(Kr=!1,bs=0,25<=s)throw Error(O(301));s+=1,xe=ve=null,t.updateQueue=null,Li.current=AC,e=n(o,r)}while(Kr)}if(Li.current=fa,t=ve!==null&&ve.next!==null,so=0,xe=ve=le=null,da=!1,t)throw Error(O(300));return e}function Id(){var e=bs!==0;return bs=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?le.memoizedState=xe=e:xe=xe.next=e,xe}function gt(){if(ve===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=xe===null?le.memoizedState:xe.next;if(t!==null)xe=t,ve=e;else{if(e===null)throw Error(O(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},xe===null?le.memoizedState=xe=e:xe=xe.next=e}return xe}function ws(e,t){return typeof t=="function"?t(e):t}function Kl(e){var t=gt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var o=ve,r=o.baseQueue,s=n.pending;if(s!==null){if(r!==null){var i=r.next;r.next=s.next,s.next=i}o.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,o=o.baseState;var a=i=null,l=null,c=s;do{var u=c.lane;if((so&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:e(o,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,i=o):l=l.next=f,le.lanes|=u,io|=u}c=c.next}while(c!==null&&c!==s);l===null?i=o:l.next=a,kt(o,t.memoizedState)||($e=!0),t.memoizedState=o,t.baseState=i,t.baseQueue=l,n.lastRenderedState=o}if(e=n.interleaved,e!==null){r=e;do s=r.lane,le.lanes|=s,io|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ql(e){var t=gt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var i=r=r.next;do s=e(s,i.action),i=i.next;while(i!==r);kt(s,t.memoizedState)||($e=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,o]}function Qy(){}function Xy(e,t){var n=le,o=gt(),r=t(),s=!kt(o.memoizedState,r);if(s&&(o.memoizedState=r,$e=!0),o=o.queue,Md(tv.bind(null,n,o,e),[e]),o.getSnapshot!==t||s||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,xs(9,ev.bind(null,n,o,r,t),void 0,null),Se===null)throw Error(O(349));so&30||Zy(n,t,r)}return r}function Zy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ev(e,t,n,o){t.value=n,t.getSnapshot=o,nv(t)&&ov(e)}function tv(e,t,n){return n(function(){nv(t)&&ov(e)})}function nv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function ov(e){var t=en(e,1);t!==null&&jt(t,e,1,-1)}function Kp(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=jC.bind(null,le,e),[t.memoizedState,e]}function xs(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function rv(){return gt().memoizedState}function Fi(e,t,n,o){var r=Nt();le.flags|=e,r.memoizedState=xs(1|t,n,void 0,o===void 0?null:o)}function Ga(e,t,n,o){var r=gt();o=o===void 0?null:o;var s=void 0;if(ve!==null){var i=ve.memoizedState;if(s=i.destroy,o!==null&&Od(o,i.deps)){r.memoizedState=xs(t,n,s,o);return}}le.flags|=e,r.memoizedState=xs(1|t,n,s,o)}function qp(e,t){return Fi(8390656,8,e,t)}function Md(e,t){return Ga(2048,8,e,t)}function sv(e,t){return Ga(4,2,e,t)}function iv(e,t){return Ga(4,4,e,t)}function av(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lv(e,t,n){return n=n!=null?n.concat([e]):null,Ga(4,4,av.bind(null,t,e),n)}function Dd(){}function cv(e,t){var n=gt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Od(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function uv(e,t){var n=gt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Od(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function dv(e,t,n){return so&21?(kt(n,t)||(n=gy(),le.lanes|=n,io|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=n)}function CC(e,t){var n=X;X=n!==0&&4>n?n:4,e(!0);var o=Yl.transition;Yl.transition={};try{e(!1),t()}finally{X=n,Yl.transition=o}}function fv(){return gt().memoizedState}function EC(e,t,n){var o=An(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},pv(e))mv(t,n);else if(n=Yy(e,t,n,o),n!==null){var r=_e();jt(n,e,o,r),hv(n,t,o)}}function jC(e,t,n){var o=An(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(pv(e))mv(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(r.hasEagerState=!0,r.eagerState=a,kt(a,i)){var l=t.interleaved;l===null?(r.next=r,kd(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=Yy(e,t,r,o),n!==null&&(r=_e(),jt(n,e,o,r),hv(n,t,o))}}function pv(e){var t=e.alternate;return e===le||t!==null&&t===le}function mv(e,t){Kr=da=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hv(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,fd(e,n)}}var fa={readContext:ht,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},kC={readContext:ht,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:qp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fi(4194308,4,av.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fi(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Nt();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=EC.bind(null,le,e),[o.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:Kp,useDebugValue:Dd,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=Kp(!1),t=e[0];return e=CC.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=le,r=Nt();if(re){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),Se===null)throw Error(O(349));so&30||Zy(o,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,qp(tv.bind(null,o,s,e),[e]),o.flags|=2048,xs(9,ev.bind(null,o,s,n,t),void 0,null),n},useId:function(){var e=Nt(),t=Se.identifierPrefix;if(re){var n=Yt,o=Gt;n=(o&~(1<<32-Et(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=bs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=SC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},TC={readContext:ht,useCallback:cv,useContext:ht,useEffect:Md,useImperativeHandle:lv,useInsertionEffect:sv,useLayoutEffect:iv,useMemo:uv,useReducer:Kl,useRef:rv,useState:function(){return Kl(ws)},useDebugValue:Dd,useDeferredValue:function(e){var t=gt();return dv(t,ve.memoizedState,e)},useTransition:function(){var e=Kl(ws)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Qy,useSyncExternalStore:Xy,useId:fv,unstable_isNewReconciler:!1},AC={readContext:ht,useCallback:cv,useContext:ht,useEffect:Md,useImperativeHandle:lv,useInsertionEffect:sv,useLayoutEffect:iv,useMemo:uv,useReducer:ql,useRef:rv,useState:function(){return ql(ws)},useDebugValue:Dd,useDeferredValue:function(e){var t=gt();return ve===null?t.memoizedState=e:dv(t,ve.memoizedState,e)},useTransition:function(){var e=ql(ws)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Qy,useSyncExternalStore:Xy,useId:fv,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function lu(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ya={isMounted:function(e){return(e=e._reactInternals)?fo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=_e(),r=An(e),s=Kt(o,r);s.payload=t,n!=null&&(s.callback=n),t=kn(e,s,r),t!==null&&(jt(t,e,r,o),Di(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=_e(),r=An(e),s=Kt(o,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=kn(e,s,r),t!==null&&(jt(t,e,r,o),Di(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_e(),o=An(e),r=Kt(n,o);r.tag=2,t!=null&&(r.callback=t),t=kn(e,r,o),t!==null&&(jt(t,e,o,n),Di(t,e,o))}};function Qp(e,t,n,o,r,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,s,i):t.prototype&&t.prototype.isPureReactComponent?!ps(n,o)||!ps(r,s):!0}function gv(e,t,n){var o=!1,r=In,s=t.contextType;return typeof s=="object"&&s!==null?s=ht(s):(r=Ge(t)?oo:Ie.current,o=t.contextTypes,s=(o=o!=null)?Xo(e,r):In),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ya,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function Xp(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Ya.enqueueReplaceState(t,t.state,null)}function cu(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Td(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=ht(s):(s=Ge(t)?oo:Ie.current,r.context=Xo(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(lu(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Ya.enqueueReplaceState(r,r.state,null),ca(e,n,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function nr(e,t){try{var n="",o=t;do n+=nS(o),o=o.return;while(o);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function Ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var PC=typeof WeakMap=="function"?WeakMap:Map;function yv(e,t,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){ma||(ma=!0,wu=o),uu(e,t)},n}function vv(e,t,n){n=Kt(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){uu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){uu(e,t),typeof o!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Zp(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new PC;var r=new Set;o.set(t,r)}else r=o.get(t),r===void 0&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=HC.bind(null,e,t,n),t.then(e,e))}function em(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tm(e,t,n,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kt(-1,1),t.tag=2,kn(n,t,1))),n.lanes|=1),e)}var NC=ln.ReactCurrentOwner,$e=!1;function Fe(e,t,n,o){t.child=e===null?Gy(t,null,n,o):er(t,e.child,n,o)}function nm(e,t,n,o,r){n=n.render;var s=t.ref;return Jo(t,r),o=Rd(e,t,n,o,s,r),n=Id(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,tn(e,t,r)):(re&&n&&wd(t),t.flags|=1,Fe(e,t,o,r),t.child)}function om(e,t,n,o,r){if(e===null){var s=n.type;return typeof s=="function"&&!Hd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,bv(e,t,s,o,r)):(e=Wi(n.type,null,o,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:ps,n(i,o)&&e.ref===t.ref)return tn(e,t,r)}return t.flags|=1,e=Pn(s,o),e.ref=t.ref,e.return=t,t.child=e}function bv(e,t,n,o,r){if(e!==null){var s=e.memoizedProps;if(ps(s,o)&&e.ref===t.ref)if($e=!1,t.pendingProps=o=s,(e.lanes&r)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,tn(e,t,r)}return du(e,t,n,o,r)}function wv(e,t,n){var o=t.pendingProps,r=o.children,s=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Do,qe),qe|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(Do,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=s!==null?s.baseLanes:n,Z(Do,qe),qe|=o}else s!==null?(o=s.baseLanes|n,t.memoizedState=null):o=n,Z(Do,qe),qe|=o;return Fe(e,t,r,n),t.child}function xv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function du(e,t,n,o,r){var s=Ge(n)?oo:Ie.current;return s=Xo(t,s),Jo(t,r),n=Rd(e,t,n,o,s,r),o=Id(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,tn(e,t,r)):(re&&o&&wd(t),t.flags|=1,Fe(e,t,n,r),t.child)}function rm(e,t,n,o,r){if(Ge(n)){var s=!0;ra(t)}else s=!1;if(Jo(t,r),t.stateNode===null)Ui(e,t),gv(t,n,o),cu(t,n,o,r),o=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=ht(c):(c=Ge(n)?oo:Ie.current,c=Xo(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==o||l!==c)&&Xp(t,i,o,c),gn=!1;var p=t.memoizedState;i.state=p,ca(t,o,i,r),l=t.memoizedState,a!==o||p!==l||Je.current||gn?(typeof u=="function"&&(lu(t,n,u,o),l=t.memoizedState),(a=gn||Qp(t,n,a,o,p,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=l),i.props=o,i.state=l,i.context=c,o=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{i=t.stateNode,Ky(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:xt(t.type,a),i.props=c,f=t.pendingProps,p=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=ht(l):(l=Ge(n)?oo:Ie.current,l=Xo(t,l));var y=n.getDerivedStateFromProps;(u=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Xp(t,i,o,l),gn=!1,p=t.memoizedState,i.state=p,ca(t,o,i,r);var w=t.memoizedState;a!==f||p!==w||Je.current||gn?(typeof y=="function"&&(lu(t,n,y,o),w=t.memoizedState),(c=gn||Qp(t,n,c,o,p,w,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(o,w,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(o,w,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=w),i.props=o,i.state=w,i.context=l,o=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return fu(e,t,n,o,s,r)}function fu(e,t,n,o,r,s){xv(e,t);var i=(t.flags&128)!==0;if(!o&&!i)return r&&Hp(t,n,!1),tn(e,t,s);o=t.stateNode,NC.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&i?(t.child=er(t,e.child,null,s),t.child=er(t,null,a,s)):Fe(e,t,a,s),t.memoizedState=o.state,r&&Hp(t,n,!0),t.child}function Sv(e){var t=e.stateNode;t.pendingContext?Vp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vp(e,t.context,!1),Ad(e,t.containerInfo)}function sm(e,t,n,o,r){return Zo(),Sd(r),t.flags|=256,Fe(e,t,n,o),t.child}var pu={dehydrated:null,treeContext:null,retryLane:0};function mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cv(e,t,n){var o=t.pendingProps,r=ie.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Z(ie,r&1),e===null)return iu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=o.children,e=o.fallback,s?(o=t.mode,s=t.child,i={mode:"hidden",children:i},!(o&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Qa(i,o,0,null),e=to(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=mu(n),t.memoizedState=pu,e):Ld(t,i));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return OC(e,t,i,o,a,r,n);if(s){s=o.fallback,i=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:o.children};return!(i&1)&&t.child!==r?(o=t.child,o.childLanes=0,o.pendingProps=l,t.deletions=null):(o=Pn(r,l),o.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Pn(a,s):(s=to(s,i,n,null),s.flags|=2),s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,i=e.child.memoizedState,i=i===null?mu(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=pu,o}return s=e.child,e=s.sibling,o=Pn(s,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ld(e,t){return t=Qa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mi(e,t,n,o){return o!==null&&Sd(o),er(t,e.child,null,n),e=Ld(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function OC(e,t,n,o,r,s,i){if(n)return t.flags&256?(t.flags&=-257,o=Ql(Error(O(422))),mi(e,t,i,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=o.fallback,r=t.mode,o=Qa({mode:"visible",children:o.children},r,0,null),s=to(s,r,i,null),s.flags|=2,o.return=t,s.return=t,o.sibling=s,t.child=o,t.mode&1&&er(t,e.child,null,i),t.child.memoizedState=mu(i),t.memoizedState=pu,s);if(!(t.mode&1))return mi(e,t,i,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var a=o.dgst;return o=a,s=Error(O(419)),o=Ql(s,o,void 0),mi(e,t,i,o)}if(a=(i&e.childLanes)!==0,$e||a){if(o=Se,o!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|i)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,en(e,r),jt(o,e,r,-1))}return Vd(),o=Ql(Error(O(421))),mi(e,t,i,o)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=zC.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,Ze=jn(r.nextSibling),et=t,re=!0,Ct=null,e!==null&&(ut[dt++]=Gt,ut[dt++]=Yt,ut[dt++]=ro,Gt=e.id,Yt=e.overflow,ro=t),t=Ld(t,o.children),t.flags|=4096,t)}function im(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),au(e.return,t,n)}function Xl(e,t,n,o,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=o,s.tail=n,s.tailMode=r)}function Ev(e,t,n){var o=t.pendingProps,r=o.revealOrder,s=o.tail;if(Fe(e,t,o.children,n),o=ie.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&im(e,n,t);else if(e.tag===19)im(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Z(ie,o),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ua(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Xl(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ua(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Xl(t,!0,n,null,s);break;case"together":Xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ui(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),io|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=Pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function RC(e,t,n){switch(t.tag){case 3:Sv(t),Zo();break;case 5:qy(t);break;case 1:Ge(t.type)&&ra(t);break;case 4:Ad(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;Z(aa,o._currentValue),o._currentValue=r;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Z(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?Cv(e,t,n):(Z(ie,ie.current&1),e=tn(e,t,n),e!==null?e.sibling:null);Z(ie,ie.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return Ev(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Z(ie,ie.current),o)break;return null;case 22:case 23:return t.lanes=0,wv(e,t,n)}return tn(e,t,n)}var jv,hu,kv,Tv;jv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hu=function(){};kv=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,Xn(Dt.current);var s=null;switch(n){case"input":r=Fc(e,r),o=Fc(e,o),s=[];break;case"select":r=ce({},r,{value:void 0}),o=ce({},o,{value:void 0}),s=[];break;case"textarea":r=Bc(e,r),o=Bc(e,o),s=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=na)}Vc(n,o);var i;n=null;for(c in r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(is.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in o){var l=o[c];if(a=r!=null?r[c]:void 0,o.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(is.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&te("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Tv=function(e,t,n,o){n!==o&&(t.flags|=4)};function Nr(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function IC(e,t,n){var o=t.pendingProps;switch(xd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ge(t.type)&&oa(),Ae(t),null;case 3:return o=t.stateNode,tr(),ne(Je),ne(Ie),Nd(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&(Cu(Ct),Ct=null))),hu(e,t),Ae(t),null;case 5:Pd(t);var r=Xn(vs.current);if(n=t.type,e!==null&&t.stateNode!=null)kv(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(O(166));return Ae(t),null}if(e=Xn(Dt.current),fi(t)){o=t.stateNode,n=t.type;var s=t.memoizedProps;switch(o[Ot]=t,o[gs]=s,e=(t.mode&1)!==0,n){case"dialog":te("cancel",o),te("close",o);break;case"iframe":case"object":case"embed":te("load",o);break;case"video":case"audio":for(r=0;r<Ur.length;r++)te(Ur[r],o);break;case"source":te("error",o);break;case"img":case"image":case"link":te("error",o),te("load",o);break;case"details":te("toggle",o);break;case"input":hp(o,s),te("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},te("invalid",o);break;case"textarea":yp(o,s),te("invalid",o)}Vc(n,s),r=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?o.textContent!==a&&(s.suppressHydrationWarning!==!0&&di(o.textContent,a,e),r=["children",a]):typeof a=="number"&&o.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&di(o.textContent,a,e),r=["children",""+a]):is.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&te("scroll",o)}switch(n){case"input":oi(o),gp(o,s,!0);break;case"textarea":oi(o),vp(o);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(o.onclick=na)}o=r,t.updateQueue=o,o!==null&&(t.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ty(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=i.createElement(n,{is:o.is}):(e=i.createElement(n),n==="select"&&(i=e,o.multiple?i.multiple=!0:o.size&&(i.size=o.size))):e=i.createElementNS(e,n),e[Ot]=t,e[gs]=o,jv(e,t,!1,!1),t.stateNode=e;e:{switch(i=Hc(n,o),n){case"dialog":te("cancel",e),te("close",e),r=o;break;case"iframe":case"object":case"embed":te("load",e),r=o;break;case"video":case"audio":for(r=0;r<Ur.length;r++)te(Ur[r],e);r=o;break;case"source":te("error",e),r=o;break;case"img":case"image":case"link":te("error",e),te("load",e),r=o;break;case"details":te("toggle",e),r=o;break;case"input":hp(e,o),r=Fc(e,o),te("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=ce({},o,{value:void 0}),te("invalid",e);break;case"textarea":yp(e,o),r=Bc(e,o),te("invalid",e);break;default:r=o}Vc(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ry(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ny(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&as(e,l):typeof l=="number"&&as(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(is.hasOwnProperty(s)?l!=null&&s==="onScroll"&&te("scroll",e):l!=null&&id(e,s,l,i))}switch(n){case"input":oi(e),gp(e,o,!1);break;case"textarea":oi(e),vp(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Rn(o.value));break;case"select":e.multiple=!!o.multiple,s=o.value,s!=null?Vo(e,!!o.multiple,s,!1):o.defaultValue!=null&&Vo(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=na)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)Tv(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(O(166));if(n=Xn(vs.current),Xn(Dt.current),fi(t)){if(o=t.stateNode,n=t.memoizedProps,o[Ot]=t,(s=o.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:di(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&di(o.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Ot]=t,t.stateNode=o}return Ae(t),null;case 13:if(ne(ie),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Ze!==null&&t.mode&1&&!(t.flags&128))$y(),Zo(),t.flags|=98560,s=!1;else if(s=fi(t),o!==null&&o.dehydrated!==null){if(e===null){if(!s)throw Error(O(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[Ot]=t}else Zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),s=!1}else Ct!==null&&(Cu(Ct),Ct=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?we===0&&(we=3):Vd())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return tr(),hu(e,t),e===null&&ms(t.stateNode.containerInfo),Ae(t),null;case 10:return jd(t.type._context),Ae(t),null;case 17:return Ge(t.type)&&oa(),Ae(t),null;case 19:if(ne(ie),s=t.memoizedState,s===null)return Ae(t),null;if(o=(t.flags&128)!==0,i=s.rendering,i===null)if(o)Nr(s,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ua(e),i!==null){for(t.flags|=128,Nr(s,!1),o=i.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)s=n,e=o,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(ie,ie.current&1|2),t.child}e=e.sibling}s.tail!==null&&pe()>or&&(t.flags|=128,o=!0,Nr(s,!1),t.lanes=4194304)}else{if(!o)if(e=ua(i),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Nr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!re)return Ae(t),null}else 2*pe()-s.renderingStartTime>or&&n!==1073741824&&(t.flags|=128,o=!0,Nr(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=pe(),t.sibling=null,n=ie.current,Z(ie,o?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return Wd(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?qe&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function MC(e,t){switch(xd(t),t.tag){case 1:return Ge(t.type)&&oa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tr(),ne(Je),ne(Ie),Nd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pd(t),null;case 13:if(ne(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(ie),null;case 4:return tr(),null;case 10:return jd(t.type._context),null;case 22:case 23:return Wd(),null;case 24:return null;default:return null}}var hi=!1,Ne=!1,DC=typeof WeakSet=="function"?WeakSet:Set,_=null;function Mo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){de(e,t,o)}else n.current=null}function gu(e,t,n){try{n()}catch(o){de(e,t,o)}}var am=!1;function LC(e,t){if(Zc=Zi,e=Ry(),bd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,s=o.focusNode;o=o.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,u=0,f=e,p=null;t:for(;;){for(var y;f!==n||r!==0&&f.nodeType!==3||(a=i+r),f!==s||o!==0&&f.nodeType!==3||(l=i+o),f.nodeType===3&&(i+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===e)break t;if(p===n&&++c===r&&(a=i),p===s&&++u===o&&(l=i),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(eu={focusedElem:e,selectionRange:n},Zi=!1,_=t;_!==null;)if(t=_,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_=e;else for(;_!==null;){t=_;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,x=w.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:xt(t.type,v),x);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(S){de(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,_=e;break}_=t.return}return w=am,am=!1,w}function qr(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&gu(t,n,s)}r=r.next}while(r!==o)}}function Ka(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function yu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Av(e){var t=e.alternate;t!==null&&(e.alternate=null,Av(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[gs],delete t[ou],delete t[vC],delete t[bC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pv(e){return e.tag===5||e.tag===3||e.tag===4}function lm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vu(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=na));else if(o!==4&&(e=e.child,e!==null))for(vu(e,t,n),e=e.sibling;e!==null;)vu(e,t,n),e=e.sibling}function bu(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}var Ce=null,St=!1;function un(e,t,n){for(n=n.child;n!==null;)Nv(e,t,n),n=n.sibling}function Nv(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Wa,n)}catch{}switch(n.tag){case 5:Ne||Mo(n,t);case 6:var o=Ce,r=St;Ce=null,un(e,t,n),Ce=o,St=r,Ce!==null&&(St?(e=Ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(St?(e=Ce,n=n.stateNode,e.nodeType===8?$l(e.parentNode,n):e.nodeType===1&&$l(e,n),ds(e)):$l(Ce,n.stateNode));break;case 4:o=Ce,r=St,Ce=n.stateNode.containerInfo,St=!0,un(e,t,n),Ce=o,St=r;break;case 0:case 11:case 14:case 15:if(!Ne&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var s=r,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&gu(n,t,i),r=r.next}while(r!==o)}un(e,t,n);break;case 1:if(!Ne&&(Mo(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(a){de(n,t,a)}un(e,t,n);break;case 21:un(e,t,n);break;case 22:n.mode&1?(Ne=(o=Ne)||n.memoizedState!==null,un(e,t,n),Ne=o):un(e,t,n);break;default:un(e,t,n)}}function cm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new DC),t.forEach(function(o){var r=$C.bind(null,e,o);n.has(o)||(n.add(o),o.then(r,r))})}}function bt(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ce=a.stateNode,St=!1;break e;case 3:Ce=a.stateNode.containerInfo,St=!0;break e;case 4:Ce=a.stateNode.containerInfo,St=!0;break e}a=a.return}if(Ce===null)throw Error(O(160));Nv(s,i,r),Ce=null,St=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){de(r,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ov(t,e),t=t.sibling}function Ov(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),Pt(e),o&4){try{qr(3,e,e.return),Ka(3,e)}catch(v){de(e,e.return,v)}try{qr(5,e,e.return)}catch(v){de(e,e.return,v)}}break;case 1:bt(t,e),Pt(e),o&512&&n!==null&&Mo(n,n.return);break;case 5:if(bt(t,e),Pt(e),o&512&&n!==null&&Mo(n,n.return),e.flags&32){var r=e.stateNode;try{as(r,"")}catch(v){de(e,e.return,v)}}if(o&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Zg(r,s),Hc(a,i);var c=Hc(a,s);for(i=0;i<l.length;i+=2){var u=l[i],f=l[i+1];u==="style"?ry(r,f):u==="dangerouslySetInnerHTML"?ny(r,f):u==="children"?as(r,f):id(r,u,f,c)}switch(a){case"input":Uc(r,s);break;case"textarea":ey(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Vo(r,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?Vo(r,!!s.multiple,s.defaultValue,!0):Vo(r,!!s.multiple,s.multiple?[]:"",!1))}r[gs]=s}catch(v){de(e,e.return,v)}}break;case 6:if(bt(t,e),Pt(e),o&4){if(e.stateNode===null)throw Error(O(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(v){de(e,e.return,v)}}break;case 3:if(bt(t,e),Pt(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{ds(t.containerInfo)}catch(v){de(e,e.return,v)}break;case 4:bt(t,e),Pt(e);break;case 13:bt(t,e),Pt(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(_d=pe())),o&4&&cm(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(c=Ne)||u,bt(t,e),Ne=c):bt(t,e),Pt(e),o&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(_=e,u=e.child;u!==null;){for(f=_=u;_!==null;){switch(p=_,y=p.child,p.tag){case 0:case 11:case 14:case 15:qr(4,p,p.return);break;case 1:Mo(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){o=p,n=p.return;try{t=o,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){de(o,n,v)}}break;case 5:Mo(p,p.return);break;case 22:if(p.memoizedState!==null){dm(f);continue}}y!==null?(y.return=p,_=y):dm(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{r=f.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=oy("display",i))}catch(v){de(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){de(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bt(t,e),Pt(e),o&4&&cm(e);break;case 21:break;default:bt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Pv(n)){var o=n;break e}n=n.return}throw Error(O(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(as(r,""),o.flags&=-33);var s=lm(e);bu(e,s,r);break;case 3:case 4:var i=o.stateNode.containerInfo,a=lm(e);vu(e,a,i);break;default:throw Error(O(161))}}catch(l){de(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FC(e,t,n){_=e,Rv(e)}function Rv(e,t,n){for(var o=(e.mode&1)!==0;_!==null;){var r=_,s=r.child;if(r.tag===22&&o){var i=r.memoizedState!==null||hi;if(!i){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Ne;a=hi;var c=Ne;if(hi=i,(Ne=l)&&!c)for(_=r;_!==null;)i=_,l=i.child,i.tag===22&&i.memoizedState!==null?fm(r):l!==null?(l.return=i,_=l):fm(r);for(;s!==null;)_=s,Rv(s),s=s.sibling;_=r,hi=a,Ne=c}um(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,_=s):um(e)}}function um(e){for(;_!==null;){var t=_;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||Ka(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ne)if(n===null)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Yp(t,s,o);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Yp(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&ds(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ne||t.flags&512&&yu(t)}catch(p){de(t,t.return,p)}}if(t===e){_=null;break}if(n=t.sibling,n!==null){n.return=t.return,_=n;break}_=t.return}}function dm(e){for(;_!==null;){var t=_;if(t===e){_=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_=n;break}_=t.return}}function fm(e){for(;_!==null;){var t=_;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ka(4,t)}catch(l){de(t,n,l)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var r=t.return;try{o.componentDidMount()}catch(l){de(t,r,l)}}var s=t.return;try{yu(t)}catch(l){de(t,s,l)}break;case 5:var i=t.return;try{yu(t)}catch(l){de(t,i,l)}}}catch(l){de(t,t.return,l)}if(t===e){_=null;break}var a=t.sibling;if(a!==null){a.return=t.return,_=a;break}_=t.return}}var UC=Math.ceil,pa=ln.ReactCurrentDispatcher,Fd=ln.ReactCurrentOwner,pt=ln.ReactCurrentBatchConfig,K=0,Se=null,me=null,je=0,qe=0,Do=_n(0),we=0,Ss=null,io=0,qa=0,Ud=0,Qr=null,ze=null,_d=0,or=1/0,$t=null,ma=!1,wu=null,Tn=null,gi=!1,wn=null,ha=0,Xr=0,xu=null,_i=-1,Bi=0;function _e(){return K&6?pe():_i!==-1?_i:_i=pe()}function An(e){return e.mode&1?K&2&&je!==0?je&-je:xC.transition!==null?(Bi===0&&(Bi=gy()),Bi):(e=X,e!==0||(e=window.event,e=e===void 0?16:Cy(e.type)),e):1}function jt(e,t,n,o){if(50<Xr)throw Xr=0,xu=null,Error(O(185));Fs(e,n,o),(!(K&2)||e!==Se)&&(e===Se&&(!(K&2)&&(qa|=n),we===4&&vn(e,je)),Ye(e,o),n===1&&K===0&&!(t.mode&1)&&(or=pe()+500,Ja&&Bn()))}function Ye(e,t){var n=e.callbackNode;xS(e,t);var o=Xi(e,e===Se?je:0);if(o===0)n!==null&&xp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&xp(n),t===1)e.tag===0?wC(pm.bind(null,e)):Vy(pm.bind(null,e)),gC(function(){!(K&6)&&Bn()}),n=null;else{switch(yy(o)){case 1:n=dd;break;case 4:n=my;break;case 16:n=Qi;break;case 536870912:n=hy;break;default:n=Qi}n=Bv(n,Iv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Iv(e,t){if(_i=-1,Bi=0,K&6)throw Error(O(327));var n=e.callbackNode;if(Go()&&e.callbackNode!==n)return null;var o=Xi(e,e===Se?je:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=ga(e,o);else{t=o;var r=K;K|=2;var s=Dv();(Se!==e||je!==t)&&($t=null,or=pe()+500,eo(e,t));do try{WC();break}catch(a){Mv(e,a)}while(!0);Ed(),pa.current=s,K=r,me!==null?t=0:(Se=null,je=0,t=we)}if(t!==0){if(t===2&&(r=Yc(e),r!==0&&(o=r,t=Su(e,r))),t===1)throw n=Ss,eo(e,0),vn(e,o),Ye(e,pe()),n;if(t===6)vn(e,o);else{if(r=e.current.alternate,!(o&30)&&!_C(r)&&(t=ga(e,o),t===2&&(s=Yc(e),s!==0&&(o=s,t=Su(e,s))),t===1))throw n=Ss,eo(e,0),vn(e,o),Ye(e,pe()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(O(345));case 2:Gn(e,ze,$t);break;case 3:if(vn(e,o),(o&130023424)===o&&(t=_d+500-pe(),10<t)){if(Xi(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){_e(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=nu(Gn.bind(null,e,ze,$t),t);break}Gn(e,ze,$t);break;case 4:if(vn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,r=-1;0<o;){var i=31-Et(o);s=1<<i,i=t[i],i>r&&(r=i),o&=~s}if(o=r,o=pe()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*UC(o/1960))-o,10<o){e.timeoutHandle=nu(Gn.bind(null,e,ze,$t),o);break}Gn(e,ze,$t);break;case 5:Gn(e,ze,$t);break;default:throw Error(O(329))}}}return Ye(e,pe()),e.callbackNode===n?Iv.bind(null,e):null}function Su(e,t){var n=Qr;return e.current.memoizedState.isDehydrated&&(eo(e,t).flags|=256),e=ga(e,t),e!==2&&(t=ze,ze=n,t!==null&&Cu(t)),e}function Cu(e){ze===null?ze=e:ze.push.apply(ze,e)}function _C(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],s=r.getSnapshot;r=r.value;try{if(!kt(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t){for(t&=~Ud,t&=~qa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Et(t),o=1<<n;e[n]=-1,t&=~o}}function pm(e){if(K&6)throw Error(O(327));Go();var t=Xi(e,0);if(!(t&1))return Ye(e,pe()),null;var n=ga(e,t);if(e.tag!==0&&n===2){var o=Yc(e);o!==0&&(t=o,n=Su(e,o))}if(n===1)throw n=Ss,eo(e,0),vn(e,t),Ye(e,pe()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gn(e,ze,$t),Ye(e,pe()),null}function Bd(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(or=pe()+500,Ja&&Bn())}}function ao(e){wn!==null&&wn.tag===0&&!(K&6)&&Go();var t=K;K|=1;var n=pt.transition,o=X;try{if(pt.transition=null,X=1,e)return e()}finally{X=o,pt.transition=n,K=t,!(K&6)&&Bn()}}function Wd(){qe=Do.current,ne(Do)}function eo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hC(n)),me!==null)for(n=me.return;n!==null;){var o=n;switch(xd(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&oa();break;case 3:tr(),ne(Je),ne(Ie),Nd();break;case 5:Pd(o);break;case 4:tr();break;case 13:ne(ie);break;case 19:ne(ie);break;case 10:jd(o.type._context);break;case 22:case 23:Wd()}n=n.return}if(Se=e,me=e=Pn(e.current,null),je=qe=t,we=0,Ss=null,Ud=qa=io=0,ze=Qr=null,Qn!==null){for(t=0;t<Qn.length;t++)if(n=Qn[t],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,s=n.pending;if(s!==null){var i=s.next;s.next=r,o.next=i}n.pending=o}Qn=null}return e}function Mv(e,t){do{var n=me;try{if(Ed(),Li.current=fa,da){for(var o=le.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}da=!1}if(so=0,xe=ve=le=null,Kr=!1,bs=0,Fd.current=null,n===null||n.return===null){we=1,Ss=t,me=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=em(i);if(y!==null){y.flags&=-257,tm(y,i,a,s,t),y.mode&1&&Zp(s,c,t),t=y,l=c;var w=t.updateQueue;if(w===null){var v=new Set;v.add(l),t.updateQueue=v}else w.add(l);break e}else{if(!(t&1)){Zp(s,c,t),Vd();break e}l=Error(O(426))}}else if(re&&a.mode&1){var x=em(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),tm(x,i,a,s,t),Sd(nr(l,a));break e}}s=l=nr(l,a),we!==4&&(we=2),Qr===null?Qr=[s]:Qr.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=yv(s,l,t);Gp(s,h);break e;case 1:a=l;var g=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Tn===null||!Tn.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=vv(s,a,t);Gp(s,S);break e}}s=s.return}while(s!==null)}Fv(n)}catch(C){t=C,me===n&&n!==null&&(me=n=n.return);continue}break}while(!0)}function Dv(){var e=pa.current;return pa.current=fa,e===null?fa:e}function Vd(){(we===0||we===3||we===2)&&(we=4),Se===null||!(io&268435455)&&!(qa&268435455)||vn(Se,je)}function ga(e,t){var n=K;K|=2;var o=Dv();(Se!==e||je!==t)&&($t=null,eo(e,t));do try{BC();break}catch(r){Mv(e,r)}while(!0);if(Ed(),K=n,pa.current=o,me!==null)throw Error(O(261));return Se=null,je=0,we}function BC(){for(;me!==null;)Lv(me)}function WC(){for(;me!==null&&!fS();)Lv(me)}function Lv(e){var t=_v(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?Fv(e):me=t,Fd.current=null}function Fv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=MC(n,t),n!==null){n.flags&=32767,me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,me=null;return}}else if(n=IC(n,t,qe),n!==null){me=n;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);we===0&&(we=5)}function Gn(e,t,n){var o=X,r=pt.transition;try{pt.transition=null,X=1,VC(e,t,n,o)}finally{pt.transition=r,X=o}return null}function VC(e,t,n,o){do Go();while(wn!==null);if(K&6)throw Error(O(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(SS(e,s),e===Se&&(me=Se=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gi||(gi=!0,Bv(Qi,function(){return Go(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pt.transition,pt.transition=null;var i=X;X=1;var a=K;K|=4,Fd.current=null,LC(e,n),Ov(n,e),lC(eu),Zi=!!Zc,eu=Zc=null,e.current=n,FC(n),pS(),K=a,X=i,pt.transition=s}else e.current=n;if(gi&&(gi=!1,wn=e,ha=r),s=e.pendingLanes,s===0&&(Tn=null),gS(n.stateNode),Ye(e,pe()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(ma)throw ma=!1,e=wu,wu=null,e;return ha&1&&e.tag!==0&&Go(),s=e.pendingLanes,s&1?e===xu?Xr++:(Xr=0,xu=e):Xr=0,Bn(),null}function Go(){if(wn!==null){var e=yy(ha),t=pt.transition,n=X;try{if(pt.transition=null,X=16>e?16:e,wn===null)var o=!1;else{if(e=wn,wn=null,ha=0,K&6)throw Error(O(331));var r=K;for(K|=4,_=e.current;_!==null;){var s=_,i=s.child;if(_.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(_=c;_!==null;){var u=_;switch(u.tag){case 0:case 11:case 15:qr(8,u,s)}var f=u.child;if(f!==null)f.return=u,_=f;else for(;_!==null;){u=_;var p=u.sibling,y=u.return;if(Av(u),u===c){_=null;break}if(p!==null){p.return=y,_=p;break}_=y}}}var w=s.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}_=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,_=i;else e:for(;_!==null;){if(s=_,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qr(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,_=h;break e}_=s.return}}var g=e.current;for(_=g;_!==null;){i=_;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,_=b;else e:for(i=g;_!==null;){if(a=_,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ka(9,a)}}catch(C){de(a,a.return,C)}if(a===i){_=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,_=S;break e}_=a.return}}if(K=r,Bn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Wa,e)}catch{}o=!0}return o}finally{X=n,pt.transition=t}}return!1}function mm(e,t,n){t=nr(n,t),t=yv(e,t,1),e=kn(e,t,1),t=_e(),e!==null&&(Fs(e,1,t),Ye(e,t))}function de(e,t,n){if(e.tag===3)mm(e,e,n);else for(;t!==null;){if(t.tag===3){mm(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Tn===null||!Tn.has(o))){e=nr(n,e),e=vv(t,e,1),t=kn(t,e,1),e=_e(),t!==null&&(Fs(t,1,e),Ye(t,e));break}}t=t.return}}function HC(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&n,Se===e&&(je&n)===n&&(we===4||we===3&&(je&130023424)===je&&500>pe()-_d?eo(e,0):Ud|=n),Ye(e,t)}function Uv(e,t){t===0&&(e.mode&1?(t=ii,ii<<=1,!(ii&130023424)&&(ii=4194304)):t=1);var n=_e();e=en(e,t),e!==null&&(Fs(e,t,n),Ye(e,n))}function zC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Uv(e,n)}function $C(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(O(314))}o!==null&&o.delete(t),Uv(e,n)}var _v;_v=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)$e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $e=!1,RC(e,t,n);$e=!!(e.flags&131072)}else $e=!1,re&&t.flags&1048576&&Hy(t,ia,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Ui(e,t),e=t.pendingProps;var r=Xo(t,Ie.current);Jo(t,n),r=Rd(null,t,o,e,r,n);var s=Id();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(o)?(s=!0,ra(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Td(t),r.updater=Ya,t.stateNode=r,r._reactInternals=t,cu(t,o,e,n),t=fu(null,t,o,!0,s,n)):(t.tag=0,re&&s&&wd(t),Fe(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Ui(e,t),e=t.pendingProps,r=o._init,o=r(o._payload),t.type=o,r=t.tag=GC(o),e=xt(o,e),r){case 0:t=du(null,t,o,e,n);break e;case 1:t=rm(null,t,o,e,n);break e;case 11:t=nm(null,t,o,e,n);break e;case 14:t=om(null,t,o,xt(o.type,e),n);break e}throw Error(O(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:xt(o,r),du(e,t,o,r,n);case 1:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:xt(o,r),rm(e,t,o,r,n);case 3:e:{if(Sv(t),e===null)throw Error(O(387));o=t.pendingProps,s=t.memoizedState,r=s.element,Ky(e,t),ca(t,o,null,n);var i=t.memoizedState;if(o=i.element,s.isDehydrated)if(s={element:o,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=nr(Error(O(423)),t),t=sm(e,t,o,n,r);break e}else if(o!==r){r=nr(Error(O(424)),t),t=sm(e,t,o,n,r);break e}else for(Ze=jn(t.stateNode.containerInfo.firstChild),et=t,re=!0,Ct=null,n=Gy(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zo(),o===r){t=tn(e,t,n);break e}Fe(e,t,o,n)}t=t.child}return t;case 5:return qy(t),e===null&&iu(t),o=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,i=r.children,tu(o,r)?i=null:s!==null&&tu(o,s)&&(t.flags|=32),xv(e,t),Fe(e,t,i,n),t.child;case 6:return e===null&&iu(t),null;case 13:return Cv(e,t,n);case 4:return Ad(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=er(t,null,o,n):Fe(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:xt(o,r),nm(e,t,o,r,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,s=t.memoizedProps,i=r.value,Z(aa,o._currentValue),o._currentValue=i,s!==null)if(kt(s.value,i)){if(s.children===r.children&&!Je.current){t=tn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===o){if(s.tag===1){l=Kt(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),au(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(O(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),au(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Fe(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Jo(t,n),r=ht(r),o=o(r),t.flags|=1,Fe(e,t,o,n),t.child;case 14:return o=t.type,r=xt(o,t.pendingProps),r=xt(o.type,r),om(e,t,o,r,n);case 15:return bv(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:xt(o,r),Ui(e,t),t.tag=1,Ge(o)?(e=!0,ra(t)):e=!1,Jo(t,n),gv(t,o,r),cu(t,o,r,n),fu(null,t,o,!0,e,n);case 19:return Ev(e,t,n);case 22:return wv(e,t,n)}throw Error(O(156,t.tag))};function Bv(e,t){return py(e,t)}function JC(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,o){return new JC(e,t,n,o)}function Hd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GC(e){if(typeof e=="function")return Hd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ld)return 11;if(e===cd)return 14}return 2}function Pn(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wi(e,t,n,o,r,s){var i=2;if(o=e,typeof e=="function")Hd(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case jo:return to(n.children,r,s,t);case ad:i=8,r|=8;break;case Ic:return e=ft(12,n,t,r|2),e.elementType=Ic,e.lanes=s,e;case Mc:return e=ft(13,n,t,r),e.elementType=Mc,e.lanes=s,e;case Dc:return e=ft(19,n,t,r),e.elementType=Dc,e.lanes=s,e;case qg:return Qa(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yg:i=10;break e;case Kg:i=9;break e;case ld:i=11;break e;case cd:i=14;break e;case hn:i=16,o=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=ft(i,n,t,r),t.elementType=e,t.type=o,t.lanes=s,t}function to(e,t,n,o){return e=ft(7,e,o,t),e.lanes=n,e}function Qa(e,t,n,o){return e=ft(22,e,o,t),e.elementType=qg,e.lanes=n,e.stateNode={isHidden:!1},e}function Zl(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function ec(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YC(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function zd(e,t,n,o,r,s,i,a,l){return e=new YC(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ft(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Td(s),e}function KC(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eo,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Wv(e){if(!e)return In;e=e._reactInternals;e:{if(fo(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(Ge(n))return Wy(e,n,t)}return t}function Vv(e,t,n,o,r,s,i,a,l){return e=zd(n,o,!0,e,r,s,i,a,l),e.context=Wv(null),n=e.current,o=_e(),r=An(n),s=Kt(o,r),s.callback=t??null,kn(n,s,r),e.current.lanes=r,Fs(e,r,o),Ye(e,o),e}function Xa(e,t,n,o){var r=t.current,s=_e(),i=An(r);return n=Wv(n),t.context===null?t.context=n:t.pendingContext=n,t=Kt(s,i),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=kn(r,t,i),e!==null&&(jt(e,r,i,s),Di(e,r,i)),i}function ya(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $d(e,t){hm(e,t),(e=e.alternate)&&hm(e,t)}function qC(){return null}var Hv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jd(e){this._internalRoot=e}Za.prototype.render=Jd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Xa(e,t,null,null)};Za.prototype.unmount=Jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ao(function(){Xa(null,e,null,null)}),t[Zt]=null}};function Za(e){this._internalRoot=e}Za.prototype.unstable_scheduleHydration=function(e){if(e){var t=wy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yn.length&&t!==0&&t<yn[n].priority;n++);yn.splice(n,0,e),n===0&&Sy(e)}};function Gd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function el(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gm(){}function QC(e,t,n,o,r){if(r){if(typeof o=="function"){var s=o;o=function(){var c=ya(i);s.call(c)}}var i=Vv(t,o,e,0,null,!1,!1,"",gm);return e._reactRootContainer=i,e[Zt]=i.current,ms(e.nodeType===8?e.parentNode:e),ao(),i}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var a=o;o=function(){var c=ya(l);a.call(c)}}var l=zd(e,0,!1,null,null,!1,!1,"",gm);return e._reactRootContainer=l,e[Zt]=l.current,ms(e.nodeType===8?e.parentNode:e),ao(function(){Xa(t,l,n,o)}),l}function tl(e,t,n,o,r){var s=n._reactRootContainer;if(s){var i=s;if(typeof r=="function"){var a=r;r=function(){var l=ya(i);a.call(l)}}Xa(t,i,e,r)}else i=QC(n,t,e,r,o);return ya(i)}vy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fr(t.pendingLanes);n!==0&&(fd(t,n|1),Ye(t,pe()),!(K&6)&&(or=pe()+500,Bn()))}break;case 13:ao(function(){var o=en(e,1);if(o!==null){var r=_e();jt(o,e,1,r)}}),$d(e,1)}};pd=function(e){if(e.tag===13){var t=en(e,134217728);if(t!==null){var n=_e();jt(t,e,134217728,n)}$d(e,134217728)}};by=function(e){if(e.tag===13){var t=An(e),n=en(e,t);if(n!==null){var o=_e();jt(n,e,t,o)}$d(e,t)}};wy=function(){return X};xy=function(e,t){var n=X;try{return X=e,t()}finally{X=n}};$c=function(e,t,n){switch(t){case"input":if(Uc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=$a(o);if(!r)throw Error(O(90));Xg(o),Uc(o,r)}}}break;case"textarea":ey(e,n);break;case"select":t=n.value,t!=null&&Vo(e,!!n.multiple,t,!1)}};ay=Bd;ly=ao;var XC={usingClientEntryPoint:!1,Events:[_s,Po,$a,sy,iy,Bd]},Or={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZC={bundleType:Or.bundleType,version:Or.version,rendererPackageName:Or.rendererPackageName,rendererConfig:Or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dy(e),e===null?null:e.stateNode},findFiberByHostInstance:Or.findFiberByHostInstance||qC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yi.isDisabled&&yi.supportsFiber)try{Wa=yi.inject(ZC),Mt=yi}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XC;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gd(t))throw Error(O(200));return KC(e,t,null,n)};st.createRoot=function(e,t){if(!Gd(e))throw Error(O(299));var n=!1,o="",r=Hv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=zd(e,1,!1,null,null,n,!1,o,r),e[Zt]=t.current,ms(e.nodeType===8?e.parentNode:e),new Jd(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=dy(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return ao(e)};st.hydrate=function(e,t,n){if(!el(t))throw Error(O(200));return tl(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!Gd(e))throw Error(O(405));var o=n!=null&&n.hydratedSources||null,r=!1,s="",i=Hv;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Vv(t,null,e,1,n??null,r,!1,s,i),e[Zt]=t.current,ms(e),o)for(e=0;e<o.length;e++)n=o[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Za(t)};st.render=function(e,t,n){if(!el(t))throw Error(O(200));return tl(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!el(e))throw Error(O(40));return e._reactRootContainer?(ao(function(){tl(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1};st.unstable_batchedUpdates=Bd;st.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!el(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return tl(e,t,n,!1,o)};st.version="18.3.1-next-f1338f8080-20240426";function zv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zv)}catch(e){console.error(e)}}zv(),zg.exports=st;var nl=zg.exports;const eE=Rg(nl);var ym=nl;Oc.createRoot=ym.createRoot,Oc.hydrateRoot=ym.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Cs.apply(this,arguments)}var xn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xn||(xn={}));const vm="popstate";function tE(e){e===void 0&&(e={});function t(o,r){let{pathname:s,search:i,hash:a}=o.location;return Eu("",{pathname:s,search:i,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(o,r){return typeof r=="string"?r:va(r)}return oE(t,n,null,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nE(){return Math.random().toString(36).substr(2,8)}function bm(e,t){return{usr:e.state,key:e.key,idx:t}}function Eu(e,t,n,o){return n===void 0&&(n=null),Cs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fr(t):t,{state:n,key:t&&t.key||o||nE()})}function va(e){let{pathname:t="/",search:n="",hash:o=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function fr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function oE(e,t,n,o){o===void 0&&(o={});let{window:r=document.defaultView,v5Compat:s=!1}=o,i=r.history,a=xn.Pop,l=null,c=u();c==null&&(c=0,i.replaceState(Cs({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function f(){a=xn.Pop;let x=u(),h=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:h})}function p(x,h){a=xn.Push;let g=Eu(v.location,x,h);c=u()+1;let b=bm(g,c),S=v.createHref(g);try{i.pushState(b,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(S)}s&&l&&l({action:a,location:v.location,delta:1})}function y(x,h){a=xn.Replace;let g=Eu(v.location,x,h);c=u();let b=bm(g,c),S=v.createHref(g);i.replaceState(b,"",S),s&&l&&l({action:a,location:v.location,delta:0})}function w(x){let h=r.location.origin!=="null"?r.location.origin:r.location.href,g=typeof x=="string"?x:va(x);return g=g.replace(/ $/,"%20"),he(h,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,h)}let v={get action(){return a},get location(){return e(r,i)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(vm,f),l=x,()=>{r.removeEventListener(vm,f),l=null}},createHref(x){return t(r,x)},createURL:w,encodeLocation(x){let h=w(x);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:y,go(x){return i.go(x)}};return v}var wm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wm||(wm={}));function rE(e,t,n){return n===void 0&&(n="/"),sE(e,t,n)}function sE(e,t,n,o){let r=typeof t=="string"?fr(t):t,s=Kd(r.pathname||"/",n);if(s==null)return null;let i=$v(e);iE(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=vE(s);a=hE(i[l],c)}return a}function $v(e,t,n,o){t===void 0&&(t=[]),n===void 0&&(n=[]),o===void 0&&(o="");let r=(s,i,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};l.relativePath.startsWith("/")&&(he(l.relativePath.startsWith(o),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(o.length));let c=Nn([o,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(he(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$v(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:pE(c,s.index),routesMeta:u})};return e.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,i);else for(let l of Jv(s.path))r(s,i,l)}),t}function Jv(e){let t=e.split("/");if(t.length===0)return[];let[n,...o]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(o.length===0)return r?[s,""]:[s];let i=Jv(o.join("/")),a=[];return a.push(...i.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function iE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mE(t.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const aE=/^:[\w-]+$/,lE=3,cE=2,uE=1,dE=10,fE=-2,xm=e=>e==="*";function pE(e,t){let n=e.split("/"),o=n.length;return n.some(xm)&&(o+=fE),t&&(o+=cE),n.filter(r=>!xm(r)).reduce((r,s)=>r+(aE.test(s)?lE:s===""?uE:dE),o)}function mE(e,t){return e.length===t.length&&e.slice(0,-1).every((o,r)=>o===t[r])?e[e.length-1]-t[t.length-1]:0}function hE(e,t,n){let{routesMeta:o}=e,r={},s="/",i=[];for(let a=0;a<o.length;++a){let l=o[a],c=a===o.length-1,u=s==="/"?t:t.slice(s.length)||"/",f=gE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f)return null;Object.assign(r,f.params),i.push({params:r,pathname:Nn([s,f.pathname]),pathnameBase:CE(Nn([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Nn([s,f.pathnameBase]))}return i}function gE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=yE(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],i=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:o.reduce((c,u,f)=>{let{paramName:p,isOptional:y}=u;if(p==="*"){let v=a[f]||"";i=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[f];return y&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:i,pattern:e}}function yE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Yd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(o.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),o]}function vE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&o!=="/"?null:e.slice(n)||"/"}const bE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wE=e=>bE.test(e);function xE(e,t){t===void 0&&(t="/");let{pathname:n,search:o="",hash:r=""}=typeof e=="string"?fr(e):e,s;if(n)if(wE(n))s=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),Yd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?s=Sm(n.substring(1),"/"):s=Sm(n,t)}else s=t;return{pathname:s,search:EE(o),hash:jE(r)}}function Sm(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function tc(e,t,n,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gv(e,t){let n=SE(e);return t?n.map((o,r)=>r===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function Yv(e,t,n,o){o===void 0&&(o=!1);let r;typeof e=="string"?r=fr(e):(r=Cs({},e),he(!r.pathname||!r.pathname.includes("?"),tc("?","pathname","search",r)),he(!r.pathname||!r.pathname.includes("#"),tc("#","pathname","hash",r)),he(!r.search||!r.search.includes("#"),tc("#","search","hash",r)));let s=e===""||r.pathname==="",i=s?"/":r.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!o&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;r.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=xE(r,a),c=i&&i!=="/"&&i.endsWith("/"),u=(s||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Nn=e=>e.join("/").replace(/\/\/+/g,"/"),CE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Kv=["post","put","patch","delete"];new Set(Kv);const TE=["get",...Kv];new Set(TE);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Es.apply(this,arguments)}const qd=m.createContext(null),AE=m.createContext(null),po=m.createContext(null),ol=m.createContext(null),Wn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),qv=m.createContext(null);function PE(e,t){let{relative:n}=t===void 0?{}:t;Ws()||he(!1);let{basename:o,navigator:r}=m.useContext(po),{hash:s,pathname:i,search:a}=Xv(e,{relative:n}),l=i;return o!=="/"&&(l=i==="/"?o:Nn([o,i])),r.createHref({pathname:l,search:a,hash:s})}function Ws(){return m.useContext(ol)!=null}function Vn(){return Ws()||he(!1),m.useContext(ol).location}function Qv(e){m.useContext(po).static||m.useLayoutEffect(e)}function Me(){let{isDataRoute:e}=m.useContext(Wn);return e?VE():NE()}function NE(){Ws()||he(!1);let e=m.useContext(qd),{basename:t,future:n,navigator:o}=m.useContext(po),{matches:r}=m.useContext(Wn),{pathname:s}=Vn(),i=JSON.stringify(Gv(r,n.v7_relativeSplatPath)),a=m.useRef(!1);return Qv(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){o.go(c);return}let f=Yv(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Nn([t,f.pathname])),(u.replace?o.replace:o.push)(f,u.state,u)},[t,o,i,s,e])}function Hn(){let{matches:e}=m.useContext(Wn),t=e[e.length-1];return t?t.params:{}}function Xv(e,t){let{relative:n}=t===void 0?{}:t,{future:o}=m.useContext(po),{matches:r}=m.useContext(Wn),{pathname:s}=Vn(),i=JSON.stringify(Gv(r,o.v7_relativeSplatPath));return m.useMemo(()=>Yv(e,JSON.parse(i),s,n==="path"),[e,i,s,n])}function OE(e,t){return RE(e,t)}function RE(e,t,n,o){Ws()||he(!1);let{navigator:r}=m.useContext(po),{matches:s}=m.useContext(Wn),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=Vn(),u;if(t){var f;let x=typeof t=="string"?fr(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||he(!1),u=x}else u=c;let p=u.pathname||"/",y=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=rE(e,{pathname:y}),v=FE(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Nn([l,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Nn([l,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,o);return t&&v?m.createElement(ol.Provider,{value:{location:Es({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:xn.Pop}},v):v}function IE(){let e=WE(),t=kE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:r},n):null,null)}const ME=m.createElement(IE,null);class DE extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Wn.Provider,{value:this.props.routeContext},m.createElement(qv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LE(e){let{routeContext:t,match:n,children:o}=e,r=m.useContext(qd);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Wn.Provider,{value:t},o)}function FE(e,t,n,o){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),o===void 0&&(o=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=o)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let u=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||he(!1),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(n&&o&&o.v7_partialHydration)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:y}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,f,p)=>{let y,w=!1,v=null,x=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||ME,l&&(c<0&&p===0?(HE("route-fallback"),w=!0,x=null):c===p&&(w=!0,x=f.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,p+1)),g=()=>{let b;return y?b=v:w?b=x:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,m.createElement(LE,{match:f,routeContext:{outlet:u,matches:h,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(DE,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:g(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):g()},null)}var Zv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Zv||{}),eb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(eb||{});function UE(e){let t=m.useContext(qd);return t||he(!1),t}function _E(e){let t=m.useContext(AE);return t||he(!1),t}function BE(e){let t=m.useContext(Wn);return t||he(!1),t}function tb(e){let t=BE(),n=t.matches[t.matches.length-1];return n.route.id||he(!1),n.route.id}function WE(){var e;let t=m.useContext(qv),n=_E(),o=tb();return t!==void 0?t:(e=n.errors)==null?void 0:e[o]}function VE(){let{router:e}=UE(Zv.UseNavigateStable),t=tb(eb.UseNavigateStable),n=m.useRef(!1);return Qv(()=>{n.current=!0}),m.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Es({fromRouteId:t},s)))},[e,t])}const Cm={};function HE(e,t,n){Cm[e]||(Cm[e]=!0)}function zE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function be(e){he(!1)}function $E(e){let{basename:t="/",children:n=null,location:o,navigationType:r=xn.Pop,navigator:s,static:i=!1,future:a}=e;Ws()&&he(!1);let l=t.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:s,static:i,future:Es({v7_relativeSplatPath:!1},a)}),[l,a,s,i]);typeof o=="string"&&(o=fr(o));let{pathname:u="/",search:f="",hash:p="",state:y=null,key:w="default"}=o,v=m.useMemo(()=>{let x=Kd(u,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:y,key:w},navigationType:r}},[l,u,f,p,y,w,r]);return v==null?null:m.createElement(po.Provider,{value:c},m.createElement(ol.Provider,{children:n,value:v}))}function Vs(e){let{children:t,location:n}=e;return OE(ju(t),n)}new Promise(()=>{});function ju(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(o,r)=>{if(!m.isValidElement(o))return;let s=[...t,r];if(o.type===m.Fragment){n.push.apply(n,ju(o.props.children,s));return}o.type!==be&&he(!1),!o.props.index||!o.props.children||he(!1);let i={id:o.props.id||s.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(i.children=ju(o.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ku.apply(this,arguments)}function JE(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function GE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YE(e,t){return e.button===0&&(!t||t==="_self")&&!GE(e)}const KE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qE="6";try{window.__reactRouterVersion=qE}catch{}const QE="startTransition",Em=Ba[QE];function XE(e){let{basename:t,children:n,future:o,window:r}=e,s=m.useRef();s.current==null&&(s.current=tE({window:r,v5Compat:!0}));let i=s.current,[a,l]=m.useState({action:i.action,location:i.location}),{v7_startTransition:c}=o||{},u=m.useCallback(f=>{c&&Em?Em(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>i.listen(u),[i,u]),m.useEffect(()=>zE(o),[o]),m.createElement($E,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:o})}const ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ej=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zr=m.forwardRef(function(t,n){let{onClick:o,relative:r,reloadDocument:s,replace:i,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,p=JE(t,KE),{basename:y}=m.useContext(po),w,v=!1;if(typeof c=="string"&&ej.test(c)&&(w=c,ZE))try{let b=new URL(window.location.href),S=c.startsWith("//")?new URL(b.protocol+c):new URL(c),C=Kd(S.pathname,y);S.origin===b.origin&&C!=null?c=C+S.search+S.hash:v=!0}catch{}let x=PE(c,{relative:r}),h=tj(c,{replace:i,state:a,target:l,preventScrollReset:u,relative:r,viewTransition:f});function g(b){o&&o(b),b.defaultPrevented||h(b)}return m.createElement("a",ku({},p,{href:w||x,onClick:v||s?o:g,ref:n,target:l}))});var jm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jm||(jm={}));var km;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(km||(km={}));function tj(e,t){let{target:n,replace:o,state:r,preventScrollReset:s,relative:i,viewTransition:a}=t===void 0?{}:t,l=Me(),c=Vn(),u=Xv(e,{relative:i});return m.useCallback(f=>{if(YE(f,n)){f.preventDefault();let p=o!==void 0?o:va(c)===va(u);l(e,{replace:p,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[c,l,u,o,r,n,e,s,i,a])}const Qd=m.createContext({});function Xd(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const rl=m.createContext(null),Zd=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class nj extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oj({children:e,isPresent:t}){const n=m.useId(),o=m.useRef(null),r=m.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=m.useContext(Zd);return m.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=r.current;if(t||!o.current||!i||!a)return;o.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),d.jsx(nj,{isPresent:t,childRef:o,sizeRef:r,children:m.cloneElement(e,{ref:o})})}const rj=({children:e,initial:t,isPresent:n,onExitComplete:o,custom:r,presenceAffectsLayout:s,mode:i})=>{const a=Xd(sj),l=m.useId(),c=m.useCallback(f=>{a.set(f,!0);for(const p of a.values())if(!p)return;o&&o()},[a,o]),u=m.useMemo(()=>({id:l,initial:t,isPresent:n,custom:r,onExitComplete:c,register:f=>(a.set(f,!1),()=>a.delete(f))}),s?[Math.random(),c]:[n,c]);return m.useMemo(()=>{a.forEach((f,p)=>a.set(p,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&o&&o()},[n]),i==="popLayout"&&(e=d.jsx(oj,{isPresent:n,children:e})),d.jsx(rl.Provider,{value:u,children:e})};function sj(){return new Map}function nb(e=!0){const t=m.useContext(rl);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:o,register:r}=t,s=m.useId();m.useEffect(()=>{e&&r(s)},[e]);const i=m.useCallback(()=>e&&o&&o(s),[s,o,e]);return!n&&o?[!1,i]:[!0]}const vi=e=>e.key||"";function Tm(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const ef=typeof window<"u",ob=ef?m.useLayoutEffect:m.useEffect,rb=({children:e,custom:t,initial:n=!0,onExitComplete:o,presenceAffectsLayout:r=!0,mode:s="sync",propagate:i=!1})=>{const[a,l]=nb(i),c=m.useMemo(()=>Tm(e),[e]),u=i&&!a?[]:c.map(vi),f=m.useRef(!0),p=m.useRef(c),y=Xd(()=>new Map),[w,v]=m.useState(c),[x,h]=m.useState(c);ob(()=>{f.current=!1,p.current=c;for(let S=0;S<x.length;S++){const C=vi(x[S]);u.includes(C)?y.delete(C):y.get(C)!==!0&&y.set(C,!1)}},[x,u.length,u.join("-")]);const g=[];if(c!==w){let S=[...c];for(let C=0;C<x.length;C++){const j=x[C],E=vi(j);u.includes(E)||(S.splice(C,0,j),g.push(j))}s==="wait"&&g.length&&(S=g),h(Tm(S)),v(c);return}const{forceRender:b}=m.useContext(Qd);return d.jsx(d.Fragment,{children:x.map(S=>{const C=vi(S),j=i&&!a?!1:c===x||u.includes(C),E=()=>{if(y.has(C))y.set(C,!0);else return;let k=!0;y.forEach(N=>{N||(k=!1)}),k&&(b==null||b(),h(p.current),i&&(l==null||l()),o&&o())};return d.jsx(rj,{isPresent:j,initial:!f.current||n?void 0:!1,custom:j?void 0:t,presenceAffectsLayout:r,mode:s,onExitComplete:j?void 0:E,children:S},C)})})},tt=e=>e;let sb=tt;function tf(e){let t;return()=>(t===void 0&&(t=e()),t)}const rr=(e,t,n)=>{const o=t-e;return o===0?1:(n-e)/o},qt=e=>e*1e3,Qt=e=>e/1e3,ij={useManualTiming:!1};function aj(e){let t=new Set,n=new Set,o=!1,r=!1;const s=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),e()),c(i)}const l={schedule:(c,u=!1,f=!1)=>{const y=f&&o?t:n;return u&&s.add(c),y.has(c)||y.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(i=c,o){r=!0;return}o=!0,[t,n]=[n,t],t.forEach(a),t.clear(),o=!1,r&&(r=!1,l.process(c))}};return l}const bi=["read","resolveKeyframes","update","preRender","render","postRender"],lj=40;function ib(e,t){let n=!1,o=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,i=bi.reduce((h,g)=>(h[g]=aj(s),h),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:f,postRender:p}=i,y=()=>{const h=performance.now();n=!1,r.delta=o?1e3/60:Math.max(Math.min(h-r.timestamp,lj),1),r.timestamp=h,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),f.process(r),p.process(r),r.isProcessing=!1,n&&t&&(o=!1,e(y))},w=()=>{n=!0,o=!0,r.isProcessing||e(y)};return{schedule:bi.reduce((h,g)=>{const b=i[g];return h[g]=(S,C=!1,j=!1)=>(n||w(),b.schedule(S,C,j)),h},{}),cancel:h=>{for(let g=0;g<bi.length;g++)i[bi[g]].cancel(h)},state:r,steps:i}}const{schedule:oe,cancel:Mn,state:Ee,steps:nc}=ib(typeof requestAnimationFrame<"u"?requestAnimationFrame:tt,!0),ab=m.createContext({strict:!1}),Am={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sr={};for(const e in Am)sr[e]={isEnabled:t=>Am[e].some(n=>!!t[n])};function cj(e){for(const t in e)sr[t]={...sr[t],...e[t]}}const uj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ba(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uj.has(e)}let lb=e=>!ba(e);function dj(e){e&&(lb=t=>t.startsWith("on")?!ba(t):e(t))}try{dj(require("@emotion/is-prop-valid").default)}catch{}function fj(e,t,n){const o={};for(const r in e)r==="values"&&typeof e.values=="object"||(lb(r)||n===!0&&ba(r)||!t&&!ba(r)||e.draggable&&r.startsWith("onDrag"))&&(o[r]=e[r]);return o}function pj(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...o)=>e(...o);return new Proxy(n,{get:(o,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const sl=m.createContext({});function js(e){return typeof e=="string"||Array.isArray(e)}function il(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const nf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],of=["initial",...nf];function al(e){return il(e.animate)||of.some(t=>js(e[t]))}function cb(e){return!!(al(e)||e.variants)}function mj(e,t){if(al(e)){const{initial:n,animate:o}=e;return{initial:n===!1||js(n)?n:void 0,animate:js(o)?o:void 0}}return e.inherit!==!1?t:{}}function hj(e){const{initial:t,animate:n}=mj(e,m.useContext(sl));return m.useMemo(()=>({initial:t,animate:n}),[Pm(t),Pm(n)])}function Pm(e){return Array.isArray(e)?e.join(" "):e}const gj=Symbol.for("motionComponentSymbol");function Lo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function yj(e,t,n){return m.useCallback(o=>{o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),n&&(typeof n=="function"?n(o):Lo(n)&&(n.current=o))},[t])}const rf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vj="framerAppearId",ub="data-"+rf(vj),{schedule:sf}=ib(queueMicrotask,!1),db=m.createContext({});function bj(e,t,n,o,r){var s,i;const{visualElement:a}=m.useContext(sl),l=m.useContext(ab),c=m.useContext(rl),u=m.useContext(Zd).reducedMotion,f=m.useRef(null);o=o||l.renderer,!f.current&&o&&(f.current=o(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const p=f.current,y=m.useContext(db);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&wj(f.current,n,r,y);const w=m.useRef(!1);m.useInsertionEffect(()=>{p&&w.current&&p.update(n,c)});const v=n[ub],x=m.useRef(!!v&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,v))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,v)));return ob(()=>{p&&(w.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),sf.render(p.render),x.current&&p.animationState&&p.animationState.animateChanges())}),m.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var h;(h=window.MotionHandoffMarkAsComplete)===null||h===void 0||h.call(window,v)}),x.current=!1))}),p}function wj(e,t,n,o){const{layoutId:r,layout:s,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:fb(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!i||a&&Lo(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:o,layoutScroll:l,layoutRoot:c})}function fb(e){if(e)return e.options.allowProjection!==!1?e.projection:fb(e.parent)}function xj({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:o,Component:r}){var s,i;e&&cj(e);function a(c,u){let f;const p={...m.useContext(Zd),...c,layoutId:Sj(c)},{isStatic:y}=p,w=hj(c),v=o(c,y);if(!y&&ef){Cj();const x=Ej(p);f=x.MeasureLayout,w.visualElement=bj(r,v,p,t,x.ProjectionNode)}return d.jsxs(sl.Provider,{value:w,children:[f&&w.visualElement?d.jsx(f,{visualElement:w.visualElement,...p}):null,n(r,c,yj(v,w.visualElement,u),v,y,w.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(i=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&i!==void 0?i:""})`}`;const l=m.forwardRef(a);return l[gj]=r,l}function Sj({layoutId:e}){const t=m.useContext(Qd).id;return t&&e!==void 0?t+"-"+e:e}function Cj(e,t){m.useContext(ab).strict}function Ej(e){const{drag:t,layout:n}=sr;if(!t&&!n)return{};const o={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const jj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function af(e){return typeof e!="string"||e.includes("-")?!1:!!(jj.indexOf(e)>-1||/[A-Z]/u.test(e))}function Nm(e){const t=[{},{}];return e==null||e.values.forEach((n,o)=>{t[0][o]=n.get(),t[1][o]=n.getVelocity()}),t}function lf(e,t,n,o){if(typeof t=="function"){const[r,s]=Nm(o);t=t(n!==void 0?n:e.custom,r,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,s]=Nm(o);t=t(n!==void 0?n:e.custom,r,s)}return t}const Tu=e=>Array.isArray(e),kj=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Tj=e=>Tu(e)?e[e.length-1]||0:e,Re=e=>!!(e&&e.getVelocity);function Vi(e){const t=Re(e)?e.get():e;return kj(t)?t.toValue():t}function Aj({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},o,r,s){const i={latestValues:Pj(o,r,s,e),renderState:t()};return n&&(i.onMount=a=>n({props:o,current:a,...i}),i.onUpdate=a=>n(a)),i}const pb=e=>(t,n)=>{const o=m.useContext(sl),r=m.useContext(rl),s=()=>Aj(e,t,o,r);return n?s():Xd(s)};function Pj(e,t,n,o){const r={},s=o(e,{});for(const p in s)r[p]=Vi(s[p]);let{initial:i,animate:a}=e;const l=al(e),c=cb(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||i===!1;const f=u?a:i;if(f&&typeof f!="boolean"&&!il(f)){const p=Array.isArray(f)?f:[f];for(let y=0;y<p.length;y++){const w=lf(e,p[y]);if(w){const{transitionEnd:v,transition:x,...h}=w;for(const g in h){let b=h[g];if(Array.isArray(b)){const S=u?b.length-1:0;b=b[S]}b!==null&&(r[g]=b)}for(const g in v)r[g]=v[g]}}}return r}const pr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mo=new Set(pr),mb=e=>t=>typeof t=="string"&&t.startsWith(e),hb=mb("--"),Nj=mb("var(--"),cf=e=>Nj(e)?Oj.test(e.split("/*")[0].trim()):!1,Oj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gb=(e,t)=>t&&typeof e=="number"?t.transform(e):e,nn=(e,t,n)=>n>t?t:n<e?e:n,mr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ks={...mr,transform:e=>nn(0,1,e)},wi={...mr,default:1},Hs=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),pn=Hs("deg"),Lt=Hs("%"),V=Hs("px"),Rj=Hs("vh"),Ij=Hs("vw"),Om={...Lt,parse:e=>Lt.parse(e)/100,transform:e=>Lt.transform(e*100)},Mj={borderWidth:V,borderTopWidth:V,borderRightWidth:V,borderBottomWidth:V,borderLeftWidth:V,borderRadius:V,radius:V,borderTopLeftRadius:V,borderTopRightRadius:V,borderBottomRightRadius:V,borderBottomLeftRadius:V,width:V,maxWidth:V,height:V,maxHeight:V,top:V,right:V,bottom:V,left:V,padding:V,paddingTop:V,paddingRight:V,paddingBottom:V,paddingLeft:V,margin:V,marginTop:V,marginRight:V,marginBottom:V,marginLeft:V,backgroundPositionX:V,backgroundPositionY:V},Dj={rotate:pn,rotateX:pn,rotateY:pn,rotateZ:pn,scale:wi,scaleX:wi,scaleY:wi,scaleZ:wi,skew:pn,skewX:pn,skewY:pn,distance:V,translateX:V,translateY:V,translateZ:V,x:V,y:V,z:V,perspective:V,transformPerspective:V,opacity:ks,originX:Om,originY:Om,originZ:V},Rm={...mr,transform:Math.round},uf={...Mj,...Dj,zIndex:Rm,size:V,fillOpacity:ks,strokeOpacity:ks,numOctaves:Rm},Lj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Fj=pr.length;function Uj(e,t,n){let o="",r=!0;for(let s=0;s<Fj;s++){const i=pr[s],a=e[i];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(i.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=gb(a,uf[i]);if(!l){r=!1;const u=Lj[i]||i;o+=`${u}(${c}) `}n&&(t[i]=c)}}return o=o.trim(),n?o=n(t,r?"":o):r&&(o="none"),o}function df(e,t,n){const{style:o,vars:r,transformOrigin:s}=e;let i=!1,a=!1;for(const l in t){const c=t[l];if(mo.has(l)){i=!0;continue}else if(hb(l)){r[l]=c;continue}else{const u=gb(c,uf[l]);l.startsWith("origin")?(a=!0,s[l]=u):o[l]=u}}if(t.transform||(i||n?o.transform=Uj(t,e.transform,n):o.transform&&(o.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;o.transformOrigin=`${l} ${c} ${u}`}}const _j={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bj={offset:"strokeDashoffset",array:"strokeDasharray"};function Wj(e,t,n=1,o=0,r=!0){e.pathLength=1;const s=r?_j:Bj;e[s.offset]=V.transform(-o);const i=V.transform(t),a=V.transform(n);e[s.array]=`${i} ${a}`}function Im(e,t,n){return typeof e=="string"?e:V.transform(t+n*e)}function Vj(e,t,n){const o=Im(t,e.x,e.width),r=Im(n,e.y,e.height);return`${o} ${r}`}function ff(e,{attrX:t,attrY:n,attrScale:o,originX:r,originY:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},u,f){if(df(e,c,f),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:y,dimensions:w}=e;p.transform&&(w&&(y.transform=p.transform),delete p.transform),w&&(r!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=Vj(w,r!==void 0?r:.5,s!==void 0?s:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),o!==void 0&&(p.scale=o),i!==void 0&&Wj(p,i,a,l,!1)}const pf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),yb=()=>({...pf(),attrs:{}}),mf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function vb(e,{style:t,vars:n},o,r){Object.assign(e.style,t,r&&r.getProjectionStyles(o));for(const s in n)e.style.setProperty(s,n[s])}const bb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wb(e,t,n,o){vb(e,t,void 0,o);for(const r in t.attrs)e.setAttribute(bb.has(r)?r:rf(r),t.attrs[r])}const wa={};function Hj(e){Object.assign(wa,e)}function xb(e,{layout:t,layoutId:n}){return mo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!wa[e]||e==="opacity")}function hf(e,t,n){var o;const{style:r}=e,s={};for(const i in r)(Re(r[i])||t.style&&Re(t.style[i])||xb(i,e)||((o=n==null?void 0:n.getValue(i))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(s[i]=r[i]);return s}function Sb(e,t,n){const o=hf(e,t,n);for(const r in e)if(Re(e[r])||Re(t[r])){const s=pr.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;o[s]=e[r]}return o}function zj(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Mm=["x","y","width","height","cx","cy","r"],$j={useVisualState:pb({scrapeMotionValuesFromProps:Sb,createRenderState:yb,onUpdate:({props:e,prevProps:t,current:n,renderState:o,latestValues:r})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in r)if(mo.has(a)){s=!0;break}}if(!s)return;let i=!t;if(t)for(let a=0;a<Mm.length;a++){const l=Mm[a];e[l]!==t[l]&&(i=!0)}i&&oe.read(()=>{zj(n,o),oe.render(()=>{ff(o,r,mf(n.tagName),e.transformTemplate),wb(n,o)})})}})},Jj={useVisualState:pb({scrapeMotionValuesFromProps:hf,createRenderState:pf})};function Cb(e,t,n){for(const o in t)!Re(t[o])&&!xb(o,n)&&(e[o]=t[o])}function Gj({transformTemplate:e},t){return m.useMemo(()=>{const n=pf();return df(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Yj(e,t){const n=e.style||{},o={};return Cb(o,n,e),Object.assign(o,Gj(e,t)),o}function Kj(e,t){const n={},o=Yj(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}function qj(e,t,n,o){const r=m.useMemo(()=>{const s=yb();return ff(s,t,mf(o),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Cb(s,e.style,e),r.style={...s,...r.style}}return r}function Qj(e=!1){return(n,o,r,{latestValues:s},i)=>{const l=(af(n)?qj:Kj)(o,s,i,n),c=fj(o,typeof n=="string",e),u=n!==m.Fragment?{...c,...l,ref:r}:{},{children:f}=o,p=m.useMemo(()=>Re(f)?f.get():f,[f]);return m.createElement(n,{...u,children:p})}}function Xj(e,t){return function(o,{forwardMotionProps:r}={forwardMotionProps:!1}){const i={...af(o)?$j:Jj,preloadedFeatures:e,useRender:Qj(r),createVisualElement:t,Component:o};return xj(i)}}function Eb(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}function ll(e,t,n){const o=e.getProps();return lf(o,t,n!==void 0?n:o.custom,e)}const Zj=tf(()=>window.ScrollTimeline!==void 0);class ek{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let o=0;o<this.animations.length;o++)this.animations[o][t]=n}attachTimeline(t,n){const o=this.animations.map(r=>{if(Zj()&&r.attachTimeline)return r.attachTimeline(t);if(typeof n=="function")return n(r)});return()=>{o.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class tk extends ek{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function gf(e,t){return e?e[t]||e.default||e:void 0}const Au=2e4;function jb(e){let t=0;const n=50;let o=e.next(t);for(;!o.done&&t<Au;)t+=n,o=e.next(t);return t>=Au?1/0:t}function yf(e){return typeof e=="function"}function Dm(e,t){e.timeline=t,e.onfinish=null}const vf=e=>Array.isArray(e)&&typeof e[0]=="number",nk={linearEasing:void 0};function ok(e,t){const n=tf(e);return()=>{var o;return(o=nk[t])!==null&&o!==void 0?o:n()}}const xa=ok(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kb=(e,t,n=10)=>{let o="";const r=Math.max(Math.round(t/n),2);for(let s=0;s<r;s++)o+=e(rr(0,r-1,s))+", ";return`linear(${o.substring(0,o.length-2)})`};function Tb(e){return!!(typeof e=="function"&&xa()||!e||typeof e=="string"&&(e in Pu||xa())||vf(e)||Array.isArray(e)&&e.every(Tb))}const _r=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`,Pu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_r([0,.65,.55,1]),circOut:_r([.55,0,1,.45]),backIn:_r([.31,.01,.66,-.59]),backOut:_r([.33,1.53,.69,.99])};function Ab(e,t){if(e)return typeof e=="function"&&xa()?kb(e,t):vf(e)?_r(e):Array.isArray(e)?e.map(n=>Ab(n,t)||Pu.easeOut):Pu[e]}const wt={x:!1,y:!1};function Pb(){return wt.x||wt.y}function rk(e,t,n){var o;if(e instanceof Element)return[e];if(typeof e=="string"){let r=document;const s=(o=void 0)!==null&&o!==void 0?o:r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function Nb(e,t){const n=rk(e),o=new AbortController,r={passive:!0,...t,signal:o.signal};return[n,r,()=>o.abort()]}function Lm(e){return t=>{t.pointerType==="touch"||Pb()||e(t)}}function sk(e,t,n={}){const[o,r,s]=Nb(e,n),i=Lm(a=>{const{target:l}=a,c=t(a);if(typeof c!="function"||!l)return;const u=Lm(f=>{c(f),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,r)});return o.forEach(a=>{a.addEventListener("pointerenter",i,r)}),s}const Ob=(e,t)=>t?e===t?!0:Ob(e,t.parentElement):!1,bf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ik=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ak(e){return ik.has(e.tagName)||e.tabIndex!==-1}const Br=new WeakSet;function Fm(e){return t=>{t.key==="Enter"&&e(t)}}function oc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const lk=(e,t)=>{const n=e.currentTarget;if(!n)return;const o=Fm(()=>{if(Br.has(n))return;oc(n,"down");const r=Fm(()=>{oc(n,"up")}),s=()=>oc(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",o,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",o),t)};function Um(e){return bf(e)&&!Pb()}function ck(e,t,n={}){const[o,r,s]=Nb(e,n),i=a=>{const l=a.currentTarget;if(!Um(a)||Br.has(l))return;Br.add(l);const c=t(a),u=(y,w)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!Um(y)||!Br.has(l))&&(Br.delete(l),typeof c=="function"&&c(y,{success:w}))},f=y=>{u(y,n.useGlobalTarget||Ob(l,y.target))},p=y=>{u(y,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",p,r)};return o.forEach(a=>{!ak(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",i,r),a.addEventListener("focus",c=>lk(c,r),r)}),s}function uk(e){return e==="x"||e==="y"?wt[e]?null:(wt[e]=!0,()=>{wt[e]=!1}):wt.x||wt.y?null:(wt.x=wt.y=!0,()=>{wt.x=wt.y=!1})}const Rb=new Set(["width","height","top","left","right","bottom",...pr]);let Hi;function dk(){Hi=void 0}const Ft={now:()=>(Hi===void 0&&Ft.set(Ee.isProcessing||ij.useManualTiming?Ee.timestamp:performance.now()),Hi),set:e=>{Hi=e,queueMicrotask(dk)}};function wf(e,t){e.indexOf(t)===-1&&e.push(t)}function xf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Sf{constructor(){this.subscriptions=[]}add(t){return wf(this.subscriptions,t),()=>xf(this.subscriptions,t)}notify(t,n,o){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,o);else for(let s=0;s<r;s++){const i=this.subscriptions[s];i&&i(t,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ib(e,t){return t?e*(1e3/t):0}const _m=30,fk=e=>!isNaN(parseFloat(e));class pk{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,r=!0)=>{const s=Ft.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ft.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=fk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Sf);const o=this.events[t].add(n);return t==="change"?()=>{o(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,o){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ft.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_m)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_m);return Ib(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ts(e,t){return new pk(e,t)}function mk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ts(n))}function hk(e,t){const n=ll(e,t);let{transitionEnd:o={},transition:r={},...s}=n||{};s={...s,...o};for(const i in s){const a=Tj(s[i]);mk(e,i,a)}}function gk(e){return!!(Re(e)&&e.add)}function Nu(e,t){const n=e.getValue("willChange");if(gk(n))return n.add(t)}function Mb(e){return e.props[ub]}const Db=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,yk=1e-7,vk=12;function bk(e,t,n,o,r){let s,i,a=0;do i=t+(n-t)/2,s=Db(i,o,r)-e,s>0?n=i:t=i;while(Math.abs(s)>yk&&++a<vk);return i}function zs(e,t,n,o){if(e===t&&n===o)return tt;const r=s=>bk(s,0,1,e,n);return s=>s===0||s===1?s:Db(r(s),t,o)}const Lb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Fb=e=>t=>1-e(1-t),Ub=zs(.33,1.53,.69,.99),Cf=Fb(Ub),_b=Lb(Cf),Bb=e=>(e*=2)<1?.5*Cf(e):.5*(2-Math.pow(2,-10*(e-1))),Ef=e=>1-Math.sin(Math.acos(e)),Wb=Fb(Ef),Vb=Lb(Ef),Hb=e=>/^0[^.\s]+$/u.test(e);function wk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Hb(e):!0}const es=e=>Math.round(e*1e5)/1e5,jf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xk(e){return e==null}const Sk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kf=(e,t)=>n=>!!(typeof n=="string"&&Sk.test(n)&&n.startsWith(e)||t&&!xk(n)&&Object.prototype.hasOwnProperty.call(n,t)),zb=(e,t,n)=>o=>{if(typeof o!="string")return o;const[r,s,i,a]=o.match(jf);return{[e]:parseFloat(r),[t]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},Ck=e=>nn(0,255,e),rc={...mr,transform:e=>Math.round(Ck(e))},Zn={test:kf("rgb","red"),parse:zb("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:o=1})=>"rgba("+rc.transform(e)+", "+rc.transform(t)+", "+rc.transform(n)+", "+es(ks.transform(o))+")"};function Ek(e){let t="",n="",o="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),o=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),o=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,o+=o,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:r?parseInt(r,16)/255:1}}const Ou={test:kf("#"),parse:Ek,transform:Zn.transform},Fo={test:kf("hsl","hue"),parse:zb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:o=1})=>"hsla("+Math.round(e)+", "+Lt.transform(es(t))+", "+Lt.transform(es(n))+", "+es(ks.transform(o))+")"},Pe={test:e=>Zn.test(e)||Ou.test(e)||Fo.test(e),parse:e=>Zn.test(e)?Zn.parse(e):Fo.test(e)?Fo.parse(e):Ou.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Zn.transform(e):Fo.transform(e)},jk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kk(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(jf))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(jk))===null||n===void 0?void 0:n.length)||0)>0}const $b="number",Jb="color",Tk="var",Ak="var(",Bm="${}",Pk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function As(e){const t=e.toString(),n=[],o={color:[],number:[],var:[]},r=[];let s=0;const a=t.replace(Pk,l=>(Pe.test(l)?(o.color.push(s),r.push(Jb),n.push(Pe.parse(l))):l.startsWith(Ak)?(o.var.push(s),r.push(Tk),n.push(l)):(o.number.push(s),r.push($b),n.push(parseFloat(l))),++s,Bm)).split(Bm);return{values:n,split:a,indexes:o,types:r}}function Gb(e){return As(e).values}function Yb(e){const{split:t,types:n}=As(e),o=t.length;return r=>{let s="";for(let i=0;i<o;i++)if(s+=t[i],r[i]!==void 0){const a=n[i];a===$b?s+=es(r[i]):a===Jb?s+=Pe.transform(r[i]):s+=r[i]}return s}}const Nk=e=>typeof e=="number"?0:e;function Ok(e){const t=Gb(e);return Yb(e)(t.map(Nk))}const Dn={test:kk,parse:Gb,createTransformer:Yb,getAnimatableNone:Ok},Rk=new Set(["brightness","contrast","saturate","opacity"]);function Ik(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=n.match(jf)||[];if(!o)return e;const r=n.replace(o,"");let s=Rk.has(t)?1:0;return o!==n&&(s*=100),t+"("+s+r+")"}const Mk=/\b([a-z-]*)\(.*?\)/gu,Ru={...Dn,getAnimatableNone:e=>{const t=e.match(Mk);return t?t.map(Ik).join(" "):e}},Dk={...uf,color:Pe,backgroundColor:Pe,outlineColor:Pe,fill:Pe,stroke:Pe,borderColor:Pe,borderTopColor:Pe,borderRightColor:Pe,borderBottomColor:Pe,borderLeftColor:Pe,filter:Ru,WebkitFilter:Ru},Tf=e=>Dk[e];function Kb(e,t){let n=Tf(e);return n!==Ru&&(n=Dn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Lk=new Set(["auto","none","0"]);function Fk(e,t,n){let o=0,r;for(;o<e.length&&!r;){const s=e[o];typeof s=="string"&&!Lk.has(s)&&As(s).values.length&&(r=e[o]),o++}if(r&&n)for(const s of t)e[s]=Kb(n,r)}const Wm=e=>e===mr||e===V,Vm=(e,t)=>parseFloat(e.split(", ")[t]),Hm=(e,t)=>(n,{transform:o})=>{if(o==="none"||!o)return 0;const r=o.match(/^matrix3d\((.+)\)$/u);if(r)return Vm(r[1],t);{const s=o.match(/^matrix\((.+)\)$/u);return s?Vm(s[1],e):0}},Uk=new Set(["x","y","z"]),_k=pr.filter(e=>!Uk.has(e));function Bk(e){const t=[];return _k.forEach(n=>{const o=e.getValue(n);o!==void 0&&(t.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),t}const ir={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Hm(4,13),y:Hm(5,14)};ir.translateX=ir.x;ir.translateY=ir.y;const no=new Set;let Iu=!1,Mu=!1;function qb(){if(Mu){const e=Array.from(no).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),n=new Map;t.forEach(o=>{const r=Bk(o);r.length&&(n.set(o,r),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const r=n.get(o);r&&r.forEach(([s,i])=>{var a;(a=o.getValue(s))===null||a===void 0||a.set(i)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Mu=!1,Iu=!1,no.forEach(e=>e.complete()),no.clear()}function Qb(){no.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Mu=!0)})}function Wk(){Qb(),qb()}class Af{constructor(t,n,o,r,s,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=o,this.motionValue=r,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(no.add(this),Iu||(Iu=!0,oe.read(Qb),oe.resolveKeyframes(qb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:o,motionValue:r}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const i=r==null?void 0:r.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(o&&n){const l=o.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),r&&i===void 0&&r.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),no.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,no.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Xb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Vk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Hk(e){const t=Vk.exec(e);if(!t)return[,];const[,n,o,r]=t;return[`--${n??o}`,r]}function Zb(e,t,n=1){const[o,r]=Hk(e);if(!o)return;const s=window.getComputedStyle(t).getPropertyValue(o);if(s){const i=s.trim();return Xb(i)?parseFloat(i):i}return cf(r)?Zb(r,t,n+1):r}const ew=e=>t=>t.test(e),zk={test:e=>e==="auto",parse:e=>e},tw=[mr,V,Lt,pn,Ij,Rj,zk],zm=e=>tw.find(ew(e));class nw extends Af{constructor(t,n,o,r,s){super(t,n,o,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:o}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),cf(c))){const u=Zb(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Rb.has(o)||t.length!==2)return;const[r,s]=t,i=zm(r),a=zm(s);if(i!==a)if(Wm(i)&&Wm(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,o=[];for(let r=0;r<t.length;r++)wk(t[r])&&o.push(r);o.length&&Fk(t,o,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ir[o](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(o,r).jump(r,!1)}measureEndState(){var t;const{element:n,name:o,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(o);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=ir[o](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const $m=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Dn.test(e)||e==="0")&&!e.startsWith("url("));function $k(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Jk(e,t,n,o){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=$m(r,t),a=$m(s,t);return!i||!a?!1:$k(e)||(n==="spring"||yf(n))&&o}const Gk=e=>e!==null;function cl(e,{repeat:t,repeatType:n="loop"},o){const r=e.filter(Gk),s=t&&n!=="loop"&&t%2===1?0:r.length-1;return!s||o===void 0?r[s]:o}const Yk=40;class ow{constructor({autoplay:t=!0,delay:n=0,type:o="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ft.now(),this.options={autoplay:t,delay:n,type:o,repeat:r,repeatDelay:s,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Yk?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Wk(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Ft.now(),this.hasAttemptedResolve=!0;const{name:o,type:r,velocity:s,delay:i,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Jk(t,o,r,s))if(i)this.options.duration=0;else{l&&l(cl(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ae=(e,t,n)=>e+(t-e)*n;function sc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Kk({hue:e,saturation:t,lightness:n,alpha:o}){e/=360,t/=100,n/=100;let r=0,s=0,i=0;if(!t)r=s=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=sc(l,a,e+1/3),s=sc(l,a,e),i=sc(l,a,e-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:o}}function Sa(e,t){return n=>n>0?t:e}const ic=(e,t,n)=>{const o=e*e,r=n*(t*t-o)+o;return r<0?0:Math.sqrt(r)},qk=[Ou,Zn,Fo],Qk=e=>qk.find(t=>t.test(e));function Jm(e){const t=Qk(e);if(!t)return!1;let n=t.parse(e);return t===Fo&&(n=Kk(n)),n}const Gm=(e,t)=>{const n=Jm(e),o=Jm(t);if(!n||!o)return Sa(e,t);const r={...n};return s=>(r.red=ic(n.red,o.red,s),r.green=ic(n.green,o.green,s),r.blue=ic(n.blue,o.blue,s),r.alpha=ae(n.alpha,o.alpha,s),Zn.transform(r))},Xk=(e,t)=>n=>t(e(n)),$s=(...e)=>e.reduce(Xk),Du=new Set(["none","hidden"]);function Zk(e,t){return Du.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function eT(e,t){return n=>ae(e,t,n)}function Pf(e){return typeof e=="number"?eT:typeof e=="string"?cf(e)?Sa:Pe.test(e)?Gm:oT:Array.isArray(e)?rw:typeof e=="object"?Pe.test(e)?Gm:tT:Sa}function rw(e,t){const n=[...e],o=n.length,r=e.map((s,i)=>Pf(s)(s,t[i]));return s=>{for(let i=0;i<o;i++)n[i]=r[i](s);return n}}function tT(e,t){const n={...e,...t},o={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(o[r]=Pf(e[r])(e[r],t[r]));return r=>{for(const s in o)n[s]=o[s](r);return n}}function nT(e,t){var n;const o=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][r[i]],l=(n=e.values[a])!==null&&n!==void 0?n:0;o[s]=l,r[i]++}return o}const oT=(e,t)=>{const n=Dn.createTransformer(t),o=As(e),r=As(t);return o.indexes.var.length===r.indexes.var.length&&o.indexes.color.length===r.indexes.color.length&&o.indexes.number.length>=r.indexes.number.length?Du.has(e)&&!r.values.length||Du.has(t)&&!o.values.length?Zk(e,t):$s(rw(nT(o,r),r.values),n):Sa(e,t)};function sw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ae(e,t,n):Pf(e)(e,t)}const rT=5;function iw(e,t,n){const o=Math.max(t-rT,0);return Ib(n-e(o),t-o)}const ue={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ac=.001;function sT({duration:e=ue.duration,bounce:t=ue.bounce,velocity:n=ue.velocity,mass:o=ue.mass}){let r,s,i=1-t;i=nn(ue.minDamping,ue.maxDamping,i),e=nn(ue.minDuration,ue.maxDuration,Qt(e)),i<1?(r=c=>{const u=c*i,f=u*e,p=u-n,y=Lu(c,i),w=Math.exp(-f);return ac-p/y*w},s=c=>{const f=c*i*e,p=f*n+n,y=Math.pow(i,2)*Math.pow(c,2)*e,w=Math.exp(-f),v=Lu(Math.pow(c,2),i);return(-r(c)+ac>0?-1:1)*((p-y)*w)/v}):(r=c=>{const u=Math.exp(-c*e),f=(c-n)*e+1;return-ac+u*f},s=c=>{const u=Math.exp(-c*e),f=(n-c)*(e*e);return u*f});const a=5/e,l=aT(r,s,a);if(e=qt(e),isNaN(l))return{stiffness:ue.stiffness,damping:ue.damping,duration:e};{const c=Math.pow(l,2)*o;return{stiffness:c,damping:i*2*Math.sqrt(o*c),duration:e}}}const iT=12;function aT(e,t,n){let o=n;for(let r=1;r<iT;r++)o=o-e(o)/t(o);return o}function Lu(e,t){return e*Math.sqrt(1-t*t)}const lT=["duration","bounce"],cT=["stiffness","damping","mass"];function Ym(e,t){return t.some(n=>e[n]!==void 0)}function uT(e){let t={velocity:ue.velocity,stiffness:ue.stiffness,damping:ue.damping,mass:ue.mass,isResolvedFromDuration:!1,...e};if(!Ym(e,cT)&&Ym(e,lT))if(e.visualDuration){const n=e.visualDuration,o=2*Math.PI/(n*1.2),r=o*o,s=2*nn(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:ue.mass,stiffness:r,damping:s}}else{const n=sT(e);t={...t,...n,mass:ue.mass},t.isResolvedFromDuration=!0}return t}function aw(e=ue.visualDuration,t=ue.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:r}=n;const s=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:f,velocity:p,isResolvedFromDuration:y}=uT({...n,velocity:-Qt(n.velocity||0)}),w=p||0,v=c/(2*Math.sqrt(l*u)),x=i-s,h=Qt(Math.sqrt(l/u)),g=Math.abs(x)<5;o||(o=g?ue.restSpeed.granular:ue.restSpeed.default),r||(r=g?ue.restDelta.granular:ue.restDelta.default);let b;if(v<1){const C=Lu(h,v);b=j=>{const E=Math.exp(-v*h*j);return i-E*((w+v*h*x)/C*Math.sin(C*j)+x*Math.cos(C*j))}}else if(v===1)b=C=>i-Math.exp(-h*C)*(x+(w+h*x)*C);else{const C=h*Math.sqrt(v*v-1);b=j=>{const E=Math.exp(-v*h*j),k=Math.min(C*j,300);return i-E*((w+v*h*x)*Math.sinh(k)+C*x*Math.cosh(k))/C}}const S={calculatedDuration:y&&f||null,next:C=>{const j=b(C);if(y)a.done=C>=f;else{let E=0;v<1&&(E=C===0?qt(w):iw(b,C,j));const k=Math.abs(E)<=o,N=Math.abs(i-j)<=r;a.done=k&&N}return a.value=a.done?i:j,a},toString:()=>{const C=Math.min(jb(S),Au),j=kb(E=>S.next(C*E).value,C,30);return C+"ms "+j}};return S}function Km({keyframes:e,velocity:t=0,power:n=.8,timeConstant:o=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],p={done:!1,value:f},y=k=>a!==void 0&&k<a||l!==void 0&&k>l,w=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let v=n*t;const x=f+v,h=i===void 0?x:i(x);h!==x&&(v=h-f);const g=k=>-v*Math.exp(-k/o),b=k=>h+g(k),S=k=>{const N=g(k),P=b(k);p.done=Math.abs(N)<=c,p.value=p.done?h:P};let C,j;const E=k=>{y(p.value)&&(C=k,j=aw({keyframes:[p.value,w(p.value)],velocity:iw(b,k,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:k=>{let N=!1;return!j&&C===void 0&&(N=!0,S(k),E(k)),C!==void 0&&k>=C?j.next(k-C):(!N&&S(k),p)}}}const dT=zs(.42,0,1,1),fT=zs(0,0,.58,1),lw=zs(.42,0,.58,1),pT=e=>Array.isArray(e)&&typeof e[0]!="number",mT={linear:tt,easeIn:dT,easeInOut:lw,easeOut:fT,circIn:Ef,circInOut:Vb,circOut:Wb,backIn:Cf,backInOut:_b,backOut:Ub,anticipate:Bb},qm=e=>{if(vf(e)){sb(e.length===4);const[t,n,o,r]=e;return zs(t,n,o,r)}else if(typeof e=="string")return mT[e];return e};function hT(e,t,n){const o=[],r=n||sw,s=e.length-1;for(let i=0;i<s;i++){let a=r(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||tt:t;a=$s(l,a)}o.push(a)}return o}function gT(e,t,{clamp:n=!0,ease:o,mixer:r}={}){const s=e.length;if(sb(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=hT(t,o,r),l=a.length,c=u=>{if(i&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const p=rr(e[f],e[f+1],u);return a[f](p)};return n?u=>c(nn(e[0],e[s-1],u)):c}function yT(e,t){const n=e[e.length-1];for(let o=1;o<=t;o++){const r=rr(0,t,o);e.push(ae(n,1,r))}}function vT(e){const t=[0];return yT(t,e.length-1),t}function bT(e,t){return e.map(n=>n*t)}function wT(e,t){return e.map(()=>t||lw).splice(0,e.length-1)}function Ca({duration:e=300,keyframes:t,times:n,ease:o="easeInOut"}){const r=pT(o)?o.map(qm):qm(o),s={done:!1,value:t[0]},i=bT(n&&n.length===t.length?n:vT(t),e),a=gT(i,t,{ease:Array.isArray(r)?r:wT(t,r)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const xT=e=>{const t=({timestamp:n})=>e(n);return{start:()=>oe.update(t,!0),stop:()=>Mn(t),now:()=>Ee.isProcessing?Ee.timestamp:Ft.now()}},ST={decay:Km,inertia:Km,tween:Ca,keyframes:Ca,spring:aw},CT=e=>e/100;class Nf extends ow{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:o,element:r,keyframes:s}=this.options,i=(r==null?void 0:r.KeyframeResolver)||Af,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new i(s,a,n,o,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:o=0,repeatDelay:r=0,repeatType:s,velocity:i=0}=this.options,a=yf(n)?n:ST[n]||Ca;let l,c;a!==Ca&&typeof t[0]!="number"&&(l=$s(CT,sw(t[0],t[1])),t=[0,100]);const u=a({...this.options,keyframes:t});s==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=jb(u));const{calculatedDuration:f}=u,p=f+r,y=p*(o+1)-r;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:y}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:o}=this;if(!o){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:f}=o;if(this.startTime===null)return s.next(0);const{delay:p,repeat:y,repeatType:w,repeatDelay:v,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const h=this.currentTime-p*(this.speed>=0?1:-1),g=this.speed>=0?h<0:h>u;this.currentTime=Math.max(h,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,S=s;if(y){const k=Math.min(this.currentTime,u)/f;let N=Math.floor(k),P=k%1;!P&&k>=1&&(P=1),P===1&&N--,N=Math.min(N,y+1),!!(N%2)&&(w==="reverse"?(P=1-P,v&&(P-=v/f)):w==="mirror"&&(S=i)),b=nn(0,1,P)*f}const C=g?{done:!1,value:l[0]}:S.next(b);a&&(C.value=a(C.value));let{done:j}=C;!g&&c!==null&&(j=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return E&&r!==void 0&&(C.value=cl(l,this.options,r)),x&&x(C.value),E&&this.finish(),C}get duration(){const{resolved:t}=this;return t?Qt(t.calculatedDuration):0}get time(){return Qt(this.currentTime)}set time(t){t=qt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Qt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=xT,onPlay:n,startTime:o}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const ET=new Set(["opacity","clipPath","filter","transform"]);function jT(e,t,n,{delay:o=0,duration:r=300,repeat:s=0,repeatType:i="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=Ab(a,r);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:o,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}const kT=tf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ea=10,TT=2e4;function AT(e){return yf(e.type)||e.type==="spring"||!Tb(e.ease)}function PT(e,t){const n=new Nf({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:e[0]};const r=[];let s=0;for(;!o.done&&s<TT;)o=n.sample(s),r.push(o.value),s+=Ea;return{times:void 0,keyframes:r,duration:s-Ea,ease:"linear"}}const cw={anticipate:Bb,backInOut:_b,circInOut:Vb};function NT(e){return e in cw}class Qm extends ow{constructor(t){super(t);const{name:n,motionValue:o,element:r,keyframes:s}=this.options;this.resolver=new nw(s,(i,a)=>this.onKeyframesResolved(i,a),n,o,r),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:o=300,times:r,ease:s,type:i,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&xa()&&NT(s)&&(s=cw[s]),AT(this.options)){const{onComplete:f,onUpdate:p,motionValue:y,element:w,...v}=this.options,x=PT(t,v);t=x.keyframes,t.length===1&&(t[1]=t[0]),o=x.duration,r=x.times,s=x.ease,i="keyframes"}const u=jT(a.owner.current,l,t,{...this.options,duration:o,times:r,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(Dm(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:f}=this.options;a.set(cl(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:o,times:r,type:i,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Qt(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Qt(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:o}=n;o.currentTime=qt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:o}=n;o.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return tt;const{animation:o}=n;Dm(o,t)}return tt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:o,duration:r,type:s,ease:i,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:f,element:p,...y}=this.options,w=new Nf({...y,keyframes:o,duration:r,type:s,ease:i,times:a,isGenerator:!0}),v=qt(this.time);c.setWithVelocity(w.sample(v-Ea).value,w.sample(v).value,Ea)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:o,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return kT()&&o&&ET.has(o)&&!l&&!c&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}}const OT={type:"spring",stiffness:500,damping:25,restSpeed:10},RT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),IT={type:"keyframes",duration:.8},MT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DT=(e,{keyframes:t})=>t.length>2?IT:mo.has(e)?e.startsWith("scale")?RT(t[1]):OT:MT;function LT({when:e,delay:t,delayChildren:n,staggerChildren:o,staggerDirection:r,repeat:s,repeatType:i,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Of=(e,t,n,o={},r,s)=>i=>{const a=gf(o,e)||{},l=a.delay||o.delay||0;let{elapsed:c=0}=o;c=c-qt(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:r};LT(a)||(u={...u,...DT(e,u)}),u.duration&&(u.duration=qt(u.duration)),u.repeatDelay&&(u.repeatDelay=qt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!s&&t.get()!==void 0){const p=cl(u.keyframes,a);if(p!==void 0)return oe.update(()=>{u.onUpdate(p),u.onComplete()}),new tk([])}return!s&&Qm.supports(u)?new Qm(u):new Nf(u)};function FT({protectedKeys:e,needsAnimating:t},n){const o=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,o}function uw(e,t,{delay:n=0,transitionOverride:o,type:r}={}){var s;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;o&&(i=o);const c=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const f in l){const p=e.getValue(f,(s=e.latestValues[f])!==null&&s!==void 0?s:null),y=l[f];if(y===void 0||u&&FT(u,f))continue;const w={delay:n,...gf(i||{},f)};let v=!1;if(window.MotionHandoffAnimation){const h=Mb(e);if(h){const g=window.MotionHandoffAnimation(h,f,oe);g!==null&&(w.startTime=g,v=!0)}}Nu(e,f),p.start(Of(f,p,y,e.shouldReduceMotion&&Rb.has(f)?{type:!1}:w,e,v));const x=p.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{oe.update(()=>{a&&hk(e,a)})}),c}function Fu(e,t,n={}){var o;const r=ll(e,t,n.type==="exit"?(o=e.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(uw(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:p}=s;return UT(e,t,u+c,f,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function UT(e,t,n=0,o=0,r=1,s){const i=[],a=(e.variantChildren.size-1)*o,l=r===1?(c=0)=>c*o:(c=0)=>a-c*o;return Array.from(e.variantChildren).sort(_T).forEach((c,u)=>{c.notify("AnimationStart",t),i.push(Fu(c,t,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function _T(e,t){return e.sortNodePosition(t)}function BT(e,t,n={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const r=t.map(s=>Fu(e,s,n));o=Promise.all(r)}else if(typeof t=="string")o=Fu(e,t,n);else{const r=typeof t=="function"?ll(e,t,n.custom):t;o=Promise.all(uw(e,r,n))}return o.then(()=>{e.notify("AnimationComplete",t)})}const WT=of.length;function dw(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?dw(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<WT;n++){const o=of[n],r=e.props[o];(js(r)||r===!1)&&(t[o]=r)}return t}const VT=[...nf].reverse(),HT=nf.length;function zT(e){return t=>Promise.all(t.map(({animation:n,options:o})=>BT(e,n,o)))}function $T(e){let t=zT(e),n=Xm(),o=!0;const r=l=>(c,u)=>{var f;const p=ll(e,u,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:y,transitionEnd:w,...v}=p;c={...c,...v,...w}}return c};function s(l){t=l(e)}function i(l){const{props:c}=e,u=dw(e.parent)||{},f=[],p=new Set;let y={},w=1/0;for(let x=0;x<HT;x++){const h=VT[x],g=n[h],b=c[h]!==void 0?c[h]:u[h],S=js(b),C=h===l?g.isActive:null;C===!1&&(w=x);let j=b===u[h]&&b!==c[h]&&S;if(j&&o&&e.manuallyAnimateOnMount&&(j=!1),g.protectedKeys={...y},!g.isActive&&C===null||!b&&!g.prevProp||il(b)||typeof b=="boolean")continue;const E=JT(g.prevProp,b);let k=E||h===l&&g.isActive&&!j&&S||x>w&&S,N=!1;const P=Array.isArray(b)?b:[b];let F=P.reduce(r(h),{});C===!1&&(F={});const{prevResolvedValues:U={}}=g,H={...U,...F},M=B=>{k=!0,p.has(B)&&(N=!0,p.delete(B)),g.needsAnimating[B]=!0;const T=e.getValue(B);T&&(T.liveStyle=!1)};for(const B in H){const T=F[B],A=U[B];if(y.hasOwnProperty(B))continue;let D=!1;Tu(T)&&Tu(A)?D=!Eb(T,A):D=T!==A,D?T!=null?M(B):p.add(B):T!==void 0&&p.has(B)?M(B):g.protectedKeys[B]=!0}g.prevProp=b,g.prevResolvedValues=F,g.isActive&&(y={...y,...F}),o&&e.blockInitialAnimation&&(k=!1),k&&(!(j&&E)||N)&&f.push(...P.map(B=>({animation:B,options:{type:h}})))}if(p.size){const x={};p.forEach(h=>{const g=e.getBaseTarget(h),b=e.getValue(h);b&&(b.liveStyle=!0),x[h]=g??null}),f.push({animation:x})}let v=!!f.length;return o&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(v=!1),o=!1,v?t(f):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const f=i(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Xm(),o=!0}}}function JT(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Eb(t,e):!1}function $n(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xm(){return{animate:$n(!0),whileInView:$n(),whileHover:$n(),whileTap:$n(),whileDrag:$n(),whileFocus:$n(),exit:$n()}}class zn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class GT extends zn{constructor(t){super(t),t.animationState||(t.animationState=$T(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();il(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let YT=0;class KT extends zn{constructor(){super(...arguments),this.id=YT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const qT={animation:{Feature:GT},exit:{Feature:KT}};function Ps(e,t,n,o={passive:!0}){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n)}function Js(e){return{point:{x:e.pageX,y:e.pageY}}}const QT=e=>t=>bf(t)&&e(t,Js(t));function ts(e,t,n,o){return Ps(e,t,QT(n),o)}const Zm=(e,t)=>Math.abs(e-t);function XT(e,t){const n=Zm(e.x,t.x),o=Zm(e.y,t.y);return Math.sqrt(n**2+o**2)}class fw{constructor(t,n,{transformPagePoint:o,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=cc(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=XT(f.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:w}=f,{timestamp:v}=Ee;this.history.push({...w,timestamp:v});const{onStart:x,onMove:h}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),h&&h(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=lc(p,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=cc(f.type==="pointercancel"?this.lastMoveEventInfo:lc(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,x),w&&w(f,x)},!bf(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=o,this.contextWindow=r||window;const i=Js(t),a=lc(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ee;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,cc(a,this.history)),this.removeListeners=$s(ts(this.contextWindow,"pointermove",this.handlePointerMove),ts(this.contextWindow,"pointerup",this.handlePointerUp),ts(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Mn(this.updatePoint)}}function lc(e,t){return t?{point:t(e.point)}:e}function eh(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cc({point:e},t){return{point:e,delta:eh(e,pw(t)),offset:eh(e,ZT(t)),velocity:eA(t,.1)}}function ZT(e){return e[0]}function pw(e){return e[e.length-1]}function eA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,o=null;const r=pw(e);for(;n>=0&&(o=e[n],!(r.timestamp-o.timestamp>qt(t)));)n--;if(!o)return{x:0,y:0};const s=Qt(r.timestamp-o.timestamp);if(s===0)return{x:0,y:0};const i={x:(r.x-o.x)/s,y:(r.y-o.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}const mw=1e-4,tA=1-mw,nA=1+mw,hw=.01,oA=0-hw,rA=0+hw;function rt(e){return e.max-e.min}function sA(e,t,n){return Math.abs(e-t)<=n}function th(e,t,n,o=.5){e.origin=o,e.originPoint=ae(t.min,t.max,e.origin),e.scale=rt(n)/rt(t),e.translate=ae(n.min,n.max,e.origin)-e.originPoint,(e.scale>=tA&&e.scale<=nA||isNaN(e.scale))&&(e.scale=1),(e.translate>=oA&&e.translate<=rA||isNaN(e.translate))&&(e.translate=0)}function ns(e,t,n,o){th(e.x,t.x,n.x,o?o.originX:void 0),th(e.y,t.y,n.y,o?o.originY:void 0)}function nh(e,t,n){e.min=n.min+t.min,e.max=e.min+rt(t)}function iA(e,t,n){nh(e.x,t.x,n.x),nh(e.y,t.y,n.y)}function oh(e,t,n){e.min=t.min-n.min,e.max=e.min+rt(t)}function os(e,t,n){oh(e.x,t.x,n.x),oh(e.y,t.y,n.y)}function aA(e,{min:t,max:n},o){return t!==void 0&&e<t?e=o?ae(t,e,o.min):Math.max(e,t):n!==void 0&&e>n&&(e=o?ae(n,e,o.max):Math.min(e,n)),e}function rh(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function lA(e,{top:t,left:n,bottom:o,right:r}){return{x:rh(e.x,n,r),y:rh(e.y,t,o)}}function sh(e,t){let n=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,o]=[o,n]),{min:n,max:o}}function cA(e,t){return{x:sh(e.x,t.x),y:sh(e.y,t.y)}}function uA(e,t){let n=.5;const o=rt(e),r=rt(t);return r>o?n=rr(t.min,t.max-o,e.min):o>r&&(n=rr(e.min,e.max-r,t.min)),nn(0,1,n)}function dA(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Uu=.35;function fA(e=Uu){return e===!1?e=0:e===!0&&(e=Uu),{x:ih(e,"left","right"),y:ih(e,"top","bottom")}}function ih(e,t,n){return{min:ah(e,t),max:ah(e,n)}}function ah(e,t){return typeof e=="number"?e:e[t]||0}const lh=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uo=()=>({x:lh(),y:lh()}),ch=()=>({min:0,max:0}),fe=()=>({x:ch(),y:ch()});function ct(e){return[e("x"),e("y")]}function gw({top:e,left:t,right:n,bottom:o}){return{x:{min:t,max:n},y:{min:e,max:o}}}function pA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function uc(e){return e===void 0||e===1}function _u({scale:e,scaleX:t,scaleY:n}){return!uc(e)||!uc(t)||!uc(n)}function Yn(e){return _u(e)||yw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function yw(e){return uh(e.x)||uh(e.y)}function uh(e){return e&&e!=="0%"}function ja(e,t,n){const o=e-n,r=t*o;return n+r}function dh(e,t,n,o,r){return r!==void 0&&(e=ja(e,r,o)),ja(e,n,o)+t}function Bu(e,t=0,n=1,o,r){e.min=dh(e.min,t,n,o,r),e.max=dh(e.max,t,n,o,r)}function vw(e,{x:t,y:n}){Bu(e.x,t.translate,t.scale,t.originPoint),Bu(e.y,n.translate,n.scale,n.originPoint)}const fh=.999999999999,ph=1.0000000000001;function hA(e,t,n,o=!1){const r=n.length;if(!r)return;t.x=t.y=1;let s,i;for(let a=0;a<r;a++){s=n[a],i=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(o&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Bo(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,vw(e,i)),o&&Yn(s.latestValues)&&Bo(e,s.latestValues))}t.x<ph&&t.x>fh&&(t.x=1),t.y<ph&&t.y>fh&&(t.y=1)}function _o(e,t){e.min=e.min+t,e.max=e.max+t}function mh(e,t,n,o,r=.5){const s=ae(e.min,e.max,r);Bu(e,t,n,s,o)}function Bo(e,t){mh(e.x,t.x,t.scaleX,t.scale,t.originX),mh(e.y,t.y,t.scaleY,t.scale,t.originY)}function bw(e,t){return gw(mA(e.getBoundingClientRect(),t))}function gA(e,t,n){const o=bw(e,n),{scroll:r}=t;return r&&(_o(o.x,r.offset.x),_o(o.y,r.offset.y)),o}const ww=({current:e})=>e?e.ownerDocument.defaultView:null,yA=new WeakMap;class vA{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Js(u).point)},s=(u,f)=>{const{drag:p,dragPropagation:y,onDragStart:w}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uk(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ct(x=>{let h=this.getAxisMotionValue(x).get()||0;if(Lt.test(h)){const{projection:g}=this.visualElement;if(g&&g.layout){const b=g.layout.layoutBox[x];b&&(h=rt(b)*(parseFloat(h)/100))}}this.originPoint[x]=h}),w&&oe.postRender(()=>w(u,f)),Nu(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},i=(u,f)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:w,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=f;if(y&&this.currentDirection===null){this.currentDirection=bA(x),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),v&&v(u,f)},a=(u,f)=>this.stop(u,f),l=()=>ct(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new fw(t,{onSessionStart:r,onStart:s,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ww(this.visualElement)})}stop(t,n){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&oe.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,o){const{drag:r}=this.getProps();if(!o||!xi(t,r,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(i=aA(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:o}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Lo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=lA(r.layoutBox,n):this.constraints=!1,this.elastic=fA(o),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ct(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=dA(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Lo(t))return!1;const o=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=gA(o,r.root,this.visualElement.getTransformPagePoint());let i=cA(r.layout.layoutBox,s);if(n){const a=n(pA(i));this.hasMutatedConstraints=!!a,a&&(i=gw(a))}return i}startAnimation(t){const{drag:n,dragMomentum:o,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ct(u=>{if(!xi(u,n,this.currentDirection))return;let f=l&&l[u]||{};i&&(f={min:0,max:0});const p=r?200:1e6,y=r?40:1e7,w={type:"inertia",velocity:o?t[u]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const o=this.getAxisMotionValue(t);return Nu(this.visualElement,t),o.start(Of(t,o,0,n,this.visualElement,!1))}stopAnimation(){ct(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ct(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),r=o[n];return r||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){ct(n=>{const{drag:o}=this.getProps();if(!xi(n,o,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:i,max:a}=r.layout.layoutBox[n];s.set(t[n]-ae(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!Lo(n)||!o||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ct(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();r[i]=uA({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),ct(i=>{if(!xi(i,t,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(ae(l,c,r[i]))})}addListeners(){if(!this.visualElement.current)return;yA.set(this.visualElement,this);const t=this.visualElement.current,n=ts(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),o=()=>{const{dragConstraints:l}=this.getProps();Lo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",o);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),oe.read(o);const i=Ps(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ct(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=Uu,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:o,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function xi(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function bA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class wA extends zn{constructor(t){super(t),this.removeGroupControls=tt,this.removeListeners=tt,this.controls=new vA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const hh=e=>(t,n)=>{e&&oe.postRender(()=>e(t,n))};class xA extends zn{constructor(){super(...arguments),this.removePointerDownListener=tt}onPointerDown(t){this.session=new fw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ww(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:o,onPanEnd:r}=this.node.getProps();return{onSessionStart:hh(t),onStart:hh(n),onMove:o,onEnd:(s,i)=>{delete this.session,r&&oe.postRender(()=>r(s,i))}}}mount(){this.removePointerDownListener=ts(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gh(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(V.test(e))e=parseFloat(e);else return e;const n=gh(e,t.target.x),o=gh(e,t.target.y);return`${n}% ${o}%`}},SA={correct:(e,{treeScale:t,projectionDelta:n})=>{const o=e,r=Dn.parse(e);if(r.length>5)return o;const s=Dn.createTransformer(e),i=typeof r[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;r[0+i]/=a,r[1+i]/=l;const c=ae(a,l,.5);return typeof r[2+i]=="number"&&(r[2+i]/=c),typeof r[3+i]=="number"&&(r[3+i]/=c),s(r)}};class CA extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o,layoutId:r}=this.props,{projection:s}=t;Hj(EA),s&&(n.group&&n.group.add(s),o&&o.register&&r&&o.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),zi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:o,drag:r,isPresent:s}=this.props,i=o.projection;return i&&(i.isPresent=s,r||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||oe.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),sf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),o&&o.deregister&&o.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xw(e){const[t,n]=nb(),o=m.useContext(Qd);return d.jsx(CA,{...e,layoutGroup:o,switchLayoutGroup:m.useContext(db),isPresent:t,safeToRemove:n})}const EA={borderRadius:{...Rr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rr,borderTopRightRadius:Rr,borderBottomLeftRadius:Rr,borderBottomRightRadius:Rr,boxShadow:SA};function jA(e,t,n){const o=Re(e)?e:Ts(e);return o.start(Of("",o,t,n)),o.animation}function kA(e){return e instanceof SVGElement&&e.tagName!=="svg"}const TA=(e,t)=>e.depth-t.depth;class AA{constructor(){this.children=[],this.isDirty=!1}add(t){wf(this.children,t),this.isDirty=!0}remove(t){xf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(TA),this.isDirty=!1,this.children.forEach(t)}}function PA(e,t){const n=Ft.now(),o=({timestamp:r})=>{const s=r-n;s>=t&&(Mn(o),e(s-t))};return oe.read(o,!0),()=>Mn(o)}const Sw=["TopLeft","TopRight","BottomLeft","BottomRight"],NA=Sw.length,yh=e=>typeof e=="string"?parseFloat(e):e,vh=e=>typeof e=="number"||V.test(e);function OA(e,t,n,o,r,s){r?(e.opacity=ae(0,n.opacity!==void 0?n.opacity:1,RA(o)),e.opacityExit=ae(t.opacity!==void 0?t.opacity:1,0,IA(o))):s&&(e.opacity=ae(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,o));for(let i=0;i<NA;i++){const a=`border${Sw[i]}Radius`;let l=bh(t,a),c=bh(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||vh(l)===vh(c)?(e[a]=Math.max(ae(yh(l),yh(c),o),0),(Lt.test(c)||Lt.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=ae(t.rotate||0,n.rotate||0,o))}function bh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const RA=Cw(0,.5,Wb),IA=Cw(.5,.95,tt);function Cw(e,t,n){return o=>o<e?0:o>t?1:n(rr(e,t,o))}function wh(e,t){e.min=t.min,e.max=t.max}function lt(e,t){wh(e.x,t.x),wh(e.y,t.y)}function xh(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Sh(e,t,n,o,r){return e-=t,e=ja(e,1/n,o),r!==void 0&&(e=ja(e,1/r,o)),e}function MA(e,t=0,n=1,o=.5,r,s=e,i=e){if(Lt.test(t)&&(t=parseFloat(t),t=ae(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=ae(s.min,s.max,o);e===s&&(a-=t),e.min=Sh(e.min,t,n,a,r),e.max=Sh(e.max,t,n,a,r)}function Ch(e,t,[n,o,r],s,i){MA(e,t[n],t[o],t[r],t.scale,s,i)}const DA=["x","scaleX","originX"],LA=["y","scaleY","originY"];function Eh(e,t,n,o){Ch(e.x,t,DA,n?n.x:void 0,o?o.x:void 0),Ch(e.y,t,LA,n?n.y:void 0,o?o.y:void 0)}function jh(e){return e.translate===0&&e.scale===1}function Ew(e){return jh(e.x)&&jh(e.y)}function kh(e,t){return e.min===t.min&&e.max===t.max}function FA(e,t){return kh(e.x,t.x)&&kh(e.y,t.y)}function Th(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jw(e,t){return Th(e.x,t.x)&&Th(e.y,t.y)}function Ah(e){return rt(e.x)/rt(e.y)}function Ph(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class UA{constructor(){this.members=[]}add(t){wf(this.members,t),t.scheduleRender()}remove(t){if(xf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let o;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){o=s;break}}return o?(this.promote(o),!0):!1}promote(t,n){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:o}=t;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _A(e,t,n){let o="";const r=e.x.translate/t.x,s=e.y.translate/t.y,i=(n==null?void 0:n.z)||0;if((r||s||i)&&(o=`translate3d(${r}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:p,skewX:y,skewY:w}=n;c&&(o=`perspective(${c}px) ${o}`),u&&(o+=`rotate(${u}deg) `),f&&(o+=`rotateX(${f}deg) `),p&&(o+=`rotateY(${p}deg) `),y&&(o+=`skewX(${y}deg) `),w&&(o+=`skewY(${w}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(o+=`scale(${a}, ${l})`),o||"none"}const Kn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Wr=typeof window<"u"&&window.MotionDebug!==void 0,dc=["","X","Y","Z"],BA={visibility:"hidden"},Nh=1e3;let WA=0;function fc(e,t,n,o){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),o&&(o[e]=0))}function kw(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Mb(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",oe,!(r||s))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&kw(o)}function Tw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:o,resetTransform:r}){return class{constructor(i={},a=t==null?void 0:t()){this.id=WA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wr&&(Kn.totalNodes=Kn.resolvedTargetDeltas=Kn.recalculatedProjection=0),this.nodes.forEach(zA),this.nodes.forEach(KA),this.nodes.forEach(qA),this.nodes.forEach($A),Wr&&window.MotionDebug.record(Kn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new AA)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Sf),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kA(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=PA(p,250),zi.hasAnimatedSinceResize&&(zi.hasAnimatedSinceResize=!1,this.nodes.forEach(Rh))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||t2,{onLayoutAnimationStart:x,onLayoutAnimationComplete:h}=u.getProps(),g=!this.targetLayout||!jw(this.targetLayout,w)||y,b=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const S={...gf(v,"layout"),onPlay:x,onComplete:h};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else p||Rh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QA),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Oh);return}this.isUpdating||this.nodes.forEach(GA),this.isUpdating=!1,this.nodes.forEach(YA),this.nodes.forEach(VA),this.nodes.forEach(HA),this.clearAllSnapshots();const a=Ft.now();Ee.delta=nn(0,1e3/60,a-Ee.timestamp),Ee.timestamp=a,Ee.isProcessing=!0,nc.update.process(Ee),nc.preRender.process(Ee),nc.render.process(Ee),Ee.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JA),this.sharedNodes.forEach(XA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a){const l=o(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Ew(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;i&&(a||Yn(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),n2(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return fe();const l=a.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(o2))){const{scroll:u}=this.root;u&&(_o(l.x,u.offset.x),_o(l.y,u.offset.y))}return l}removeElementScroll(i){var a;const l=fe();if(lt(l,i),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:p}=u;u!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&lt(l,i),_o(l.x,f.offset.x),_o(l.y,f.offset.y))}return l}applyTransform(i,a=!1){const l=fe();lt(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Bo(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Yn(u.latestValues)&&Bo(l,u.latestValues)}return Yn(this.latestValues)&&Bo(l,this.latestValues),l}removeTransform(i){const a=fe();lt(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Yn(c.latestValues))continue;_u(c.latestValues)&&c.updateSnapshot();const u=fe(),f=c.measurePageBox();lt(u,f),Eh(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Yn(this.latestValues)&&Eh(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ee.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ee.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fe(),this.relativeTargetOrigin=fe(),os(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),lt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=fe(),this.targetWithTransforms=fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):lt(this.target,this.layout.layoutBox),vw(this.target,this.targetDelta)):lt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fe(),this.relativeTargetOrigin=fe(),os(this.relativeTargetOrigin,this.target,y.target),lt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wr&&Kn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||_u(this.parent.latestValues)||yw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ee.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;lt(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;hA(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=fe());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xh(this.prevProjectionDelta.x,this.projectionDelta.x),xh(this.prevProjectionDelta.y,this.projectionDelta.y)),ns(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!Ph(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ph(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Wr&&Kn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uo(),this.projectionDelta=Uo(),this.projectionDeltaWithTransform=Uo()}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=fe(),y=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=y!==w,x=this.getStack(),h=!x||x.members.length<=1,g=!!(v&&!h&&this.options.crossfade===!0&&!this.path.some(e2));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const C=S/1e3;Ih(f.x,i.x,C),Ih(f.y,i.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(os(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZA(this.relativeTarget,this.relativeTargetOrigin,p,C),b&&FA(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=fe()),lt(b,this.relativeTarget)),v&&(this.animationValues=u,OA(u,c,this.latestValues,C,g,h)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{zi.hasAnimatedSinceResize=!0,this.currentAnimation=jA(0,Nh,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Nh),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&Aw(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||fe();const f=rt(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+f;const p=rt(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+p}lt(a,l),Bo(a,u),ns(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new UA),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&fc("z",i,c,this.animationValues);for(let u=0;u<dc.length;u++)fc(`rotate${dc[u]}`,i,c,this.animationValues),fc(`skew${dc[u]}`,i,c,this.animationValues);i.render();for(const u in c)i.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return BA;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Vi(i==null?void 0:i.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Vi(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Yn(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=_A(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:y,y:w}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${w.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in wa){if(p[v]===void 0)continue;const{correct:x,applyTo:h}=wa[v],g=c.transform==="none"?p[v]:x(p[v],f);if(h){const b=h.length;for(let S=0;S<b;S++)c[h[S]]=g}else c[v]=g}return this.options.layoutId&&(c.pointerEvents=f===this?Vi(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Oh),this.root.sharedNodes.clear()}}}function VA(e){e.updateLayout()}function HA(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:r}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;s==="size"?ct(f=>{const p=i?n.measuredBox[f]:n.layoutBox[f],y=rt(p);p.min=o[f].min,p.max=p.min+y}):Aw(s,n.layoutBox,o)&&ct(f=>{const p=i?n.measuredBox[f]:n.layoutBox[f],y=rt(o[f]);p.max=p.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+y)});const a=Uo();ns(a,o,n.layoutBox);const l=Uo();i?ns(l,e.applyTransform(r,!0),n.measuredBox):ns(l,o,n.layoutBox);const c=!Ew(a);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const w=fe();os(w,n.layoutBox,p.layoutBox);const v=fe();os(v,o,y.layoutBox),jw(w,v)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=w,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function zA(e){Wr&&Kn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $A(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JA(e){e.clearSnapshot()}function Oh(e){e.clearMeasurements()}function GA(e){e.isLayoutDirty=!1}function YA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Rh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function KA(e){e.resolveTargetDelta()}function qA(e){e.calcProjection()}function QA(e){e.resetSkewAndRotation()}function XA(e){e.removeLeadSnapshot()}function Ih(e,t,n){e.translate=ae(t.translate,0,n),e.scale=ae(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Mh(e,t,n,o){e.min=ae(t.min,n.min,o),e.max=ae(t.max,n.max,o)}function ZA(e,t,n,o){Mh(e.x,t.x,n.x,o),Mh(e.y,t.y,n.y,o)}function e2(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const t2={duration:.45,ease:[.4,0,.1,1]},Dh=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Lh=Dh("applewebkit/")&&!Dh("chrome/")?Math.round:tt;function Fh(e){e.min=Lh(e.min),e.max=Lh(e.max)}function n2(e){Fh(e.x),Fh(e.y)}function Aw(e,t,n){return e==="position"||e==="preserve-aspect"&&!sA(Ah(t),Ah(n),.2)}function o2(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const r2=Tw({attachResizeListener:(e,t)=>Ps(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pc={current:void 0},Pw=Tw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pc.current){const e=new r2({});e.mount(window),e.setOptions({layoutScroll:!0}),pc.current=e}return pc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),s2={pan:{Feature:xA},drag:{Feature:wA,ProjectionNode:Pw,MeasureLayout:xw}};function Uh(e,t,n){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=o[r];s&&oe.postRender(()=>s(t,Js(t)))}class i2 extends zn{mount(){const{current:t}=this.node;t&&(this.unmount=sk(t,n=>(Uh(this.node,n,"Start"),o=>Uh(this.node,o,"End"))))}unmount(){}}class a2 extends zn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$s(Ps(this.node.current,"focus",()=>this.onFocus()),Ps(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _h(e,t,n){const{props:o}=e;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=o[r];s&&oe.postRender(()=>s(t,Js(t)))}class l2 extends zn{mount(){const{current:t}=this.node;t&&(this.unmount=ck(t,n=>(_h(this.node,n,"Start"),(o,{success:r})=>_h(this.node,o,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wu=new WeakMap,mc=new WeakMap,c2=e=>{const t=Wu.get(e.target);t&&t(e)},u2=e=>{e.forEach(c2)};function d2({root:e,...t}){const n=e||document;mc.has(n)||mc.set(n,{});const o=mc.get(n),r=JSON.stringify(t);return o[r]||(o[r]=new IntersectionObserver(u2,{root:e,...t})),o[r]}function f2(e,t,n){const o=d2(t);return Wu.set(e,n),o.observe(e),()=>{Wu.delete(e),o.unobserve(e)}}const p2={some:0,all:1};class m2 extends zn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:o,amount:r="some",once:s}=t,i={root:n?n.current:void 0,rootMargin:o,threshold:typeof r=="number"?r:p2[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),p=c?u:f;p&&p(l)};return f2(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(h2(t,n))&&this.startObserver()}unmount(){}}function h2({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const g2={inView:{Feature:m2},tap:{Feature:l2},focus:{Feature:a2},hover:{Feature:i2}},y2={layout:{ProjectionNode:Pw,MeasureLayout:xw}},Vu={current:null},Nw={current:!1};function v2(){if(Nw.current=!0,!!ef)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vu.current=e.matches;e.addListener(t),t()}else Vu.current=!1}const b2=[...tw,Pe,Dn],w2=e=>b2.find(ew(e)),Bh=new WeakMap;function x2(e,t,n){for(const o in t){const r=t[o],s=n[o];if(Re(r))e.addValue(o,r);else if(Re(s))e.addValue(o,Ts(r,{owner:e}));else if(s!==r)if(e.hasValue(o)){const i=e.getValue(o);i.liveStyle===!0?i.jump(r):i.hasAnimated||i.set(r)}else{const i=e.getStaticValue(o);e.addValue(o,Ts(i!==void 0?i:r,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const Wh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class S2{scrapeMotionValuesFromProps(t,n,o){return{}}constructor({parent:t,props:n,presenceContext:o,reducedMotionConfig:r,blockInitialAnimation:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Af,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Ft.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,oe.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=i;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=al(n),this.isVariantNode=cb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const w=p[y];l[y]!==void 0&&Re(w)&&w.set(l[y],!1)}}mount(t){this.current=t,Bh.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,o)=>this.bindToMotionValue(o,n)),Nw.current||v2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Bh.delete(this.current),this.projection&&this.projection.unmount(),Mn(this.notifyUpdate),Mn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const o=mo.has(t),r=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&oe.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in sr){const n=sr[t];if(!n)continue;const{isEnabled:o,Feature:r}=n;if(!this.features[t]&&r&&o(this.props)&&(this.features[t]=new r(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<Wh.length;o++){const r=Wh[o];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,i=t[s];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=x2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const o=this.values.get(t);n!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&n!==void 0&&(o=Ts(n===null?void 0:n,{owner:this}),this.addValue(t,o)),o}readValue(t,n){var o;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(o=this.getBaseTargetFromProps(this.props,t))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Xb(r)||Hb(r))?r=parseFloat(r):!w2(r)&&Dn.test(n)&&(r=Kb(t,n)),this.setBaseTarget(t,Re(r)?r.get():r)),Re(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:o}=this.props;let r;if(typeof o=="string"||typeof o=="object"){const i=lf(this.props,o,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(r=i[t])}if(o&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Re(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Sf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Ow extends S2{constructor(){super(...arguments),this.KeyframeResolver=nw}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:o}){delete n[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Re(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function C2(e){return window.getComputedStyle(e)}class E2 extends Ow{constructor(){super(...arguments),this.type="html",this.renderInstance=vb}readValueFromInstance(t,n){if(mo.has(n)){const o=Tf(n);return o&&o.default||0}else{const o=C2(t),r=(hb(n)?o.getPropertyValue(n):o[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return bw(t,n)}build(t,n,o){df(t,n,o.transformTemplate)}scrapeMotionValuesFromProps(t,n,o){return hf(t,n,o)}}class j2 extends Ow{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(mo.has(n)){const o=Tf(n);return o&&o.default||0}return n=bb.has(n)?n:rf(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,o){return Sb(t,n,o)}build(t,n,o){ff(t,n,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,o,r){wb(t,n,o,r)}mount(t){this.isSVGTag=mf(t.tagName),super.mount(t)}}const k2=(e,t)=>af(e)?new j2(t):new E2(t,{allowProjection:e!==m.Fragment}),T2=Xj({...qT,...g2,...s2,...y2},k2),yt=pj(T2);function Rw(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Rw(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function Iw(){for(var e,t,n=0,o="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Rw(e))&&(o&&(o+=" "),o+=t);return o}const Rf="-",A2=e=>{const t=N2(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:i=>{const a=i.split(Rf);return a[0]===""&&a.length!==1&&a.shift(),Mw(a,t)||P2(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&o[i]?[...l,...o[i]]:l}}},Mw=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],o=t.nextPart.get(n),r=o?Mw(e.slice(1),o):void 0;if(r)return r;if(t.validators.length===0)return;const s=e.join(Rf);return(i=t.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},Vh=/^\[(.+)\]$/,P2=e=>{if(Vh.test(e)){const t=Vh.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},N2=e=>{const{theme:t,prefix:n}=e,o={nextPart:new Map,validators:[]};return R2(Object.entries(e.classGroups),n).forEach(([s,i])=>{Hu(i,o,s,t)}),o},Hu=(e,t,n,o)=>{e.forEach(r=>{if(typeof r=="string"){const s=r===""?t:Hh(t,r);s.classGroupId=n;return}if(typeof r=="function"){if(O2(r)){Hu(r(o),t,n,o);return}t.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,i])=>{Hu(i,Hh(t,s),n,o)})})},Hh=(e,t)=>{let n=e;return t.split(Rf).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n},O2=e=>e.isThemeGetter,R2=(e,t)=>t?e.map(([n,o])=>{const r=o.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[n,r]}):e,I2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,o=new Map;const r=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,o=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=o.get(s))!==void 0)return r(s,i),i},set(s,i){n.has(s)?n.set(s,i):r(s,i)}}},Dw="!",M2=e=>{const{separator:t,experimentalParseClassName:n}=e,o=t.length===1,r=t[0],s=t.length,i=a=>{const l=[];let c=0,u=0,f;for(let x=0;x<a.length;x++){let h=a[x];if(c===0){if(h===r&&(o||a.slice(x,x+s)===t)){l.push(a.slice(u,x)),u=x+s;continue}if(h==="/"){f=x;continue}}h==="["?c++:h==="]"&&c--}const p=l.length===0?a:a.substring(u),y=p.startsWith(Dw),w=y?p.substring(1):p,v=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:i}):i},D2=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(o=>{o[0]==="["?(t.push(...n.sort(),o),n=[]):n.push(o)}),t.push(...n.sort()),t},L2=e=>({cache:I2(e.cacheSize),parseClassName:M2(e),...A2(e)}),F2=/\s+/,U2=(e,t)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:r}=t,s=[],i=e.trim().split(F2);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:y}=n(c);let w=!!y,v=o(w?p.substring(0,y):p);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=o(p),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const x=D2(u).join(":"),h=f?x+Dw:x,g=h+v;if(s.includes(g))continue;s.push(g);const b=r(v,w);for(let S=0;S<b.length;++S){const C=b[S];s.push(h+C)}a=c+(a.length>0?" "+a:a)}return a};function _2(){let e=0,t,n,o="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Lw(t))&&(o&&(o+=" "),o+=n);return o}const Lw=e=>{if(typeof e=="string")return e;let t,n="";for(let o=0;o<e.length;o++)e[o]&&(t=Lw(e[o]))&&(n&&(n+=" "),n+=t);return n};function B2(e,...t){let n,o,r,s=i;function i(l){const c=t.reduce((u,f)=>f(u),e());return n=L2(c),o=n.cache.get,r=n.cache.set,s=a,a(l)}function a(l){const c=o(l);if(c)return c;const u=U2(l,n);return r(l,u),u}return function(){return s(_2.apply(null,arguments))}}const ee=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Fw=/^\[(?:([a-z-]+):)?(.+)\]$/i,W2=/^\d+\/\d+$/,V2=new Set(["px","full","screen"]),H2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,J2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,G2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zt=e=>Yo(e)||V2.has(e)||W2.test(e),dn=e=>hr(e,"length",tP),Yo=e=>!!e&&!Number.isNaN(Number(e)),hc=e=>hr(e,"number",Yo),Ir=e=>!!e&&Number.isInteger(Number(e)),Y2=e=>e.endsWith("%")&&Yo(e.slice(0,-1)),$=e=>Fw.test(e),fn=e=>H2.test(e),K2=new Set(["length","size","percentage"]),q2=e=>hr(e,K2,Uw),Q2=e=>hr(e,"position",Uw),X2=new Set(["image","url"]),Z2=e=>hr(e,X2,oP),eP=e=>hr(e,"",nP),Mr=()=>!0,hr=(e,t,n)=>{const o=Fw.exec(e);return o?o[1]?typeof t=="string"?o[1]===t:t.has(o[1]):n(o[2]):!1},tP=e=>z2.test(e)&&!$2.test(e),Uw=()=>!1,nP=e=>J2.test(e),oP=e=>G2.test(e),rP=()=>{const e=ee("colors"),t=ee("spacing"),n=ee("blur"),o=ee("brightness"),r=ee("borderColor"),s=ee("borderRadius"),i=ee("borderSpacing"),a=ee("borderWidth"),l=ee("contrast"),c=ee("grayscale"),u=ee("hueRotate"),f=ee("invert"),p=ee("gap"),y=ee("gradientColorStops"),w=ee("gradientColorStopPositions"),v=ee("inset"),x=ee("margin"),h=ee("opacity"),g=ee("padding"),b=ee("saturate"),S=ee("scale"),C=ee("sepia"),j=ee("skew"),E=ee("space"),k=ee("translate"),N=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",$,t],U=()=>[$,t],H=()=>["",zt,dn],M=()=>["auto",Yo,$],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",$],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[Yo,$];return{cacheSize:500,separator:":",theme:{colors:[Mr],spacing:[zt,dn],blur:["none","",fn,$],brightness:I(),borderColor:[e],borderRadius:["none","","full",fn,$],borderSpacing:U(),borderWidth:H(),contrast:I(),grayscale:A(),hueRotate:I(),invert:A(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[Y2,dn],inset:F(),margin:F(),opacity:I(),padding:U(),saturate:I(),scale:I(),sepia:A(),skew:I(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",$]}],container:["container"],columns:[{columns:[fn]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),$]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ir,$]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Ir,$]}],"grid-cols":[{"grid-cols":[Mr]}],"col-start-end":[{col:["auto",{span:["full",Ir,$]},$]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Mr]}],"row-start-end":[{row:["auto",{span:[Ir,$]},$]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$,t]}],"min-w":[{"min-w":[$,t,"min","max","fit"]}],"max-w":[{"max-w":[$,t,"none","full","min","max","fit","prose",{screen:[fn]},fn]}],h:[{h:[$,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$,t,"auto","min","max","fit"]}],"font-size":[{text:["base",fn,dn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hc]}],"font-family":[{font:[Mr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$]}],"line-clamp":[{"line-clamp":["none",Yo,hc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zt,$]}],"list-image":[{"list-image":["none",$]}],"list-style-type":[{list:["none","disc","decimal",$]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[h]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[h]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zt,dn]}],"underline-offset":[{"underline-offset":["auto",zt,$]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[h]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),Q2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",q2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Z2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[h]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[h]}],"divide-style":[{divide:L()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[zt,$]}],"outline-w":[{outline:[zt,dn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[h]}],"ring-offset-w":[{"ring-offset":[zt,dn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",fn,eP]}],"shadow-color":[{shadow:[Mr]}],opacity:[{opacity:[h]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",fn,$]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[h]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",$]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",$]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Ir,$]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[zt,dn,hc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sP=B2(rP);function q(...e){return sP(Iw(e))}function zh(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ho(...e){return t=>{let n=!1;const o=e.map(r=>{const s=zh(r,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<o.length;r++){const s=o[r];typeof s=="function"?s():zh(e[r],null)}}}}function ge(...e){return m.useCallback(ho(...e),e)}function iP(e){const t=aP(e),n=m.forwardRef((o,r)=>{const{children:s,...i}=o,a=m.Children.toArray(s),l=a.find(cP);if(l){const c=l.props.children,u=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return d.jsx(t,{...i,ref:r,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return d.jsx(t,{...i,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}function aP(e){const t=m.forwardRef((n,o)=>{const{children:r,...s}=n;if(m.isValidElement(r)){const i=dP(r),a=uP(s,r.props);return r.type!==m.Fragment&&(a.ref=o?ho(o,i):i),m.cloneElement(r,a)}return m.Children.count(r)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lP=Symbol("radix.slottable");function cP(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lP}function uP(e,t){const n={...t};for(const o in t){const r=e[o],s=t[o];/^on[A-Z]/.test(o)?r&&s?n[o]=(...a)=>{const l=s(...a);return r(...a),l}:r&&(n[o]=r):o==="style"?n[o]={...r,...s}:o==="className"&&(n[o]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function dP(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var fP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=fP.reduce((e,t)=>{const n=iP(`Primitive.${t}`),o=m.forwardRef((r,s)=>{const{asChild:i,...a}=r,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:s})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function _w(e,t){e&&nl.flushSync(()=>e.dispatchEvent(t))}var on=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{};function pP(e,t){return m.useReducer((n,o)=>t[n][o]??n,e)}var Wt=e=>{const{present:t,children:n}=e,o=mP(t),r=typeof n=="function"?n({present:o.isPresent}):m.Children.only(n),s=ge(o.ref,hP(r));return typeof n=="function"||o.isPresent?m.cloneElement(r,{ref:s}):null};Wt.displayName="Presence";function mP(e){const[t,n]=m.useState(),o=m.useRef(null),r=m.useRef(e),s=m.useRef("none"),i=e?"mounted":"unmounted",[a,l]=pP(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Si(o.current);s.current=a==="mounted"?c:"none"},[a]),on(()=>{const c=o.current,u=r.current;if(u!==e){const p=s.current,y=Si(c);e?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==y?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,l]),on(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,f=y=>{const v=Si(o.current).includes(CSS.escape(y.animationName));if(y.target===t&&v&&(l("ANIMATION_END"),!r.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=y=>{y.target===t&&(s.current=Si(o.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{o.current=c?getComputedStyle(c):null,n(c)},[])}}function Si(e){return(e==null?void 0:e.animationName)||"none"}function hP(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function go(e,t=[]){let n=[];function o(s,i){const a=m.createContext(i),l=n.length;n=[...n,i];const c=f=>{var h;const{scope:p,children:y,...w}=f,v=((h=p==null?void 0:p[e])==null?void 0:h[l])||a,x=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:x,children:y})};c.displayName=s+"Provider";function u(f,p){var v;const y=((v=p==null?void 0:p[e])==null?void 0:v[l])||a,w=m.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,u]}const r=()=>{const s=n.map(i=>m.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return r.scopeName=e,[o,gP(r,...t)]}function gP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const i=o.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Oe(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var o;return(o=t.current)==null?void 0:o.call(t,...n)},[])}var yP=m.createContext(void 0);function ul(e){const t=m.useContext(yP);return e||t||"ltr"}function vP(e,[t,n]){return Math.min(n,Math.max(t,e))}function z(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function bP(e,t){return m.useReducer((n,o)=>t[n][o]??n,e)}var If="ScrollArea",[Bw]=go(If),[wP,vt]=Bw(If),Ww=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:o="hover",dir:r,scrollHideDelay:s=600,...i}=e,[a,l]=m.useState(null),[c,u]=m.useState(null),[f,p]=m.useState(null),[y,w]=m.useState(null),[v,x]=m.useState(null),[h,g]=m.useState(0),[b,S]=m.useState(0),[C,j]=m.useState(!1),[E,k]=m.useState(!1),N=ge(t,F=>l(F)),P=ul(r);return d.jsx(wP,{scope:n,type:o,dir:P,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:f,onContentChange:p,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:C,onScrollbarXEnabledChange:j,scrollbarY:v,onScrollbarYChange:x,scrollbarYEnabled:E,onScrollbarYEnabledChange:k,onCornerWidthChange:g,onCornerHeightChange:S,children:d.jsx(se.div,{dir:P,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":h+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});Ww.displayName=If;var Vw="ScrollAreaViewport",Hw=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:o,nonce:r,...s}=e,i=vt(Vw,n),a=m.useRef(null),l=ge(t,a,i.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(se.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});Hw.displayName=Vw;var Vt="ScrollAreaScrollbar",Mf=m.forwardRef((e,t)=>{const{forceMount:n,...o}=e,r=vt(Vt,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=r,a=e.orientation==="horizontal";return m.useEffect(()=>(a?s(!0):i(!0),()=>{a?s(!1):i(!1)}),[a,s,i]),r.type==="hover"?d.jsx(xP,{...o,ref:t,forceMount:n}):r.type==="scroll"?d.jsx(SP,{...o,ref:t,forceMount:n}):r.type==="auto"?d.jsx(zw,{...o,ref:t,forceMount:n}):r.type==="always"?d.jsx(Df,{...o,ref:t}):null});Mf.displayName=Vt;var xP=m.forwardRef((e,t)=>{const{forceMount:n,...o}=e,r=vt(Vt,e.__scopeScrollArea),[s,i]=m.useState(!1);return m.useEffect(()=>{const a=r.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},u=()=>{l=window.setTimeout(()=>i(!1),r.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[r.scrollArea,r.scrollHideDelay]),d.jsx(Wt,{present:n||s,children:d.jsx(zw,{"data-state":s?"visible":"hidden",...o,ref:t})})}),SP=m.forwardRef((e,t)=>{const{forceMount:n,...o}=e,r=vt(Vt,e.__scopeScrollArea),s=e.orientation==="horizontal",i=fl(()=>l("SCROLL_END"),100),[a,l]=bP("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,r.scrollHideDelay,l]),m.useEffect(()=>{const c=r.viewport,u=s?"scrollLeft":"scrollTop";if(c){let f=c[u];const p=()=>{const y=c[u];f!==y&&(l("SCROLL"),i()),f=y};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[r.viewport,s,l,i]),d.jsx(Wt,{present:n||a!=="hidden",children:d.jsx(Df,{"data-state":a==="hidden"?"hidden":"visible",...o,ref:t,onPointerEnter:z(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:z(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),zw=m.forwardRef((e,t)=>{const n=vt(Vt,e.__scopeScrollArea),{forceMount:o,...r}=e,[s,i]=m.useState(!1),a=e.orientation==="horizontal",l=fl(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:u)}},10);return ar(n.viewport,l),ar(n.content,l),d.jsx(Wt,{present:o||s,children:d.jsx(Df,{"data-state":s?"visible":"hidden",...r,ref:t})})}),Df=m.forwardRef((e,t)=>{const{orientation:n="vertical",...o}=e,r=vt(Vt,e.__scopeScrollArea),s=m.useRef(null),i=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Kw(a.viewport,a.content),u={...o,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>s.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function f(p,y){return AP(p,i.current,a,y)}return n==="horizontal"?d.jsx(CP,{...u,ref:t,onThumbPositionChange:()=>{if(r.viewport&&s.current){const p=r.viewport.scrollLeft,y=$h(p,a,r.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{r.viewport&&(r.viewport.scrollLeft=p)},onDragScroll:p=>{r.viewport&&(r.viewport.scrollLeft=f(p,r.dir))}}):n==="vertical"?d.jsx(EP,{...u,ref:t,onThumbPositionChange:()=>{if(r.viewport&&s.current){const p=r.viewport.scrollTop,y=$h(p,a);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{r.viewport&&(r.viewport.scrollTop=p)},onDragScroll:p=>{r.viewport&&(r.viewport.scrollTop=f(p))}}):null}),CP=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:o,...r}=e,s=vt(Vt,e.__scopeScrollArea),[i,a]=m.useState(),l=m.useRef(null),c=ge(t,l,s.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(Jw,{"data-orientation":"horizontal",...r,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dl(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(s.viewport){const p=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),Qw(p,f)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&o({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Ta(i.paddingLeft),paddingEnd:Ta(i.paddingRight)}})}})}),EP=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:o,...r}=e,s=vt(Vt,e.__scopeScrollArea),[i,a]=m.useState(),l=m.useRef(null),c=ge(t,l,s.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(Jw,{"data-orientation":"vertical",...r,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dl(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(s.viewport){const p=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),Qw(p,f)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&o({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Ta(i.paddingTop),paddingEnd:Ta(i.paddingBottom)}})}})}),[jP,$w]=Bw(Vt),Jw=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:o,hasThumb:r,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...p}=e,y=vt(Vt,n),[w,v]=m.useState(null),x=ge(t,N=>v(N)),h=m.useRef(null),g=m.useRef(""),b=y.viewport,S=o.content-o.viewport,C=Oe(u),j=Oe(l),E=fl(f,10);function k(N){if(h.current){const P=N.clientX-h.current.left,F=N.clientY-h.current.top;c({x:P,y:F})}}return m.useEffect(()=>{const N=P=>{const F=P.target;(w==null?void 0:w.contains(F))&&C(P,S)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[b,w,S,C]),m.useEffect(j,[o,j]),ar(w,E),ar(y.content,E),d.jsx(jP,{scope:n,scrollbar:w,hasThumb:r,onThumbChange:Oe(s),onThumbPointerUp:Oe(i),onThumbPositionChange:j,onThumbPointerDown:Oe(a),children:d.jsx(se.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:z(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),h.current=w.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),k(N))}),onPointerMove:z(e.onPointerMove,k),onPointerUp:z(e.onPointerUp,N=>{const P=N.target;P.hasPointerCapture(N.pointerId)&&P.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=g.current,y.viewport&&(y.viewport.style.scrollBehavior=""),h.current=null})})})}),ka="ScrollAreaThumb",Gw=m.forwardRef((e,t)=>{const{forceMount:n,...o}=e,r=$w(ka,e.__scopeScrollArea);return d.jsx(Wt,{present:n||r.hasThumb,children:d.jsx(kP,{ref:t,...o})})}),kP=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:o,...r}=e,s=vt(ka,n),i=$w(ka,n),{onThumbPositionChange:a}=i,l=ge(t,f=>i.onThumbChange(f)),c=m.useRef(void 0),u=fl(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const f=s.viewport;if(f){const p=()=>{if(u(),!c.current){const y=PP(f,a);c.current=y,a()}};return a(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[s.viewport,u,a]),d.jsx(se.div,{"data-state":i.hasThumb?"visible":"hidden",...r,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:z(e.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),w=f.clientX-y.left,v=f.clientY-y.top;i.onThumbPointerDown({x:w,y:v})}),onPointerUp:z(e.onPointerUp,i.onThumbPointerUp)})});Gw.displayName=ka;var Lf="ScrollAreaCorner",Yw=m.forwardRef((e,t)=>{const n=vt(Lf,e.__scopeScrollArea),o=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&o?d.jsx(TP,{...e,ref:t}):null});Yw.displayName=Lf;var TP=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...o}=e,r=vt(Lf,n),[s,i]=m.useState(0),[a,l]=m.useState(0),c=!!(s&&a);return ar(r.scrollbarX,()=>{var f;const u=((f=r.scrollbarX)==null?void 0:f.offsetHeight)||0;r.onCornerHeightChange(u),l(u)}),ar(r.scrollbarY,()=>{var f;const u=((f=r.scrollbarY)==null?void 0:f.offsetWidth)||0;r.onCornerWidthChange(u),i(u)}),c?d.jsx(se.div,{...o,ref:t,style:{width:s,height:a,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ta(e){return e?parseInt(e,10):0}function Kw(e,t){const n=e/t;return isNaN(n)?0:n}function dl(e){const t=Kw(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=(e.scrollbar.size-n)*t;return Math.max(o,18)}function AP(e,t,n,o="ltr"){const r=dl(n),s=r/2,i=t||s,a=r-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,f=o==="ltr"?[0,u]:[u*-1,0];return qw([l,c],f)(e)}function $h(e,t,n="ltr"){const o=dl(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-r,i=t.content-t.viewport,a=s-o,l=n==="ltr"?[0,i]:[i*-1,0],c=vP(e,l);return qw([0,i],[0,a])(c)}function qw(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(n-e[0])}}function Qw(e,t){return e>0&&e<t}var PP=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},o=0;return function r(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,a=n.top!==s.top;(i||a)&&t(),n=s,o=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(o)};function fl(e,t){const n=Oe(e),o=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(o.current),[]),m.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(n,t)},[n,t])}function ar(e,t){const n=Oe(t);on(()=>{let o=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(o),r.unobserve(e)}}},[e,n])}var Xw=Ww,NP=Hw,OP=Yw;const pl=m.forwardRef(({className:e,children:t,...n},o)=>d.jsxs(Xw,{ref:o,className:q("relative overflow-hidden",e),...n,children:[d.jsx(NP,{className:"h-full w-full rounded-[inherit]",children:t}),d.jsx(Zw,{}),d.jsx(OP,{})]}));pl.displayName=Xw.displayName;const Zw=m.forwardRef(({className:e,orientation:t="vertical",...n},o)=>d.jsx(Mf,{ref:o,orientation:t,className:q("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:d.jsx(Gw,{className:"relative flex-1 rounded-full bg-border"})}));Zw.displayName=Mf.displayName;var RP=Symbol.for("react.lazy"),Aa=Ba[" use ".trim().toString()];function IP(e){return typeof e=="object"&&e!==null&&"then"in e}function ex(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===RP&&"_payload"in e&&IP(e._payload)}function tx(e){const t=DP(e),n=m.forwardRef((o,r)=>{let{children:s,...i}=o;ex(s)&&typeof Aa=="function"&&(s=Aa(s._payload));const a=m.Children.toArray(s),l=a.find(FP);if(l){const c=l.props.children,u=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return d.jsx(t,{...i,ref:r,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return d.jsx(t,{...i,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}var MP=tx("Slot");function DP(e){const t=m.forwardRef((n,o)=>{let{children:r,...s}=n;if(ex(r)&&typeof Aa=="function"&&(r=Aa(r._payload)),m.isValidElement(r)){const i=_P(r),a=UP(s,r.props);return r.type!==m.Fragment&&(a.ref=o?ho(o,i):i),m.cloneElement(r,a)}return m.Children.count(r)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LP=Symbol("radix.slottable");function FP(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LP}function UP(e,t){const n={...t};for(const o in t){const r=e[o],s=t[o];/^on[A-Z]/.test(o)?r&&s?n[o]=(...a)=>{const l=s(...a);return r(...a),l}:r&&(n[o]=r):o==="style"?n[o]={...r,...s}:o==="className"&&(n[o]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function _P(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Jh=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Gh=Iw,nx=(e,t)=>n=>{var o;if((t==null?void 0:t.variants)==null)return Gh(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:s}=t,i=Object.keys(r).map(c=>{const u=n==null?void 0:n[c],f=s==null?void 0:s[c];if(u===null)return null;const p=Jh(u)||Jh(f);return r[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,p]=u;return p===void 0||(c[f]=p),c},{}),l=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((c,u)=>{let{class:f,className:p,...y}=u;return Object.entries(y).every(w=>{let[v,x]=w;return Array.isArray(x)?x.includes({...s,...a}[v]):{...s,...a}[v]===x})?[...c,f,p]:c},[]);return Gh(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)},BP=nx("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=m.forwardRef(({className:e,variant:t,size:n,asChild:o=!1,...r},s)=>{const i=o?MP:"button";return d.jsx(i,{className:q(BP({variant:t,size:n,className:e})),ref:s,...r})});J.displayName="Button";var WP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],VP=WP.reduce((e,t)=>{const n=tx(`Primitive.${t}`),o=m.forwardRef((r,s)=>{const{asChild:i,...a}=r,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:s})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),HP="Separator",Yh="horizontal",zP=["horizontal","vertical"],ox=m.forwardRef((e,t)=>{const{decorative:n,orientation:o=Yh,...r}=e,s=$P(o)?o:Yh,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return d.jsx(VP.div,{"data-orientation":s,...a,...r,ref:t})});ox.displayName=HP;function $P(e){return zP.includes(e)}var rx=ox;const sx=m.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...o},r)=>d.jsx(rx,{ref:r,decorative:n,orientation:t,className:q("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...o}));sx.displayName=rx.displayName;/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Y=(e,t)=>{const n=m.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:a="",children:l,...c},u)=>m.createElement("svg",{ref:u,...JP,width:r,height:r,stroke:o,strokeWidth:i?Number(s)*24/Number(r):s,className:["lucide",`lucide-${GP(e)}`,a].join(" "),...c},[...t.map(([f,p])=>m.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=Y("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=Y("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=Y("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=Y("Atom",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Y("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=Y("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Y("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=Y("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Y("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=Y("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=Y("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=Y("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=Y("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Y("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Y("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=Y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=Y("MessageSquareCode",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"m10 8-2 2 2 2",key:"19bv1o"}],["path",{d:"m14 8 2 2-2 2",key:"1whylv"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Y("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Y("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=Y("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=Y("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Y("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Y("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=Y("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Y("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=Y("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=Y("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),uN=[{name:"Home",href:"/",icon:lx},{name:"Playground",href:"/playground",icon:Wf}],dN=[{name:"JavaScript",href:"/javascript",icon:ax,color:"text-yellow-500"},{name:"HTML & CSS",href:"/html-css",icon:Bf,color:"text-orange-500"},{name:"React",href:"/react",icon:Ff,color:"text-cyan-500"},{name:"Interview Prep",href:"/interview",icon:_f,color:"text-purple-500"}];function fN({open:e,onOpenChange:t}){const n=Vn();return d.jsxs(d.Fragment,{children:[d.jsx(rb,{children:e&&d.jsx(yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1),className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm md:hidden"})}),d.jsxs(yt.aside,{initial:!1,animate:{width:e?280:0,opacity:e?1:0},transition:{duration:.2,ease:"easeInOut"},className:q("fixed md:relative z-50 h-screen border-r bg-card overflow-hidden","flex flex-col"),children:[d.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b",children:[d.jsxs(Zr,{to:"/",className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary",children:d.jsx(Na,{className:"h-5 w-5 text-primary-foreground"})}),d.jsx("span",{className:"font-bold text-lg",children:"StudyWeb"})]}),d.jsx(J,{variant:"ghost",size:"icon",onClick:()=>t(!1),className:"h-8 w-8",children:d.jsx(ix,{className:"h-4 w-4"})})]}),d.jsxs(pl,{className:"flex-1 px-3 py-4",children:[d.jsx("div",{className:"space-y-1",children:uN.map(o=>{const r=n.pathname===o.href;return d.jsx(Zr,{to:o.href,children:d.jsxs(J,{variant:r?"secondary":"ghost",className:q("w-full justify-start gap-3",r&&"bg-secondary"),children:[d.jsx(o.icon,{className:"h-4 w-4"}),o.name]})},o.name)})}),d.jsx(sx,{className:"my-4"}),d.jsx("div",{className:"mb-2 px-2",children:d.jsxs("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[d.jsx(Ns,{className:"h-3 w-3"}),"Study Materials"]})}),d.jsx("div",{className:"space-y-1",children:dN.map(o=>{const r=n.pathname.startsWith(o.href);return d.jsx(Zr,{to:o.href,children:d.jsxs(J,{variant:r?"secondary":"ghost",className:q("w-full justify-start gap-3",r&&"bg-secondary"),children:[d.jsx(o.icon,{className:q("h-4 w-4",o.color)}),o.name]})},o.name)})})]}),d.jsx("div",{className:"p-4 border-t",children:d.jsxs("div",{className:"rounded-lg bg-gradient-to-r from-primary/10 to-primary/5 p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(ux,{className:"h-4 w-4 text-primary"}),d.jsx("span",{className:"font-semibold text-sm",children:"Pro Tip"})]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Use the Playground to practice code examples from any lesson!"})]})})]})]})}var pN=Ba[" useInsertionEffect ".trim().toString()]||on;function Vf({prop:e,defaultProp:t,onChange:n=()=>{},caller:o}){const[r,s,i]=mN({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:r;{const u=m.useRef(e!==void 0);m.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${o} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,o])}const c=m.useCallback(u=>{var f;if(a){const p=hN(u)?u(e):u;p!==e&&((f=i.current)==null||f.call(i,p))}else s(u)},[a,e,s,i]);return[l,c]}function mN({defaultProp:e,onChange:t}){const[n,o]=m.useState(e),r=m.useRef(n),s=m.useRef(t);return pN(()=>{s.current=t},[t]),m.useEffect(()=>{var i;r.current!==n&&((i=s.current)==null||i.call(s,n),r.current=n)},[n,r]),[n,o,s]}function hN(e){return typeof e=="function"}function Xh(e){const t=gN(e),n=m.forwardRef((o,r)=>{const{children:s,...i}=o,a=m.Children.toArray(s),l=a.find(vN);if(l){const c=l.props.children,u=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return d.jsx(t,{...i,ref:r,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return d.jsx(t,{...i,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}function gN(e){const t=m.forwardRef((n,o)=>{const{children:r,...s}=n;if(m.isValidElement(r)){const i=wN(r),a=bN(s,r.props);return r.type!==m.Fragment&&(a.ref=o?ho(o,i):i),m.cloneElement(r,a)}return m.Children.count(r)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yN=Symbol("radix.slottable");function vN(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yN}function bN(e,t){const n={...t};for(const o in t){const r=e[o],s=t[o];/^on[A-Z]/.test(o)?r&&s?n[o]=(...a)=>{const l=s(...a);return r(...a),l}:r&&(n[o]=r):o==="style"?n[o]={...r,...s}:o==="className"&&(n[o]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function wN(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function dx(e){const t=e+"CollectionProvider",[n,o]=go(t),[r,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:x,children:h}=v,g=Ue.useRef(null),b=Ue.useRef(new Map).current;return d.jsx(r,{scope:x,itemMap:b,collectionRef:g,children:h})};i.displayName=t;const a=e+"CollectionSlot",l=Xh(a),c=Ue.forwardRef((v,x)=>{const{scope:h,children:g}=v,b=s(a,h),S=ge(x,b.collectionRef);return d.jsx(l,{ref:S,children:g})});c.displayName=a;const u=e+"CollectionItemSlot",f="data-radix-collection-item",p=Xh(u),y=Ue.forwardRef((v,x)=>{const{scope:h,children:g,...b}=v,S=Ue.useRef(null),C=ge(x,S),j=s(u,h);return Ue.useEffect(()=>(j.itemMap.set(S,{ref:S,...b}),()=>void j.itemMap.delete(S))),d.jsx(p,{[f]:"",ref:C,children:g})});y.displayName=u;function w(v){const x=s(e+"CollectionConsumer",v);return Ue.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((j,E)=>b.indexOf(j.ref.current)-b.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:c,ItemSlot:y},w,o]}function xN(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e);m.useEffect(()=>{const o=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[n,t])}var SN="DismissableLayer",$u="dismissableLayer.update",CN="dismissableLayer.pointerDownOutside",EN="dismissableLayer.focusOutside",Zh,fx=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),px=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,c=m.useContext(fx),[u,f]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),w=ge(t,E=>f(E)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),h=v.indexOf(x),g=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=g>=h,C=TN(E=>{const k=E.target,N=[...c.branches].some(P=>P.contains(k));!S||N||(r==null||r(E),i==null||i(E),E.defaultPrevented||a==null||a())},p),j=AN(E=>{const k=E.target;[...c.branches].some(P=>P.contains(k))||(s==null||s(E),i==null||i(E),E.defaultPrevented||a==null||a())},p);return xN(E=>{g===c.layers.size-1&&(o==null||o(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Zh=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),eg(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Zh)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),eg())},[u,c]),m.useEffect(()=>{const E=()=>y({});return document.addEventListener($u,E),()=>document.removeEventListener($u,E)},[]),d.jsx(se.div,{...l,ref:w,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:z(e.onFocusCapture,j.onFocusCapture),onBlurCapture:z(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:z(e.onPointerDownCapture,C.onPointerDownCapture)})});px.displayName=SN;var jN="DismissableLayerBranch",kN=m.forwardRef((e,t)=>{const n=m.useContext(fx),o=m.useRef(null),r=ge(t,o);return m.useEffect(()=>{const s=o.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),d.jsx(se.div,{...e,ref:r})});kN.displayName=jN;function TN(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e),o=m.useRef(!1),r=m.useRef(()=>{});return m.useEffect(()=>{const s=a=>{if(a.target&&!o.current){let l=function(){mx(CN,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=l,t.addEventListener("click",r.current,{once:!0})):l()}else t.removeEventListener("click",r.current);o.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function AN(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e),o=m.useRef(!1);return m.useEffect(()=>{const r=s=>{s.target&&!o.current&&mx(EN,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function eg(){const e=new CustomEvent($u);document.dispatchEvent(e)}function mx(e,t,n,{discrete:o}){const r=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),o?_w(r,s):r.dispatchEvent(s)}var gc=0;function PN(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tg()),document.body.insertAdjacentElement("beforeend",e[1]??tg()),gc++,()=>{gc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gc--}},[])}function tg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yc="focusScope.autoFocusOnMount",vc="focusScope.autoFocusOnUnmount",ng={bubbles:!1,cancelable:!0},NN="FocusScope",hx=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...i}=e,[a,l]=m.useState(null),c=Oe(r),u=Oe(s),f=m.useRef(null),p=ge(t,v=>l(v)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(o){let v=function(b){if(y.paused||!a)return;const S=b.target;a.contains(S)?f.current=S:mn(f.current,{select:!0})},x=function(b){if(y.paused||!a)return;const S=b.relatedTarget;S!==null&&(a.contains(S)||mn(f.current,{select:!0}))},h=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&mn(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const g=new MutationObserver(h);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),g.disconnect()}}},[o,a,y.paused]),m.useEffect(()=>{if(a){rg.add(y);const v=document.activeElement;if(!a.contains(v)){const h=new CustomEvent(yc,ng);a.addEventListener(yc,c),a.dispatchEvent(h),h.defaultPrevented||(ON(LN(gx(a)),{select:!0}),document.activeElement===v&&mn(a))}return()=>{a.removeEventListener(yc,c),setTimeout(()=>{const h=new CustomEvent(vc,ng);a.addEventListener(vc,u),a.dispatchEvent(h),h.defaultPrevented||mn(v??document.body,{select:!0}),a.removeEventListener(vc,u),rg.remove(y)},0)}}},[a,c,u,y]);const w=m.useCallback(v=>{if(!n&&!o||y.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,h=document.activeElement;if(x&&h){const g=v.currentTarget,[b,S]=RN(g);b&&S?!v.shiftKey&&h===S?(v.preventDefault(),n&&mn(b,{select:!0})):v.shiftKey&&h===b&&(v.preventDefault(),n&&mn(S,{select:!0})):h===g&&v.preventDefault()}},[n,o,y.paused]);return d.jsx(se.div,{tabIndex:-1,...i,ref:p,onKeyDown:w})});hx.displayName=NN;function ON(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(mn(o,{select:t}),document.activeElement!==n)return}function RN(e){const t=gx(e),n=og(t,e),o=og(t.reverse(),e);return[n,o]}function gx(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function og(e,t){for(const n of e)if(!IN(n,{upTo:t}))return n}function IN(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function MN(e){return e instanceof HTMLInputElement&&"select"in e}function mn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&MN(e)&&t&&e.select()}}var rg=DN();function DN(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=sg(e,t),e.unshift(t)},remove(t){var n;e=sg(e,t),(n=e[0])==null||n.resume()}}}function sg(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function LN(e){return e.filter(t=>t.tagName!=="A")}var FN=Ba[" useId ".trim().toString()]||(()=>{}),UN=0;function Oa(e){const[t,n]=m.useState(FN());return on(()=>{n(o=>o??String(UN++))},[e]),t?`radix-${t}`:""}const _N=["top","right","bottom","left"],Ln=Math.min,Xe=Math.max,Ra=Math.round,Ci=Math.floor,Ut=e=>({x:e,y:e}),BN={left:"right",right:"left",bottom:"top",top:"bottom"},WN={start:"end",end:"start"};function Ju(e,t,n){return Xe(e,Ln(t,n))}function rn(e,t){return typeof e=="function"?e(t):e}function sn(e){return e.split("-")[0]}function gr(e){return e.split("-")[1]}function Hf(e){return e==="x"?"y":"x"}function zf(e){return e==="y"?"height":"width"}const VN=new Set(["top","bottom"]);function It(e){return VN.has(sn(e))?"y":"x"}function $f(e){return Hf(It(e))}function HN(e,t,n){n===void 0&&(n=!1);const o=gr(e),r=$f(e),s=zf(r);let i=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Ia(i)),[i,Ia(i)]}function zN(e){const t=Ia(e);return[Gu(e),t,Gu(t)]}function Gu(e){return e.replace(/start|end/g,t=>WN[t])}const ig=["left","right"],ag=["right","left"],$N=["top","bottom"],JN=["bottom","top"];function GN(e,t,n){switch(e){case"top":case"bottom":return n?t?ag:ig:t?ig:ag;case"left":case"right":return t?$N:JN;default:return[]}}function YN(e,t,n,o){const r=gr(e);let s=GN(sn(e),n==="start",o);return r&&(s=s.map(i=>i+"-"+r),t&&(s=s.concat(s.map(Gu)))),s}function Ia(e){return e.replace(/left|right|bottom|top/g,t=>BN[t])}function KN(e){return{top:0,right:0,bottom:0,left:0,...e}}function yx(e){return typeof e!="number"?KN(e):{top:e,right:e,bottom:e,left:e}}function Ma(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function lg(e,t,n){let{reference:o,floating:r}=e;const s=It(t),i=$f(t),a=zf(i),l=sn(t),c=s==="y",u=o.x+o.width/2-r.width/2,f=o.y+o.height/2-r.height/2,p=o[a]/2-r[a]/2;let y;switch(l){case"top":y={x:u,y:o.y-r.height};break;case"bottom":y={x:u,y:o.y+o.height};break;case"right":y={x:o.x+o.width,y:f};break;case"left":y={x:o.x-r.width,y:f};break;default:y={x:o.x,y:o.y}}switch(gr(t)){case"start":y[i]-=p*(n&&c?-1:1);break;case"end":y[i]+=p*(n&&c?-1:1);break}return y}const qN=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:f}=lg(c,o,l),p=o,y={},w=0;for(let v=0;v<a.length;v++){const{name:x,fn:h}=a[v],{x:g,y:b,data:S,reset:C}=await h({x:u,y:f,initialPlacement:o,placement:p,strategy:r,middlewareData:y,rects:c,platform:i,elements:{reference:e,floating:t}});u=g??u,f=b??f,y={...y,[x]:{...y[x],...S}},C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(c=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:r}):C.rects),{x:u,y:f}=lg(c,p,l)),v=-1)}return{x:u,y:f,placement:p,strategy:r,middlewareData:y}};async function Os(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:y=0}=rn(t,e),w=yx(y),x=a[p?f==="floating"?"reference":"floating":f],h=Ma(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),g=f==="floating"?{x:o,y:r,width:i.floating.width,height:i.floating.height}:i.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},C=Ma(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:b,strategy:l}):g);return{top:(h.top-C.top+w.top)/S.y,bottom:(C.bottom-h.bottom+w.bottom)/S.y,left:(h.left-C.left+w.left)/S.x,right:(C.right-h.right+w.right)/S.x}}const QN=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=rn(e,t)||{};if(c==null)return{};const f=yx(u),p={x:n,y:o},y=$f(r),w=zf(y),v=await i.getDimensions(c),x=y==="y",h=x?"top":"left",g=x?"bottom":"right",b=x?"clientHeight":"clientWidth",S=s.reference[w]+s.reference[y]-p[y]-s.floating[w],C=p[y]-s.reference[y],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let E=j?j[b]:0;(!E||!await(i.isElement==null?void 0:i.isElement(j)))&&(E=a.floating[b]||s.floating[w]);const k=S/2-C/2,N=E/2-v[w]/2-1,P=Ln(f[h],N),F=Ln(f[g],N),U=P,H=E-v[w]-F,M=E/2-v[w]/2+k,R=Ju(U,M,H),L=!l.arrow&&gr(r)!=null&&M!==R&&s.reference[w]/2-(M<U?P:F)-v[w]/2<0,B=L?M<U?M-U:M-H:0;return{[y]:p[y]+B,data:{[y]:R,centerOffset:M-R-B,...L&&{alignmentOffset:B}},reset:L}}}),XN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...x}=rn(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const h=sn(r),g=It(a),b=sn(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=p||(b||!v?[Ia(a)]:zN(a)),j=w!=="none";!p&&j&&C.push(...YN(a,v,w,S));const E=[a,...C],k=await Os(t,x),N=[];let P=((o=s.flip)==null?void 0:o.overflows)||[];if(u&&N.push(k[h]),f){const M=HN(r,i,S);N.push(k[M[0]],k[M[1]])}if(P=[...P,{placement:r,overflows:N}],!N.every(M=>M<=0)){var F,U;const M=(((F=s.flip)==null?void 0:F.index)||0)+1,R=E[M];if(R&&(!(f==="alignment"?g!==It(R):!1)||P.every(T=>It(T.placement)===g?T.overflows[0]>0:!0)))return{data:{index:M,overflows:P},reset:{placement:R}};let L=(U=P.filter(B=>B.overflows[0]<=0).sort((B,T)=>B.overflows[1]-T.overflows[1])[0])==null?void 0:U.placement;if(!L)switch(y){case"bestFit":{var H;const B=(H=P.filter(T=>{if(j){const A=It(T.placement);return A===g||A==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(A=>A>0).reduce((A,D)=>A+D,0)]).sort((T,A)=>T[1]-A[1])[0])==null?void 0:H[0];B&&(L=B);break}case"initialPlacement":L=a;break}if(r!==L)return{reset:{placement:L}}}return{}}}};function cg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ug(e){return _N.some(t=>e[t]>=0)}const ZN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...r}=rn(e,t);switch(o){case"referenceHidden":{const s=await Os(t,{...r,elementContext:"reference"}),i=cg(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ug(i)}}}case"escaped":{const s=await Os(t,{...r,altBoundary:!0}),i=cg(s,n.floating);return{data:{escapedOffsets:i,escaped:ug(i)}}}default:return{}}}}},vx=new Set(["left","top"]);async function eO(e,t){const{placement:n,platform:o,elements:r}=e,s=await(o.isRTL==null?void 0:o.isRTL(r.floating)),i=sn(n),a=gr(n),l=It(n)==="y",c=vx.has(i)?-1:1,u=s&&l?-1:1,f=rn(t,e);let{mainAxis:p,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(y=a==="end"?w*-1:w),l?{x:y*u,y:p*c}:{x:p*c,y:y*u}}const tO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:s,placement:i,middlewareData:a}=t,l=await eO(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:i}}}}},nO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:x=>{let{x:h,y:g}=x;return{x:h,y:g}}},...l}=rn(e,t),c={x:n,y:o},u=await Os(t,l),f=It(sn(r)),p=Hf(f);let y=c[p],w=c[f];if(s){const x=p==="y"?"top":"left",h=p==="y"?"bottom":"right",g=y+u[x],b=y-u[h];y=Ju(g,y,b)}if(i){const x=f==="y"?"top":"left",h=f==="y"?"bottom":"right",g=w+u[x],b=w-u[h];w=Ju(g,w,b)}const v=a.fn({...t,[p]:y,[f]:w});return{...v,data:{x:v.x-n,y:v.y-o,enabled:{[p]:s,[f]:i}}}}}},oO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:r,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=rn(e,t),u={x:n,y:o},f=It(r),p=Hf(f);let y=u[p],w=u[f];const v=rn(a,t),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=p==="y"?"height":"width",S=s.reference[p]-s.floating[b]+x.mainAxis,C=s.reference[p]+s.reference[b]-x.mainAxis;y<S?y=S:y>C&&(y=C)}if(c){var h,g;const b=p==="y"?"width":"height",S=vx.has(sn(r)),C=s.reference[f]-s.floating[b]+(S&&((h=i.offset)==null?void 0:h[f])||0)+(S?0:x.crossAxis),j=s.reference[f]+s.reference[b]+(S?0:((g=i.offset)==null?void 0:g[f])||0)-(S?x.crossAxis:0);w<C?w=C:w>j&&(w=j)}return{[p]:y,[f]:w}}}},rO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...c}=rn(e,t),u=await Os(t,c),f=sn(r),p=gr(r),y=It(r)==="y",{width:w,height:v}=s.floating;let x,h;f==="top"||f==="bottom"?(x=f,h=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(h=f,x=p==="end"?"top":"bottom");const g=v-u.top-u.bottom,b=w-u.left-u.right,S=Ln(v-u[x],g),C=Ln(w-u[h],b),j=!t.middlewareData.shift;let E=S,k=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=b),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(E=g),j&&!p){const P=Xe(u.left,0),F=Xe(u.right,0),U=Xe(u.top,0),H=Xe(u.bottom,0);y?k=w-2*(P!==0||F!==0?P+F:Xe(u.left,u.right)):E=v-2*(U!==0||H!==0?U+H:Xe(u.top,u.bottom))}await l({...t,availableWidth:k,availableHeight:E});const N=await i.getDimensions(a.floating);return w!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}};function ml(){return typeof window<"u"}function yr(e){return bx(e)?(e.nodeName||"").toLowerCase():"#document"}function nt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ht(e){var t;return(t=(bx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bx(e){return ml()?e instanceof Node||e instanceof nt(e).Node:!1}function Tt(e){return ml()?e instanceof Element||e instanceof nt(e).Element:!1}function _t(e){return ml()?e instanceof HTMLElement||e instanceof nt(e).HTMLElement:!1}function dg(e){return!ml()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nt(e).ShadowRoot}const sO=new Set(["inline","contents"]);function Ks(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=At(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!sO.has(r)}const iO=new Set(["table","td","th"]);function aO(e){return iO.has(yr(e))}const lO=[":popover-open",":modal"];function hl(e){return lO.some(t=>{try{return e.matches(t)}catch{return!1}})}const cO=["transform","translate","scale","rotate","perspective"],uO=["transform","translate","scale","rotate","perspective","filter"],dO=["paint","layout","strict","content"];function Jf(e){const t=Gf(),n=Tt(e)?At(e):e;return cO.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||uO.some(o=>(n.willChange||"").includes(o))||dO.some(o=>(n.contain||"").includes(o))}function fO(e){let t=Fn(e);for(;_t(t)&&!lr(t);){if(Jf(t))return t;if(hl(t))return null;t=Fn(t)}return null}function Gf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pO=new Set(["html","body","#document"]);function lr(e){return pO.has(yr(e))}function At(e){return nt(e).getComputedStyle(e)}function gl(e){return Tt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fn(e){if(yr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dg(e)&&e.host||Ht(e);return dg(t)?t.host:t}function wx(e){const t=Fn(e);return lr(t)?e.ownerDocument?e.ownerDocument.body:e.body:_t(t)&&Ks(t)?t:wx(t)}function Rs(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=wx(e),s=r===((o=e.ownerDocument)==null?void 0:o.body),i=nt(r);if(s){const a=Yu(i);return t.concat(i,i.visualViewport||[],Ks(r)?r:[],a&&n?Rs(a):[])}return t.concat(r,Rs(r,[],n))}function Yu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xx(e){const t=At(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=_t(e),s=r?e.offsetWidth:n,i=r?e.offsetHeight:o,a=Ra(n)!==s||Ra(o)!==i;return a&&(n=s,o=i),{width:n,height:o,$:a}}function Yf(e){return Tt(e)?e:e.contextElement}function Ko(e){const t=Yf(e);if(!_t(t))return Ut(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:s}=xx(t);let i=(s?Ra(n.width):n.width)/o,a=(s?Ra(n.height):n.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const mO=Ut(0);function Sx(e){const t=nt(e);return!Gf()||!t.visualViewport?mO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==nt(e)?!1:t}function co(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=Yf(e);let i=Ut(1);t&&(o?Tt(o)&&(i=Ko(o)):i=Ko(e));const a=hO(s,n,o)?Sx(s):Ut(0);let l=(r.left+a.x)/i.x,c=(r.top+a.y)/i.y,u=r.width/i.x,f=r.height/i.y;if(s){const p=nt(s),y=o&&Tt(o)?nt(o):o;let w=p,v=Yu(w);for(;v&&o&&y!==w;){const x=Ko(v),h=v.getBoundingClientRect(),g=At(v),b=h.left+(v.clientLeft+parseFloat(g.paddingLeft))*x.x,S=h.top+(v.clientTop+parseFloat(g.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,f*=x.y,l+=b,c+=S,w=nt(v),v=Yu(w)}}return Ma({width:u,height:f,x:l,y:c})}function yl(e,t){const n=gl(e).scrollLeft;return t?t.left+n:co(Ht(e)).left+n}function Cx(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-yl(e,n),r=n.top+t.scrollTop;return{x:o,y:r}}function gO(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const s=r==="fixed",i=Ht(o),a=t?hl(t.floating):!1;if(o===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Ut(1);const u=Ut(0),f=_t(o);if((f||!f&&!s)&&((yr(o)!=="body"||Ks(i))&&(l=gl(o)),_t(o))){const y=co(o);c=Ko(o),u.x=y.x+o.clientLeft,u.y=y.y+o.clientTop}const p=i&&!f&&!s?Cx(i,l):Ut(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function yO(e){return Array.from(e.getClientRects())}function vO(e){const t=Ht(e),n=gl(e),o=e.ownerDocument.body,r=Xe(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),s=Xe(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let i=-n.scrollLeft+yl(e);const a=-n.scrollTop;return At(o).direction==="rtl"&&(i+=Xe(t.clientWidth,o.clientWidth)-r),{width:r,height:s,x:i,y:a}}const fg=25;function bO(e,t){const n=nt(e),o=Ht(e),r=n.visualViewport;let s=o.clientWidth,i=o.clientHeight,a=0,l=0;if(r){s=r.width,i=r.height;const u=Gf();(!u||u&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}const c=yl(o);if(c<=0){const u=o.ownerDocument,f=u.body,p=getComputedStyle(f),y=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(o.clientWidth-f.clientWidth-y);w<=fg&&(s-=w)}else c<=fg&&(s+=c);return{width:s,height:i,x:a,y:l}}const wO=new Set(["absolute","fixed"]);function xO(e,t){const n=co(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,s=_t(e)?Ko(e):Ut(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=r*s.x,c=o*s.y;return{width:i,height:a,x:l,y:c}}function pg(e,t,n){let o;if(t==="viewport")o=bO(e,n);else if(t==="document")o=vO(Ht(e));else if(Tt(t))o=xO(t,n);else{const r=Sx(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Ma(o)}function Ex(e,t){const n=Fn(e);return n===t||!Tt(n)||lr(n)?!1:At(n).position==="fixed"||Ex(n,t)}function SO(e,t){const n=t.get(e);if(n)return n;let o=Rs(e,[],!1).filter(a=>Tt(a)&&yr(a)!=="body"),r=null;const s=At(e).position==="fixed";let i=s?Fn(e):e;for(;Tt(i)&&!lr(i);){const a=At(i),l=Jf(i);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&wO.has(r.position)||Ks(i)&&!l&&Ex(e,i))?o=o.filter(u=>u!==i):r=a,i=Fn(i)}return t.set(e,o),o}function CO(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const i=[...n==="clippingAncestors"?hl(t)?[]:SO(t,this._c):[].concat(n),o],a=i[0],l=i.reduce((c,u)=>{const f=pg(t,u,r);return c.top=Xe(f.top,c.top),c.right=Ln(f.right,c.right),c.bottom=Ln(f.bottom,c.bottom),c.left=Xe(f.left,c.left),c},pg(t,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function EO(e){const{width:t,height:n}=xx(e);return{width:t,height:n}}function jO(e,t,n){const o=_t(t),r=Ht(t),s=n==="fixed",i=co(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Ut(0);function c(){l.x=yl(r)}if(o||!o&&!s)if((yr(t)!=="body"||Ks(r))&&(a=gl(t)),o){const y=co(t,!0,s,t);l.x=y.x+t.clientLeft,l.y=y.y+t.clientTop}else r&&c();s&&!o&&r&&c();const u=r&&!o&&!s?Cx(r,a):Ut(0),f=i.left+a.scrollLeft-l.x-u.x,p=i.top+a.scrollTop-l.y-u.y;return{x:f,y:p,width:i.width,height:i.height}}function bc(e){return At(e).position==="static"}function mg(e,t){if(!_t(e)||At(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ht(e)===n&&(n=n.ownerDocument.body),n}function jx(e,t){const n=nt(e);if(hl(e))return n;if(!_t(e)){let r=Fn(e);for(;r&&!lr(r);){if(Tt(r)&&!bc(r))return r;r=Fn(r)}return n}let o=mg(e,t);for(;o&&aO(o)&&bc(o);)o=mg(o,t);return o&&lr(o)&&bc(o)&&!Jf(o)?n:o||fO(e)||n}const kO=async function(e){const t=this.getOffsetParent||jx,n=this.getDimensions,o=await n(e.floating);return{reference:jO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function TO(e){return At(e).direction==="rtl"}const AO={convertOffsetParentRelativeRectToViewportRelativeRect:gO,getDocumentElement:Ht,getClippingRect:CO,getOffsetParent:jx,getElementRects:kO,getClientRects:yO,getDimensions:EO,getScale:Ko,isElement:Tt,isRTL:TO};function kx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function PO(e,t){let n=null,o;const r=Ht(e);function s(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:u,top:f,width:p,height:y}=c;if(a||t(),!p||!y)return;const w=Ci(f),v=Ci(r.clientWidth-(u+p)),x=Ci(r.clientHeight-(f+y)),h=Ci(u),b={rootMargin:-w+"px "+-v+"px "+-x+"px "+-h+"px",threshold:Xe(0,Ln(1,l))||1};let S=!0;function C(j){const E=j[0].intersectionRatio;if(E!==l){if(!S)return i();E?i(!1,E):o=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!kx(c,e.getBoundingClientRect())&&i(),S=!1}try{n=new IntersectionObserver(C,{...b,root:r.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return i(!0),s}function NO(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,c=Yf(e),u=r||s?[...c?Rs(c):[],...Rs(t)]:[];u.forEach(h=>{r&&h.addEventListener("scroll",n,{passive:!0}),s&&h.addEventListener("resize",n)});const f=c&&a?PO(c,n):null;let p=-1,y=null;i&&(y=new ResizeObserver(h=>{let[g]=h;g&&g.target===c&&y&&(y.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=y)==null||b.observe(t)})),n()}),c&&!l&&y.observe(c),y.observe(t));let w,v=l?co(e):null;l&&x();function x(){const h=co(e);v&&!kx(v,h)&&n(),v=h,w=requestAnimationFrame(x)}return n(),()=>{var h;u.forEach(g=>{r&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),f==null||f(),(h=y)==null||h.disconnect(),y=null,l&&cancelAnimationFrame(w)}}const OO=tO,RO=nO,IO=XN,MO=rO,DO=ZN,hg=QN,LO=oO,FO=(e,t,n)=>{const o=new Map,r={platform:AO,...n},s={...r.platform,_c:o};return qN(e,t,{...r,platform:s})};var UO=typeof document<"u",_O=function(){},$i=UO?m.useLayoutEffect:_O;function Da(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!Da(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const s=r[o];if(!(s==="_owner"&&e.$$typeof)&&!Da(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Tx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gg(e,t){const n=Tx(e);return Math.round(t*n)/n}function wc(e){const t=m.useRef(e);return $i(()=>{t.current=e}),t}function BO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,y]=m.useState(o);Da(p,o)||y(o);const[w,v]=m.useState(null),[x,h]=m.useState(null),g=m.useCallback(T=>{T!==j.current&&(j.current=T,v(T))},[]),b=m.useCallback(T=>{T!==E.current&&(E.current=T,h(T))},[]),S=s||w,C=i||x,j=m.useRef(null),E=m.useRef(null),k=m.useRef(u),N=l!=null,P=wc(l),F=wc(r),U=wc(c),H=m.useCallback(()=>{if(!j.current||!E.current)return;const T={placement:t,strategy:n,middleware:p};F.current&&(T.platform=F.current),FO(j.current,E.current,T).then(A=>{const D={...A,isPositioned:U.current!==!1};M.current&&!Da(k.current,D)&&(k.current=D,nl.flushSync(()=>{f(D)}))})},[p,t,n,F,U]);$i(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[c]);const M=m.useRef(!1);$i(()=>(M.current=!0,()=>{M.current=!1}),[]),$i(()=>{if(S&&(j.current=S),C&&(E.current=C),S&&C){if(P.current)return P.current(S,C,H);H()}},[S,C,H,P,N]);const R=m.useMemo(()=>({reference:j,floating:E,setReference:g,setFloating:b}),[g,b]),L=m.useMemo(()=>({reference:S,floating:C}),[S,C]),B=m.useMemo(()=>{const T={position:n,left:0,top:0};if(!L.floating)return T;const A=gg(L.floating,u.x),D=gg(L.floating,u.y);return a?{...T,transform:"translate("+A+"px, "+D+"px)",...Tx(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:D}},[n,a,L.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:H,refs:R,elements:L,floatingStyles:B}),[u,H,R,L,B])}const WO=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:o,padding:r}=typeof e=="function"?e(n):e;return o&&t(o)?o.current!=null?hg({element:o.current,padding:r}).fn(n):{}:o?hg({element:o,padding:r}).fn(n):{}}}},VO=(e,t)=>({...OO(e),options:[e,t]}),HO=(e,t)=>({...RO(e),options:[e,t]}),zO=(e,t)=>({...LO(e),options:[e,t]}),$O=(e,t)=>({...IO(e),options:[e,t]}),JO=(e,t)=>({...MO(e),options:[e,t]}),GO=(e,t)=>({...DO(e),options:[e,t]}),YO=(e,t)=>({...WO(e),options:[e,t]});var KO="Arrow",Ax=m.forwardRef((e,t)=>{const{children:n,width:o=10,height:r=5,...s}=e;return d.jsx(se.svg,{...s,ref:t,width:o,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ax.displayName=KO;var qO=Ax;function QO(e){const[t,n]=m.useState(void 0);return on(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}var Kf="Popper",[Px,Nx]=go(Kf),[XO,Ox]=Px(Kf),Rx=e=>{const{__scopePopper:t,children:n}=e,[o,r]=m.useState(null);return d.jsx(XO,{scope:t,anchor:o,onAnchorChange:r,children:n})};Rx.displayName=Kf;var Ix="PopperAnchor",Mx=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o,...r}=e,s=Ox(Ix,n),i=m.useRef(null),a=ge(t,i),l=m.useRef(null);return m.useEffect(()=>{const c=l.current;l.current=(o==null?void 0:o.current)||i.current,c!==l.current&&s.onAnchorChange(l.current)}),o?null:d.jsx(se.div,{...r,ref:a})});Mx.displayName=Ix;var qf="PopperContent",[ZO,eR]=Px(qf),Dx=m.forwardRef((e,t)=>{var He,xr,at,Sr,ip,ap;const{__scopePopper:n,side:o="bottom",sideOffset:r=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:w,...v}=e,x=Ox(qf,n),[h,g]=m.useState(null),b=ge(t,Cr=>g(Cr)),[S,C]=m.useState(null),j=QO(S),E=(j==null?void 0:j.width)??0,k=(j==null?void 0:j.height)??0,N=o+(s!=="center"?"-"+s:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},F=Array.isArray(c)?c:[c],U=F.length>0,H={padding:P,boundary:F.filter(nR),altBoundary:U},{refs:M,floatingStyles:R,placement:L,isPositioned:B,middlewareData:T}=BO({strategy:"fixed",placement:N,whileElementsMounted:(...Cr)=>NO(...Cr,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[VO({mainAxis:r+k,alignmentAxis:i}),l&&HO({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zO():void 0,...H}),l&&$O({...H}),JO({...H,apply:({elements:Cr,rects:lp,availableWidth:E1,availableHeight:j1})=>{const{width:k1,height:T1}=lp.reference,ei=Cr.floating.style;ei.setProperty("--radix-popper-available-width",`${E1}px`),ei.setProperty("--radix-popper-available-height",`${j1}px`),ei.setProperty("--radix-popper-anchor-width",`${k1}px`),ei.setProperty("--radix-popper-anchor-height",`${T1}px`)}}),S&&YO({element:S,padding:a}),oR({arrowWidth:E,arrowHeight:k}),p&&GO({strategy:"referenceHidden",...H})]}),[A,D]=Ux(L),I=Oe(w);on(()=>{B&&(I==null||I())},[B,I]);const W=(He=T.arrow)==null?void 0:He.x,Q=(xr=T.arrow)==null?void 0:xr.y,ye=((at=T.arrow)==null?void 0:at.centerOffset)!==0,[De,Le]=m.useState();return on(()=>{h&&Le(window.getComputedStyle(h).zIndex)},[h]),d.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:B?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(Sr=T.transformOrigin)==null?void 0:Sr.x,(ip=T.transformOrigin)==null?void 0:ip.y].join(" "),...((ap=T.hide)==null?void 0:ap.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(ZO,{scope:n,placedSide:A,onArrowChange:C,arrowX:W,arrowY:Q,shouldHideArrow:ye,children:d.jsx(se.div,{"data-side":A,"data-align":D,...v,ref:b,style:{...v.style,animation:B?void 0:"none"}})})})});Dx.displayName=qf;var Lx="PopperArrow",tR={top:"bottom",right:"left",bottom:"top",left:"right"},Fx=m.forwardRef(function(t,n){const{__scopePopper:o,...r}=t,s=eR(Lx,o),i=tR[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(qO,{...r,ref:n,style:{...r.style,display:"block"}})})});Fx.displayName=Lx;function nR(e){return e!==null}var oR=e=>({name:"transformOrigin",options:e,fn(t){var x,h,g;const{placement:n,rects:o,middlewareData:r}=t,i=((x=r.arrow)==null?void 0:x.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,u]=Ux(n),f={start:"0%",center:"50%",end:"100%"}[u],p=(((h=r.arrow)==null?void 0:h.x)??0)+a/2,y=(((g=r.arrow)==null?void 0:g.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=i?f:`${p}px`,v=`${-l}px`):c==="top"?(w=i?f:`${p}px`,v=`${o.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=i?f:`${y}px`):c==="left"&&(w=`${o.floating.width+l}px`,v=i?f:`${y}px`),{data:{x:w,y:v}}}});function Ux(e){const[t,n="center"]=e.split("-");return[t,n]}var rR=Rx,sR=Mx,iR=Dx,aR=Fx,lR="Portal",_x=m.forwardRef((e,t)=>{var a;const{container:n,...o}=e,[r,s]=m.useState(!1);on(()=>s(!0),[]);const i=n||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?eE.createPortal(d.jsx(se.div,{...o,ref:t}),i):null});_x.displayName=lR;var xc="rovingFocusGroup.onEntryFocus",cR={bubbles:!1,cancelable:!0},qs="RovingFocusGroup",[Ku,Bx,uR]=dx(qs),[dR,vl]=go(qs,[uR]),[fR,pR]=dR(qs),Wx=m.forwardRef((e,t)=>d.jsx(Ku.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(Ku.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(mR,{...e,ref:t})})}));Wx.displayName=qs;var mR=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:r=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=e,p=m.useRef(null),y=ge(t,p),w=ul(s),[v,x]=Vf({prop:i,defaultProp:a??null,onChange:l,caller:qs}),[h,g]=m.useState(!1),b=Oe(c),S=Bx(n),C=m.useRef(!1),[j,E]=m.useState(0);return m.useEffect(()=>{const k=p.current;if(k)return k.addEventListener(xc,b),()=>k.removeEventListener(xc,b)},[b]),d.jsx(fR,{scope:n,orientation:o,dir:w,loop:r,currentTabStopId:v,onItemFocus:m.useCallback(k=>x(k),[x]),onItemShiftTab:m.useCallback(()=>g(!0),[]),onFocusableItemAdd:m.useCallback(()=>E(k=>k+1),[]),onFocusableItemRemove:m.useCallback(()=>E(k=>k-1),[]),children:d.jsx(se.div,{tabIndex:h||j===0?-1:0,"data-orientation":o,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:z(e.onMouseDown,()=>{C.current=!0}),onFocus:z(e.onFocus,k=>{const N=!C.current;if(k.target===k.currentTarget&&N&&!h){const P=new CustomEvent(xc,cR);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const F=S().filter(L=>L.focusable),U=F.find(L=>L.active),H=F.find(L=>L.id===v),R=[U,H,...F].filter(Boolean).map(L=>L.ref.current);zx(R,u)}}C.current=!1}),onBlur:z(e.onBlur,()=>g(!1))})})}),Vx="RovingFocusGroupItem",Hx=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:r=!1,tabStopId:s,children:i,...a}=e,l=Oa(),c=s||l,u=pR(Vx,n),f=u.currentTabStopId===c,p=Bx(n),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:v}=u;return m.useEffect(()=>{if(o)return y(),()=>w()},[o,y,w]),d.jsx(Ku.ItemSlot,{scope:n,id:c,focusable:o,active:r,children:d.jsx(se.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:z(e.onMouseDown,x=>{o?u.onItemFocus(c):x.preventDefault()}),onFocus:z(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:z(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const h=yR(x,u.orientation,u.dir);if(h!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=p().filter(S=>S.focusable).map(S=>S.ref.current);if(h==="last")b.reverse();else if(h==="prev"||h==="next"){h==="prev"&&b.reverse();const S=b.indexOf(x.currentTarget);b=u.loop?vR(b,S+1):b.slice(S+1)}setTimeout(()=>zx(b))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:v!=null}):i})})});Hx.displayName=Vx;var hR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gR(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function yR(e,t,n){const o=gR(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return hR[o]}function zx(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function vR(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var $x=Wx,Jx=Hx;function bR(e){const t=wR(e),n=m.forwardRef((o,r)=>{const{children:s,...i}=o,a=m.Children.toArray(s),l=a.find(SR);if(l){const c=l.props.children,u=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return d.jsx(t,{...i,ref:r,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return d.jsx(t,{...i,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}function wR(e){const t=m.forwardRef((n,o)=>{const{children:r,...s}=n;if(m.isValidElement(r)){const i=ER(r),a=CR(s,r.props);return r.type!==m.Fragment&&(a.ref=o?ho(o,i):i),m.cloneElement(r,a)}return m.Children.count(r)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xR=Symbol("radix.slottable");function SR(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xR}function CR(e,t){const n={...t};for(const o in t){const r=e[o],s=t[o];/^on[A-Z]/.test(o)?r&&s?n[o]=(...a)=>{const l=s(...a);return r(...a),l}:r&&(n[o]=r):o==="style"?n[o]={...r,...s}:o==="className"&&(n[o]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function ER(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},wo=new WeakMap,Ei=new WeakMap,ji={},Sc=0,Gx=function(e){return e&&(e.host||Gx(e.parentNode))},kR=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=Gx(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},TR=function(e,t,n,o){var r=kR(t,Array.isArray(e)?e:[e]);ji[n]||(ji[n]=new WeakMap);var s=ji[n],i=[],a=new Set,l=new Set(r),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};r.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))u(p);else try{var y=p.getAttribute(o),w=y!==null&&y!=="false",v=(wo.get(p)||0)+1,x=(s.get(p)||0)+1;wo.set(p,v),s.set(p,x),i.push(p),v===1&&w&&Ei.set(p,!0),x===1&&p.setAttribute(n,"true"),w||p.setAttribute(o,"true")}catch(h){console.error("aria-hidden: cannot operate on ",p,h)}})};return u(t),a.clear(),Sc++,function(){i.forEach(function(f){var p=wo.get(f)-1,y=s.get(f)-1;wo.set(f,p),s.set(f,y),p||(Ei.has(f)||f.removeAttribute(o),Ei.delete(f)),y||f.removeAttribute(n)}),Sc--,Sc||(wo=new WeakMap,wo=new WeakMap,Ei=new WeakMap,ji={})}},AR=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),r=jR(e);return r?(o.push.apply(o,Array.from(r.querySelectorAll("[aria-live], script"))),TR(o,r,n,"aria-hidden")):function(){return null}},Rt=function(){return Rt=Object.assign||function(t){for(var n,o=1,r=arguments.length;o<r;o++){n=arguments[o];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Rt.apply(this,arguments)};function Yx(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}function PR(e,t,n){if(n||arguments.length===2)for(var o=0,r=t.length,s;o<r;o++)(s||!(o in t))&&(s||(s=Array.prototype.slice.call(t,0,o)),s[o]=t[o]);return e.concat(s||Array.prototype.slice.call(t))}var Ji="right-scroll-bar-position",Gi="width-before-scroll-bar",NR="with-scroll-bars-hidden",OR="--removed-body-scroll-bar-size";function Cc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function RR(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(o){var r=n.value;r!==o&&(n.value=o,n.callback(o,r))}}}})[0];return n.callback=t,n.facade}var IR=typeof window<"u"?m.useLayoutEffect:m.useEffect,yg=new WeakMap;function MR(e,t){var n=RR(null,function(o){return e.forEach(function(r){return Cc(r,o)})});return IR(function(){var o=yg.get(n);if(o){var r=new Set(o),s=new Set(e),i=n.current;r.forEach(function(a){s.has(a)||Cc(a,null)}),s.forEach(function(a){r.has(a)||Cc(a,i)})}yg.set(n,e)},[e]),n}function DR(e){return e}function LR(e,t){t===void 0&&(t=DR);var n=[],o=!1,r={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,o);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(o=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){o=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var u=i;i=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),n}}}};return r}function FR(e){e===void 0&&(e={});var t=LR(null);return t.options=Rt({async:!0,ssr:!1},e),t}var Kx=function(e){var t=e.sideCar,n=Yx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return m.createElement(o,Rt({},n))};Kx.isSideCarExport=!0;function UR(e,t){return e.useMedium(t),Kx}var qx=FR(),Ec=function(){},bl=m.forwardRef(function(e,t){var n=m.useRef(null),o=m.useState({onScrollCapture:Ec,onWheelCapture:Ec,onTouchMoveCapture:Ec}),r=o[0],s=o[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,p=e.sideCar,y=e.noRelative,w=e.noIsolation,v=e.inert,x=e.allowPinchZoom,h=e.as,g=h===void 0?"div":h,b=e.gapMode,S=Yx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,j=MR([n,t]),E=Rt(Rt({},S),r);return m.createElement(m.Fragment,null,u&&m.createElement(C,{sideCar:qx,removeScrollBar:c,shards:f,noRelative:y,noIsolation:w,inert:v,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:b}),i?m.cloneElement(m.Children.only(a),Rt(Rt({},E),{ref:j})):m.createElement(g,Rt({},E,{className:l,ref:j}),a))});bl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bl.classNames={fullWidth:Gi,zeroRight:Ji};var _R=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_R();return t&&e.setAttribute("nonce",t),e}function WR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function VR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var HR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=BR())&&(WR(t,n),VR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},zR=function(){var e=HR();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Qx=function(){var e=zR(),t=function(n){var o=n.styles,r=n.dynamic;return e(o,r),null};return t},$R={left:0,top:0,right:0,gap:0},jc=function(e){return parseInt(e||"",10)||0},JR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[jc(n),jc(o),jc(r)]},GR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $R;var t=JR(e),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-n+t[2]-t[0])}},YR=Qx(),qo="data-scroll-locked",KR=function(e,t,n,o){var r=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(NR,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(a,"px ").concat(o,`;
  }
  body[`).concat(qo,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ji,` {
    right: `).concat(a,"px ").concat(o,`;
  }
  
  .`).concat(Gi,` {
    margin-right: `).concat(a,"px ").concat(o,`;
  }
  
  .`).concat(Ji," .").concat(Ji,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Gi," .").concat(Gi,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(qo,`] {
    `).concat(OR,": ").concat(a,`px;
  }
`)},vg=function(){var e=parseInt(document.body.getAttribute(qo)||"0",10);return isFinite(e)?e:0},qR=function(){m.useEffect(function(){return document.body.setAttribute(qo,(vg()+1).toString()),function(){var e=vg()-1;e<=0?document.body.removeAttribute(qo):document.body.setAttribute(qo,e.toString())}},[])},QR=function(e){var t=e.noRelative,n=e.noImportant,o=e.gapMode,r=o===void 0?"margin":o;qR();var s=m.useMemo(function(){return GR(r)},[r]);return m.createElement(YR,{styles:KR(s,!t,r,n?"":"!important")})},qu=!1;if(typeof window<"u")try{var ki=Object.defineProperty({},"passive",{get:function(){return qu=!0,!0}});window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{qu=!1}var xo=qu?{passive:!1}:!1,XR=function(e){return e.tagName==="TEXTAREA"},Xx=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!XR(e)&&n[t]==="visible")},ZR=function(e){return Xx(e,"overflowY")},eI=function(e){return Xx(e,"overflowX")},bg=function(e,t){var n=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var r=Zx(e,o);if(r){var s=e0(e,o),i=s[1],a=s[2];if(i>a)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},tI=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},nI=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},Zx=function(e,t){return e==="v"?ZR(t):eI(t)},e0=function(e,t){return e==="v"?tI(t):nI(t)},oI=function(e,t){return e==="h"&&t==="rtl"?-1:1},rI=function(e,t,n,o,r){var s=oI(e,window.getComputedStyle(t).direction),i=s*o,a=n.target,l=t.contains(a),c=!1,u=i>0,f=0,p=0;do{if(!a)break;var y=e0(e,a),w=y[0],v=y[1],x=y[2],h=v-x-s*w;(w||h)&&Zx(e,a)&&(f+=h,p+=w);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&Math.abs(f)<1||!u&&Math.abs(p)<1)&&(c=!0),c},Ti=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wg=function(e){return[e.deltaX,e.deltaY]},xg=function(e){return e&&"current"in e?e.current:e},sI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aI=0,So=[];function lI(e){var t=m.useRef([]),n=m.useRef([0,0]),o=m.useRef(),r=m.useState(aI++)[0],s=m.useState(Qx)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var v=PR([e.lockRef.current],(e.shards||[]).map(xg),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var h=Ti(v),g=n.current,b="deltaX"in v?v.deltaX:g[0]-h[0],S="deltaY"in v?v.deltaY:g[1]-h[1],C,j=v.target,E=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in v&&E==="h"&&j.type==="range")return!1;var k=window.getSelection(),N=k&&k.anchorNode,P=N?N===j||N.contains(j):!1;if(P)return!1;var F=bg(E,j);if(!F)return!0;if(F?C=E:(C=E==="v"?"h":"v",F=bg(E,j)),!F)return!1;if(!o.current&&"changedTouches"in v&&(b||S)&&(o.current=C),!C)return!0;var U=o.current||C;return rI(U,x,v,U==="h"?b:S)},[]),l=m.useCallback(function(v){var x=v;if(!(!So.length||So[So.length-1]!==s)){var h="deltaY"in x?wg(x):Ti(x),g=t.current.filter(function(C){return C.name===x.type&&(C.target===x.target||x.target===C.shadowParent)&&sI(C.delta,h)})[0];if(g&&g.should){x.cancelable&&x.preventDefault();return}if(!g){var b=(i.current.shards||[]).map(xg).filter(Boolean).filter(function(C){return C.contains(x.target)}),S=b.length>0?a(x,b[0]):!i.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),c=m.useCallback(function(v,x,h,g){var b={name:v,delta:x,target:h,should:g,shadowParent:cI(h)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),u=m.useCallback(function(v){n.current=Ti(v),o.current=void 0},[]),f=m.useCallback(function(v){c(v.type,wg(v),v.target,a(v,e.lockRef.current))},[]),p=m.useCallback(function(v){c(v.type,Ti(v),v.target,a(v,e.lockRef.current))},[]);m.useEffect(function(){return So.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,xo),document.addEventListener("touchmove",l,xo),document.addEventListener("touchstart",u,xo),function(){So=So.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,xo),document.removeEventListener("touchmove",l,xo),document.removeEventListener("touchstart",u,xo)}},[]);var y=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(s,{styles:iI(r)}):null,y?m.createElement(QR,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uI=UR(qx,lI);var t0=m.forwardRef(function(e,t){return m.createElement(bl,Rt({},e,{ref:t,sideCar:uI}))});t0.classNames=bl.classNames;var Qu=["Enter"," "],dI=["ArrowDown","PageUp","Home"],n0=["ArrowUp","PageDown","End"],fI=[...dI,...n0],pI={ltr:[...Qu,"ArrowRight"],rtl:[...Qu,"ArrowLeft"]},mI={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qs="Menu",[Is,hI,gI]=dx(Qs),[yo,o0]=go(Qs,[gI,Nx,vl]),wl=Nx(),r0=vl(),[yI,vo]=yo(Qs),[vI,Xs]=yo(Qs),s0=e=>{const{__scopeMenu:t,open:n=!1,children:o,dir:r,onOpenChange:s,modal:i=!0}=e,a=wl(t),[l,c]=m.useState(null),u=m.useRef(!1),f=Oe(s),p=ul(r);return m.useEffect(()=>{const y=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),d.jsx(rR,{...a,children:d.jsx(yI,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:c,children:d.jsx(vI,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:p,modal:i,children:o})})})};s0.displayName=Qs;var bI="MenuAnchor",Qf=m.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e,r=wl(n);return d.jsx(sR,{...r,...o,ref:t})});Qf.displayName=bI;var Xf="MenuPortal",[wI,i0]=yo(Xf,{forceMount:void 0}),a0=e=>{const{__scopeMenu:t,forceMount:n,children:o,container:r}=e,s=vo(Xf,t);return d.jsx(wI,{scope:t,forceMount:n,children:d.jsx(Wt,{present:n||s.open,children:d.jsx(_x,{asChild:!0,container:r,children:o})})})};a0.displayName=Xf;var mt="MenuContent",[xI,Zf]=yo(mt),l0=m.forwardRef((e,t)=>{const n=i0(mt,e.__scopeMenu),{forceMount:o=n.forceMount,...r}=e,s=vo(mt,e.__scopeMenu),i=Xs(mt,e.__scopeMenu);return d.jsx(Is.Provider,{scope:e.__scopeMenu,children:d.jsx(Wt,{present:o||s.open,children:d.jsx(Is.Slot,{scope:e.__scopeMenu,children:i.modal?d.jsx(SI,{...r,ref:t}):d.jsx(CI,{...r,ref:t})})})})}),SI=m.forwardRef((e,t)=>{const n=vo(mt,e.__scopeMenu),o=m.useRef(null),r=ge(t,o);return m.useEffect(()=>{const s=o.current;if(s)return AR(s)},[]),d.jsx(ep,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:z(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),CI=m.forwardRef((e,t)=>{const n=vo(mt,e.__scopeMenu);return d.jsx(ep,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),EI=bR("MenuContent.ScrollLock"),ep=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,onDismiss:y,disableOutsideScroll:w,...v}=e,x=vo(mt,n),h=Xs(mt,n),g=wl(n),b=r0(n),S=hI(n),[C,j]=m.useState(null),E=m.useRef(null),k=ge(t,E,x.onContentChange),N=m.useRef(0),P=m.useRef(""),F=m.useRef(0),U=m.useRef(null),H=m.useRef("right"),M=m.useRef(0),R=w?t0:m.Fragment,L=w?{as:EI,allowPinchZoom:!0}:void 0,B=A=>{var He,xr;const D=P.current+A,I=S().filter(at=>!at.disabled),W=document.activeElement,Q=(He=I.find(at=>at.ref.current===W))==null?void 0:He.textValue,ye=I.map(at=>at.textValue),De=LI(ye,D,Q),Le=(xr=I.find(at=>at.textValue===De))==null?void 0:xr.ref.current;(function at(Sr){P.current=Sr,window.clearTimeout(N.current),Sr!==""&&(N.current=window.setTimeout(()=>at(""),1e3))})(D),Le&&setTimeout(()=>Le.focus())};m.useEffect(()=>()=>window.clearTimeout(N.current),[]),PN();const T=m.useCallback(A=>{var I,W;return H.current===((I=U.current)==null?void 0:I.side)&&UI(A,(W=U.current)==null?void 0:W.area)},[]);return d.jsx(xI,{scope:n,searchRef:P,onItemEnter:m.useCallback(A=>{T(A)&&A.preventDefault()},[T]),onItemLeave:m.useCallback(A=>{var D;T(A)||((D=E.current)==null||D.focus(),j(null))},[T]),onTriggerLeave:m.useCallback(A=>{T(A)&&A.preventDefault()},[T]),pointerGraceTimerRef:F,onPointerGraceIntentChange:m.useCallback(A=>{U.current=A},[]),children:d.jsx(R,{...L,children:d.jsx(hx,{asChild:!0,trapped:r,onMountAutoFocus:z(s,A=>{var D;A.preventDefault(),(D=E.current)==null||D.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:d.jsx(px,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,onDismiss:y,children:d.jsx($x,{asChild:!0,...b,dir:h.dir,orientation:"vertical",loop:o,currentTabStopId:C,onCurrentTabStopIdChange:j,onEntryFocus:z(l,A=>{h.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(iR,{role:"menu","aria-orientation":"vertical","data-state":E0(x.open),"data-radix-menu-content":"",dir:h.dir,...g,...v,ref:k,style:{outline:"none",...v.style},onKeyDown:z(v.onKeyDown,A=>{const I=A.target.closest("[data-radix-menu-content]")===A.currentTarget,W=A.ctrlKey||A.altKey||A.metaKey,Q=A.key.length===1;I&&(A.key==="Tab"&&A.preventDefault(),!W&&Q&&B(A.key));const ye=E.current;if(A.target!==ye||!fI.includes(A.key))return;A.preventDefault();const Le=S().filter(He=>!He.disabled).map(He=>He.ref.current);n0.includes(A.key)&&Le.reverse(),MI(Le)}),onBlur:z(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(N.current),P.current="")}),onPointerMove:z(e.onPointerMove,Ms(A=>{const D=A.target,I=M.current!==A.clientX;if(A.currentTarget.contains(D)&&I){const W=A.clientX>M.current?"right":"left";H.current=W,M.current=A.clientX}}))})})})})})})});l0.displayName=mt;var jI="MenuGroup",tp=m.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return d.jsx(se.div,{role:"group",...o,ref:t})});tp.displayName=jI;var kI="MenuLabel",c0=m.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return d.jsx(se.div,{...o,ref:t})});c0.displayName=kI;var La="MenuItem",Sg="menu.itemSelect",xl=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:o,...r}=e,s=m.useRef(null),i=Xs(La,e.__scopeMenu),a=Zf(La,e.__scopeMenu),l=ge(t,s),c=m.useRef(!1),u=()=>{const f=s.current;if(!n&&f){const p=new CustomEvent(Sg,{bubbles:!0,cancelable:!0});f.addEventListener(Sg,y=>o==null?void 0:o(y),{once:!0}),_w(f,p),p.defaultPrevented?c.current=!1:i.onClose()}};return d.jsx(u0,{...r,ref:l,disabled:n,onClick:z(e.onClick,u),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),c.current=!0},onPointerUp:z(e.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:z(e.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||Qu.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});xl.displayName=La;var u0=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:o=!1,textValue:r,...s}=e,i=Zf(La,n),a=r0(n),l=m.useRef(null),c=ge(t,l),[u,f]=m.useState(!1),[p,y]=m.useState("");return m.useEffect(()=>{const w=l.current;w&&y((w.textContent??"").trim())},[s.children]),d.jsx(Is.ItemSlot,{scope:n,disabled:o,textValue:r??p,children:d.jsx(Jx,{asChild:!0,...a,focusable:!o,children:d.jsx(se.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...s,ref:c,onPointerMove:z(e.onPointerMove,Ms(w=>{o?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:z(e.onPointerLeave,Ms(w=>i.onItemLeave(w))),onFocus:z(e.onFocus,()=>f(!0)),onBlur:z(e.onBlur,()=>f(!1))})})})}),TI="MenuCheckboxItem",d0=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:o,...r}=e;return d.jsx(g0,{scope:e.__scopeMenu,checked:n,children:d.jsx(xl,{role:"menuitemcheckbox","aria-checked":Fa(n)?"mixed":n,...r,ref:t,"data-state":op(n),onSelect:z(r.onSelect,()=>o==null?void 0:o(Fa(n)?!0:!n),{checkForDefaultPrevented:!1})})})});d0.displayName=TI;var f0="MenuRadioGroup",[AI,PI]=yo(f0,{value:void 0,onValueChange:()=>{}}),p0=m.forwardRef((e,t)=>{const{value:n,onValueChange:o,...r}=e,s=Oe(o);return d.jsx(AI,{scope:e.__scopeMenu,value:n,onValueChange:s,children:d.jsx(tp,{...r,ref:t})})});p0.displayName=f0;var m0="MenuRadioItem",h0=m.forwardRef((e,t)=>{const{value:n,...o}=e,r=PI(m0,e.__scopeMenu),s=n===r.value;return d.jsx(g0,{scope:e.__scopeMenu,checked:s,children:d.jsx(xl,{role:"menuitemradio","aria-checked":s,...o,ref:t,"data-state":op(s),onSelect:z(o.onSelect,()=>{var i;return(i=r.onValueChange)==null?void 0:i.call(r,n)},{checkForDefaultPrevented:!1})})})});h0.displayName=m0;var np="MenuItemIndicator",[g0,NI]=yo(np,{checked:!1}),y0=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:o,...r}=e,s=NI(np,n);return d.jsx(Wt,{present:o||Fa(s.checked)||s.checked===!0,children:d.jsx(se.span,{...r,ref:t,"data-state":op(s.checked)})})});y0.displayName=np;var OI="MenuSeparator",v0=m.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return d.jsx(se.div,{role:"separator","aria-orientation":"horizontal",...o,ref:t})});v0.displayName=OI;var RI="MenuArrow",b0=m.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e,r=wl(n);return d.jsx(aR,{...r,...o,ref:t})});b0.displayName=RI;var II="MenuSub",[CD,w0]=yo(II),Vr="MenuSubTrigger",x0=m.forwardRef((e,t)=>{const n=vo(Vr,e.__scopeMenu),o=Xs(Vr,e.__scopeMenu),r=w0(Vr,e.__scopeMenu),s=Zf(Vr,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},u=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),d.jsx(Qf,{asChild:!0,...c,children:d.jsx(u0,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":E0(n.open),...e,ref:ho(t,r.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:z(e.onPointerMove,Ms(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:z(e.onPointerLeave,Ms(f=>{var y,w;u();const p=(y=n.content)==null?void 0:y.getBoundingClientRect();if(p){const v=(w=n.content)==null?void 0:w.dataset.side,x=v==="right",h=x?-5:5,g=p[x?"left":"right"],b=p[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+h,y:f.clientY},{x:g,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:g,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:z(e.onKeyDown,f=>{var y;const p=s.searchRef.current!=="";e.disabled||p&&f.key===" "||pI[o.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});x0.displayName=Vr;var S0="MenuSubContent",C0=m.forwardRef((e,t)=>{const n=i0(mt,e.__scopeMenu),{forceMount:o=n.forceMount,...r}=e,s=vo(mt,e.__scopeMenu),i=Xs(mt,e.__scopeMenu),a=w0(S0,e.__scopeMenu),l=m.useRef(null),c=ge(t,l);return d.jsx(Is.Provider,{scope:e.__scopeMenu,children:d.jsx(Wt,{present:o||s.open,children:d.jsx(Is.Slot,{scope:e.__scopeMenu,children:d.jsx(ep,{id:a.contentId,"aria-labelledby":a.triggerId,...r,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;i.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:z(e.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:z(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:z(e.onKeyDown,u=>{var y;const f=u.currentTarget.contains(u.target),p=mI[i.dir].includes(u.key);f&&p&&(s.onOpenChange(!1),(y=a.trigger)==null||y.focus(),u.preventDefault())})})})})})});C0.displayName=S0;function E0(e){return e?"open":"closed"}function Fa(e){return e==="indeterminate"}function op(e){return Fa(e)?"indeterminate":e?"checked":"unchecked"}function MI(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function DI(e,t){return e.map((n,o)=>e[(t+o)%e.length])}function LI(e,t,n){const r=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=DI(e,Math.max(s,0));r.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}function FI(e,t){const{x:n,y:o}=e;let r=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s],l=t[i],c=a.x,u=a.y,f=l.x,p=l.y;u>o!=p>o&&n<(f-c)*(o-u)/(p-u)+c&&(r=!r)}return r}function UI(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return FI(n,t)}function Ms(e){return t=>t.pointerType==="mouse"?e(t):void 0}var _I=s0,BI=Qf,WI=a0,VI=l0,HI=tp,zI=c0,$I=xl,JI=d0,GI=p0,YI=h0,KI=y0,qI=v0,QI=b0,XI=x0,ZI=C0,Sl="DropdownMenu",[eM]=go(Sl,[o0]),Ve=o0(),[tM,j0]=eM(Sl),k0=e=>{const{__scopeDropdownMenu:t,children:n,dir:o,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=Ve(t),c=m.useRef(null),[u,f]=Vf({prop:r,defaultProp:s??!1,onChange:i,caller:Sl});return d.jsx(tM,{scope:t,triggerId:Oa(),triggerRef:c,contentId:Oa(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:a,children:d.jsx(_I,{...l,open:u,onOpenChange:f,dir:o,modal:a,children:n})})};k0.displayName=Sl;var T0="DropdownMenuTrigger",A0=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:o=!1,...r}=e,s=j0(T0,n),i=Ve(n);return d.jsx(BI,{asChild:!0,...i,children:d.jsx(se.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...r,ref:ho(t,s.triggerRef),onPointerDown:z(e.onPointerDown,a=>{!o&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:z(e.onKeyDown,a=>{o||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});A0.displayName=T0;var nM="DropdownMenuPortal",P0=e=>{const{__scopeDropdownMenu:t,...n}=e,o=Ve(t);return d.jsx(WI,{...o,...n})};P0.displayName=nM;var N0="DropdownMenuContent",O0=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=j0(N0,n),s=Ve(n),i=m.useRef(!1);return d.jsx(VI,{id:r.contentId,"aria-labelledby":r.triggerId,...s,...o,ref:t,onCloseAutoFocus:z(e.onCloseAutoFocus,a=>{var l;i.current||(l=r.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:z(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!r.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});O0.displayName=N0;var oM="DropdownMenuGroup",rM=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=Ve(n);return d.jsx(HI,{...r,...o,ref:t})});rM.displayName=oM;var sM="DropdownMenuLabel",R0=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=Ve(n);return d.jsx(zI,{...r,...o,ref:t})});R0.displayName=sM;var iM="DropdownMenuItem",I0=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=Ve(n);return d.jsx($I,{...r,...o,ref:t})});I0.displayName=iM;var aM="DropdownMenuCheckboxItem",M0=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=Ve(n);return d.jsx(JI,{...r,...o,ref:t})});M0.displayName=aM;var lM="DropdownMenuRadioGroup",cM=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=Ve(n);return d.jsx(GI,{...r,...o,ref:t})});cM.displayName=lM;var uM="DropdownMenuRadioItem",D0=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=Ve(n);return d.jsx(YI,{...r,...o,ref:t})});D0.displayName=uM;var dM="DropdownMenuItemIndicator",L0=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=Ve(n);return d.jsx(KI,{...r,...o,ref:t})});L0.displayName=dM;var fM="DropdownMenuSeparator",F0=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=Ve(n);return d.jsx(qI,{...r,...o,ref:t})});F0.displayName=fM;var pM="DropdownMenuArrow",mM=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=Ve(n);return d.jsx(QI,{...r,...o,ref:t})});mM.displayName=pM;var hM="DropdownMenuSubTrigger",U0=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=Ve(n);return d.jsx(XI,{...r,...o,ref:t})});U0.displayName=hM;var gM="DropdownMenuSubContent",_0=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,r=Ve(n);return d.jsx(ZI,{...r,...o,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_0.displayName=gM;var yM=k0,vM=A0,bM=P0,B0=O0,W0=R0,V0=I0,H0=M0,z0=D0,$0=L0,J0=F0,G0=U0,Y0=_0;const K0=yM,q0=vM,wM=m.forwardRef(({className:e,inset:t,children:n,...o},r)=>d.jsxs(G0,{ref:r,className:q("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...o,children:[n,d.jsx(Pa,{className:"ml-auto h-4 w-4"})]}));wM.displayName=G0.displayName;const xM=m.forwardRef(({className:e,...t},n)=>d.jsx(Y0,{ref:n,className:q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));xM.displayName=Y0.displayName;const rp=m.forwardRef(({className:e,sideOffset:t=4,...n},o)=>d.jsx(bM,{children:d.jsx(B0,{ref:o,sideOffset:t,className:q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));rp.displayName=B0.displayName;const rs=m.forwardRef(({className:e,inset:t,...n},o)=>d.jsx(V0,{ref:o,className:q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));rs.displayName=V0.displayName;const SM=m.forwardRef(({className:e,children:t,checked:n,...o},r)=>d.jsxs(H0,{ref:r,className:q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...o,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx($0,{children:d.jsx(Uf,{className:"h-4 w-4"})})}),t]}));SM.displayName=H0.displayName;const CM=m.forwardRef(({className:e,children:t,...n},o)=>d.jsxs(z0,{ref:o,className:q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx($0,{children:d.jsx(XP,{className:"h-2 w-2 fill-current"})})}),t]}));CM.displayName=z0.displayName;const EM=m.forwardRef(({className:e,inset:t,...n},o)=>d.jsx(W0,{ref:o,className:q("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));EM.displayName=W0.displayName;const jM=m.forwardRef(({className:e,...t},n)=>d.jsx(J0,{ref:n,className:q("-mx-1 my-1 h-px bg-muted",e),...t}));jM.displayName=J0.displayName;const kM={theme:"system",setTheme:()=>null},Q0=m.createContext(kM);function TM({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...o}){const[r,s]=m.useState(()=>localStorage.getItem(n)||t);m.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),r==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(r)},[r]);const i={theme:r,setTheme:a=>{localStorage.setItem(n,a),s(a)}};return d.jsx(Q0.Provider,{...o,value:i,children:e})}const X0=()=>{const e=m.useContext(Q0);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},AM={"":"Home",playground:"Playground",javascript:"JavaScript","html-css":"HTML & CSS",react:"React",interview:"Interview Prep",basics:"Basics",advanced:"Advanced",async:"Async Programming",dom:"DOM Manipulation"};function PM(){const t=Vn().pathname.split("/").filter(n=>n);return t.length===0?null:d.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Zr,{to:"/",className:"flex items-center hover:text-foreground transition-colors",children:d.jsx(lx,{className:"h-4 w-4"})}),t.map((n,o)=>{const r=`/${t.slice(0,o+1).join("/")}`,s=o===t.length-1,i=AM[n]||n.charAt(0).toUpperCase()+n.slice(1);return d.jsxs("div",{className:"flex items-center",children:[d.jsx(Pa,{className:"h-4 w-4 mx-2"}),s?d.jsx("span",{className:"font-medium text-foreground",children:i}):d.jsx(Zr,{to:r,className:q("hover:text-foreground transition-colors",s&&"text-foreground font-medium"),children:i})]},n)})]})}function NM({onMenuClick:e}){const{setTheme:t}=X0();return d.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-4 md:px-6",children:[d.jsxs(J,{variant:"ghost",size:"icon",onClick:e,className:"shrink-0",children:[d.jsx(rN,{className:"h-5 w-5"}),d.jsx("span",{className:"sr-only",children:"Toggle menu"})]}),d.jsx(PM,{}),d.jsx("div",{className:"flex-1"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(J,{variant:"outline",size:"sm",className:"hidden md:flex gap-2",children:[d.jsx(aN,{className:"h-4 w-4"}),d.jsx("span",{className:"text-muted-foreground",children:"Search..."}),d.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground",children:[d.jsx("span",{className:"text-xs",children:""}),"K"]})]}),d.jsx(J,{variant:"ghost",size:"icon",asChild:!0,children:d.jsxs("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",children:[d.jsx(nN,{className:"h-5 w-5"}),d.jsx("span",{className:"sr-only",children:"GitHub"})]})}),d.jsxs(K0,{children:[d.jsx(q0,{asChild:!0,children:d.jsxs(J,{variant:"ghost",size:"icon",children:[d.jsx(Qh,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),d.jsx(qh,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),d.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),d.jsxs(rp,{align:"end",children:[d.jsxs(rs,{onClick:()=>t("light"),children:[d.jsx(Qh,{className:"mr-2 h-4 w-4"}),"Light"]}),d.jsxs(rs,{onClick:()=>t("dark"),children:[d.jsx(qh,{className:"mr-2 h-4 w-4"}),"Dark"]}),d.jsxs(rs,{onClick:()=>t("system"),children:[d.jsx(sN,{className:"mr-2 h-4 w-4"}),"System"]})]})]})]})]})}function Co({children:e}){return d.jsx(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,ease:"easeInOut"},children:e})}function OM(e=768){const[t,n]=m.useState(typeof window<"u"?window.innerWidth<e:!1);return m.useEffect(()=>{const o=()=>{n(window.innerWidth<e)};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[e]),t}const Bt=m.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:q("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Bt.displayName="Card";const vr=m.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:q("flex flex-col space-y-1.5 p-6",e),...t}));vr.displayName="CardHeader";const br=m.forwardRef(({className:e,...t},n)=>d.jsx("h3",{ref:n,className:q("text-2xl font-semibold leading-none tracking-tight",e),...t}));br.displayName="CardTitle";const wr=m.forwardRef(({className:e,...t},n)=>d.jsx("p",{ref:n,className:q("text-sm text-muted-foreground",e),...t}));wr.displayName="CardDescription";const an=m.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:q("p-6 pt-0",e),...t}));an.displayName="CardContent";const RM=m.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:q("flex items-center p-6 pt-0",e),...t}));RM.displayName="CardFooter";const IM=nx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function Ke({className:e,variant:t,...n}){return d.jsx("div",{className:q(IM({variant:t}),e),...n})}const MM=[{icon:Wf,title:"Interactive Playground",description:"Write and run JavaScript, TypeScript, HTML & CSS directly in your browser.",href:"/playground",color:"bg-green-500/10 text-green-500"},{icon:ax,title:"JavaScript Mastery",description:"From basics to advanced concepts, master JavaScript step by step.",href:"/javascript",color:"bg-yellow-500/10 text-yellow-500"},{icon:Bf,title:"HTML & CSS",description:"Build beautiful, responsive layouts with modern CSS techniques.",href:"/html-css",color:"bg-orange-500/10 text-orange-500"},{icon:Ff,title:"React Development",description:"Learn React from fundamentals to advanced patterns and hooks.",href:"/react",color:"bg-cyan-500/10 text-cyan-500"},{icon:_f,title:"Interview Prep",description:"Prepare for frontend interviews with curated questions and challenges.",href:"/interview",color:"bg-purple-500/10 text-purple-500"}];function DM(){const e=Me(),t=n=>{e(n)};return d.jsxs("div",{className:"min-h-screen",children:[d.jsx("section",{className:"relative overflow-hidden border-b bg-gradient-to-b from-primary/5 via-background to-background",children:d.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",children:d.jsxs(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center max-w-3xl mx-auto",children:[d.jsxs(Ke,{variant:"secondary",className:"mb-4",children:[d.jsx(ux,{className:"h-3 w-3 mr-1"}),"Learn Frontend Development"]}),d.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-6",children:["Master"," ",d.jsx("span",{className:"text-primary",children:"Frontend Development"})," ","the Right Way"]}),d.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Interactive learning platform with hands-on coding exercises, comprehensive study materials, and interview preparation resources."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsxs(J,{size:"lg",onClick:()=>t("/playground"),children:[d.jsx(Wf,{className:"h-5 w-5 mr-2"}),"Try Playground"]}),d.jsxs(J,{size:"lg",variant:"outline",onClick:()=>t("/javascript"),children:[d.jsx(Ns,{className:"h-5 w-5 mr-2"}),"Start Learning"]})]})]})})}),d.jsxs("section",{className:"container mx-auto px-4 py-16",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Everything You Need to Succeed"}),d.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Comprehensive learning resources designed to take you from beginner to job-ready developer."})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:MM.map((n,o)=>d.jsx(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:o*.1},children:d.jsx(Bt,{className:"h-full hover:shadow-lg transition-all hover:border-primary/50 group cursor-pointer",onClick:()=>t(n.href),children:d.jsxs(vr,{children:[d.jsx("div",{className:`w-12 h-12 rounded-lg ${n.color} flex items-center justify-center mb-4`,children:d.jsx(n.icon,{className:"h-6 w-6"})}),d.jsxs(br,{className:"flex items-center justify-between",children:[n.title,d.jsx(Gs,{className:"h-5 w-5 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all"})]}),d.jsx(wr,{children:n.description})]})})},n.title))})]}),d.jsx("section",{className:"border-t bg-muted/30",children:d.jsx("div",{className:"container mx-auto px-4 py-16",children:d.jsx(Bt,{className:"bg-gradient-to-r from-primary/10 to-primary/5 border-primary/20",children:d.jsxs(an,{className:"p-8 md:p-12 text-center",children:[d.jsx(cN,{className:"h-12 w-12 text-primary mx-auto mb-4"}),d.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Ready to Start Coding?"}),d.jsx("p",{className:"text-muted-foreground mb-6 max-w-xl mx-auto",children:"Jump into our interactive playground and start experimenting with JavaScript right away. No setup required!"}),d.jsxs(J,{size:"lg",onClick:()=>t("/playground"),children:[d.jsx(Na,{className:"h-5 w-5 mr-2"}),"Open Playground"]})]})})})})]})}function Cg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function LM(e){if(Array.isArray(e))return e}function FM(e,t,n){return(t=zM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UM(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,r,s,i,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(o=s.call(n)).done)&&(a.push(o.value),a.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return a}}function _M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function jg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eg(Object(n),!0).forEach(function(o){FM(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eg(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function BM(e,t){if(e==null)return{};var n,o,r=WM(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WM(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function VM(e,t){return LM(e)||UM(e,t)||$M(e,t)||_M()}function HM(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zM(e){var t=HM(e,"string");return typeof t=="symbol"?t:t+""}function $M(e,t){if(e){if(typeof e=="string")return Cg(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cg(e,t):void 0}}function JM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Tg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kg(Object(n),!0).forEach(function(o){JM(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kg(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function GM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){return t.reduceRight(function(r,s){return s(r)},o)}}function Hr(e){return function t(){for(var n=this,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return r.length>=e.length?e.apply(this,r):function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t.apply(n,[].concat(r,a))}}}function Ua(e){return{}.toString.call(e).includes("Object")}function YM(e){return!Object.keys(e).length}function Ds(e){return typeof e=="function"}function KM(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qM(e,t){return Ua(t)||On("changeType"),Object.keys(t).some(function(n){return!KM(e,n)})&&On("changeField"),t}function QM(e){Ds(e)||On("selectorType")}function XM(e){Ds(e)||Ua(e)||On("handlerType"),Ua(e)&&Object.values(e).some(function(t){return!Ds(t)})&&On("handlersType")}function ZM(e){e||On("initialIsRequired"),Ua(e)||On("initialType"),YM(e)&&On("initialContent")}function e3(e,t){throw new Error(e[t]||e.default)}var t3={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},On=Hr(e3)(t3),Ai={changes:qM,selector:QM,handler:XM,initial:ZM};function n3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ai.initial(e),Ai.handler(t);var n={current:e},o=Hr(s3)(n,t),r=Hr(r3)(n),s=Hr(Ai.changes)(e),i=Hr(o3)(n);function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return Ai.selector(c),c(n.current)}function l(c){GM(o,r,s,i)(c)}return[a,l]}function o3(e,t){return Ds(t)?t(e.current):t}function r3(e,t){return e.current=Tg(Tg({},e.current),t),t}function s3(e,t,n){return Ds(t)?t(e.current):Object.keys(n).forEach(function(o){var r;return(r=t[o])===null||r===void 0?void 0:r.call(t,e.current[o])}),n}var i3={create:n3},a3={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function l3(e){return function t(){for(var n=this,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return r.length>=e.length?e.apply(this,r):function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t.apply(n,[].concat(r,a))}}}function c3(e){return{}.toString.call(e).includes("Object")}function u3(e){return e||Ag("configIsRequired"),c3(e)||Ag("configType"),e.urls?(d3(),{paths:{vs:e.urls.monacoBase}}):e}function d3(){console.warn(Z0.deprecation)}function f3(e,t){throw new Error(e[t]||e.default)}var Z0={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Ag=l3(f3)(Z0),p3={config:u3},m3=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(r){return n.reduceRight(function(s,i){return i(s)},r)}};function e1(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],e1(e[n],t[n]))}),jg(jg({},e),t)}var h3={type:"cancelation",msg:"operation is manually canceled"};function kc(e){var t=!1,n=new Promise(function(o,r){e.then(function(s){return t?r(h3):o(s)}),e.catch(r)});return n.cancel=function(){return t=!0},n}var g3=["monaco"],y3=i3.create({config:a3,isInitialized:!1,resolve:null,reject:null,monaco:null}),t1=VM(y3,2),Zs=t1[0],Cl=t1[1];function v3(e){var t=p3.config(e),n=t.monaco,o=BM(t,g3);Cl(function(r){return{config:e1(r.config,o),monaco:n}})}function b3(){var e=Zs(function(t){var n=t.monaco,o=t.isInitialized,r=t.resolve;return{monaco:n,isInitialized:o,resolve:r}});if(!e.isInitialized){if(Cl({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),kc(Tc);if(window.monaco&&window.monaco.editor)return n1(window.monaco),e.resolve(window.monaco),kc(Tc);m3(w3,S3)(C3)}return kc(Tc)}function w3(e){return document.body.appendChild(e)}function x3(e){var t=document.createElement("script");return e&&(t.src=e),t}function S3(e){var t=Zs(function(o){var r=o.config,s=o.reject;return{config:r,reject:s}}),n=x3("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function C3(){var e=Zs(function(n){var o=n.config,r=n.resolve,s=n.reject;return{config:o,resolve:r,reject:s}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var o=n.m||n;n1(o),e.resolve(o)},function(n){e.reject(n)})}function n1(e){Zs().monaco||Cl({monaco:e})}function E3(){return Zs(function(e){var t=e.monaco;return t})}var Tc=new Promise(function(e,t){return Cl({resolve:e,reject:t})}),o1={config:v3,init:b3,__getMonacoInstance:E3},j3={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Ac=j3,k3={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},T3=k3;function A3({children:e}){return Ue.createElement("div",{style:T3.container},e)}var P3=A3,N3=P3;function O3({width:e,height:t,isEditorReady:n,loading:o,_ref:r,className:s,wrapperProps:i}){return Ue.createElement("section",{style:{...Ac.wrapper,width:e,height:t},...i},!n&&Ue.createElement(N3,null,o),Ue.createElement("div",{ref:r,style:{...Ac.fullWidth,...!n&&Ac.hide},className:s}))}var R3=O3,r1=m.memo(R3);function I3(e){m.useEffect(e,[])}var s1=I3;function M3(e,t,n=!0){let o=m.useRef(!0);m.useEffect(o.current||!n?()=>{o.current=!1}:e,t)}var Qe=M3;function ss(){}function Wo(e,t,n,o){return D3(e,o)||L3(e,t,n,o)}function D3(e,t){return e.editor.getModel(i1(e,t))}function L3(e,t,n,o){return e.editor.createModel(t,n,o?i1(e,o):void 0)}function i1(e,t){return e.Uri.parse(t)}function F3({original:e,modified:t,language:n,originalLanguage:o,modifiedLanguage:r,originalModelPath:s,modifiedModelPath:i,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:c="light",loading:u="Loading...",options:f={},height:p="100%",width:y="100%",className:w,wrapperProps:v={},beforeMount:x=ss,onMount:h=ss}){let[g,b]=m.useState(!1),[S,C]=m.useState(!0),j=m.useRef(null),E=m.useRef(null),k=m.useRef(null),N=m.useRef(h),P=m.useRef(x),F=m.useRef(!1);s1(()=>{let R=o1.init();return R.then(L=>(E.current=L)&&C(!1)).catch(L=>(L==null?void 0:L.type)!=="cancelation"&&console.error("Monaco initialization: error:",L)),()=>j.current?M():R.cancel()}),Qe(()=>{if(j.current&&E.current){let R=j.current.getOriginalEditor(),L=Wo(E.current,e||"",o||n||"text",s||"");L!==R.getModel()&&R.setModel(L)}},[s],g),Qe(()=>{if(j.current&&E.current){let R=j.current.getModifiedEditor(),L=Wo(E.current,t||"",r||n||"text",i||"");L!==R.getModel()&&R.setModel(L)}},[i],g),Qe(()=>{let R=j.current.getModifiedEditor();R.getOption(E.current.editor.EditorOption.readOnly)?R.setValue(t||""):t!==R.getValue()&&(R.executeEdits("",[{range:R.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),R.pushUndoStop())},[t],g),Qe(()=>{var R,L;(L=(R=j.current)==null?void 0:R.getModel())==null||L.original.setValue(e||"")},[e],g),Qe(()=>{let{original:R,modified:L}=j.current.getModel();E.current.editor.setModelLanguage(R,o||n||"text"),E.current.editor.setModelLanguage(L,r||n||"text")},[n,o,r],g),Qe(()=>{var R;(R=E.current)==null||R.editor.setTheme(c)},[c],g),Qe(()=>{var R;(R=j.current)==null||R.updateOptions(f)},[f],g);let U=m.useCallback(()=>{var B;if(!E.current)return;P.current(E.current);let R=Wo(E.current,e||"",o||n||"text",s||""),L=Wo(E.current,t||"",r||n||"text",i||"");(B=j.current)==null||B.setModel({original:R,modified:L})},[n,t,r,e,o,s,i]),H=m.useCallback(()=>{var R;!F.current&&k.current&&(j.current=E.current.editor.createDiffEditor(k.current,{automaticLayout:!0,...f}),U(),(R=E.current)==null||R.editor.setTheme(c),b(!0),F.current=!0)},[f,c,U]);m.useEffect(()=>{g&&N.current(j.current,E.current)},[g]),m.useEffect(()=>{!S&&!g&&H()},[S,g,H]);function M(){var L,B,T,A;let R=(L=j.current)==null?void 0:L.getModel();a||((B=R==null?void 0:R.original)==null||B.dispose()),l||((T=R==null?void 0:R.modified)==null||T.dispose()),(A=j.current)==null||A.dispose()}return Ue.createElement(r1,{width:y,height:p,isEditorReady:g,loading:u,_ref:k,className:w,wrapperProps:v})}var U3=F3;m.memo(U3);function _3(e){let t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}var B3=_3,Pi=new Map;function W3({defaultValue:e,defaultLanguage:t,defaultPath:n,value:o,language:r,path:s,theme:i="light",line:a,loading:l="Loading...",options:c={},overrideServices:u={},saveViewState:f=!0,keepCurrentModel:p=!1,width:y="100%",height:w="100%",className:v,wrapperProps:x={},beforeMount:h=ss,onMount:g=ss,onChange:b,onValidate:S=ss}){let[C,j]=m.useState(!1),[E,k]=m.useState(!0),N=m.useRef(null),P=m.useRef(null),F=m.useRef(null),U=m.useRef(g),H=m.useRef(h),M=m.useRef(),R=m.useRef(o),L=B3(s),B=m.useRef(!1),T=m.useRef(!1);s1(()=>{let I=o1.init();return I.then(W=>(N.current=W)&&k(!1)).catch(W=>(W==null?void 0:W.type)!=="cancelation"&&console.error("Monaco initialization: error:",W)),()=>P.current?D():I.cancel()}),Qe(()=>{var W,Q,ye,De;let I=Wo(N.current,e||o||"",t||r||"",s||n||"");I!==((W=P.current)==null?void 0:W.getModel())&&(f&&Pi.set(L,(Q=P.current)==null?void 0:Q.saveViewState()),(ye=P.current)==null||ye.setModel(I),f&&((De=P.current)==null||De.restoreViewState(Pi.get(s))))},[s],C),Qe(()=>{var I;(I=P.current)==null||I.updateOptions(c)},[c],C),Qe(()=>{!P.current||o===void 0||(P.current.getOption(N.current.editor.EditorOption.readOnly)?P.current.setValue(o):o!==P.current.getValue()&&(T.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),P.current.pushUndoStop(),T.current=!1))},[o],C),Qe(()=>{var W,Q;let I=(W=P.current)==null?void 0:W.getModel();I&&r&&((Q=N.current)==null||Q.editor.setModelLanguage(I,r))},[r],C),Qe(()=>{var I;a!==void 0&&((I=P.current)==null||I.revealLine(a))},[a],C),Qe(()=>{var I;(I=N.current)==null||I.editor.setTheme(i)},[i],C);let A=m.useCallback(()=>{var I;if(!(!F.current||!N.current)&&!B.current){H.current(N.current);let W=s||n,Q=Wo(N.current,o||e||"",t||r||"",W||"");P.current=(I=N.current)==null?void 0:I.editor.create(F.current,{model:Q,automaticLayout:!0,...c},u),f&&P.current.restoreViewState(Pi.get(W)),N.current.editor.setTheme(i),a!==void 0&&P.current.revealLine(a),j(!0),B.current=!0}},[e,t,n,o,r,s,c,u,f,i,a]);m.useEffect(()=>{C&&U.current(P.current,N.current)},[C]),m.useEffect(()=>{!E&&!C&&A()},[E,C,A]),R.current=o,m.useEffect(()=>{var I,W;C&&b&&((I=M.current)==null||I.dispose(),M.current=(W=P.current)==null?void 0:W.onDidChangeModelContent(Q=>{T.current||b(P.current.getValue(),Q)}))},[C,b]),m.useEffect(()=>{if(C){let I=N.current.editor.onDidChangeMarkers(W=>{var ye;let Q=(ye=P.current.getModel())==null?void 0:ye.uri;if(Q&&W.find(De=>De.path===Q.path)){let De=N.current.editor.getModelMarkers({resource:Q});S==null||S(De)}});return()=>{I==null||I.dispose()}}return()=>{}},[C,S]);function D(){var I,W;(I=M.current)==null||I.dispose(),p?f&&Pi.set(s,P.current.saveViewState()):(W=P.current.getModel())==null||W.dispose(),P.current.dispose()}return Ue.createElement(r1,{width:y,height:w,isEditorReady:C,loading:l,_ref:F,className:v,wrapperProps:x})}var V3=W3,H3=m.memo(V3),z3=H3;function Pg({value:e,onChange:t,language:n="javascript",readOnly:o=!1,height:r="100%"}){const{theme:s}=X0(),i=m.useRef(null),[a,l]=m.useState("vs-dark");m.useEffect(()=>{l(s==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"vs-dark":"light":s==="dark"?"vs-dark":"light")},[s]);const c=f=>{i.current=f,o||f.focus()},u=f=>({javascript:"javascript",typescript:"typescript",html:"html",css:"css",python:"python",cpp:"cpp"})[f]||"javascript";return d.jsx("div",{className:"h-full w-full overflow-hidden rounded-lg border bg-card",children:d.jsx(z3,{height:r,language:u(n),value:e,theme:a,onChange:f=>t(f||""),onMount:c,options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",roundedSelection:!0,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on",padding:{top:16,bottom:16},fontFamily:"JetBrains Mono, Menlo, Monaco, Consolas, monospace",fontLigatures:!0,readOnly:o,domReadOnly:o}})})}const $3={log:null,error:YP,warn:KP,info:cx},J3={log:"text-foreground",error:"text-red-500 bg-red-500/10",warn:"text-yellow-500 bg-yellow-500/10",info:"text-blue-500 bg-blue-500/10"};function Ng({logs:e}){return d.jsxs("div",{className:"h-full flex flex-col rounded-lg border bg-card",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-muted/50",children:[d.jsx("span",{className:"text-sm font-medium",children:"Console"}),d.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.length," ",e.length===1?"message":"messages"]})]}),d.jsx(pl,{className:"flex-1",children:d.jsx("div",{className:"p-2 space-y-1 font-mono text-sm",children:e.length===0?d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground p-2",children:[d.jsx(cx,{className:"h-4 w-4"}),d.jsx("span",{children:"Console output will appear here..."})]}):e.map(t=>{const n=$3[t.type];return d.jsxs("div",{className:q("flex items-start gap-2 px-2 py-1.5 rounded",J3[t.type]),children:[n&&d.jsx(n,{className:"h-4 w-4 shrink-0 mt-0.5"}),d.jsx("pre",{className:"whitespace-pre-wrap break-all flex-1",children:t.content}),d.jsx("span",{className:"text-xs text-muted-foreground shrink-0",children:t.timestamp.toLocaleTimeString()})]},t.id)})})})]})}var El="Tabs",[G3]=go(El,[vl]),a1=vl(),[Y3,sp]=G3(El),l1=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,onValueChange:r,defaultValue:s,orientation:i="horizontal",dir:a,activationMode:l="automatic",...c}=e,u=ul(a),[f,p]=Vf({prop:o,onChange:r,defaultProp:s??"",caller:El});return d.jsx(Y3,{scope:n,baseId:Oa(),value:f,onValueChange:p,orientation:i,dir:u,activationMode:l,children:d.jsx(se.div,{dir:u,"data-orientation":i,...c,ref:t})})});l1.displayName=El;var c1="TabsList",u1=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:o=!0,...r}=e,s=sp(c1,n),i=a1(n);return d.jsx($x,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:o,children:d.jsx(se.div,{role:"tablist","aria-orientation":s.orientation,...r,ref:t})})});u1.displayName=c1;var d1="TabsTrigger",f1=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,disabled:r=!1,...s}=e,i=sp(d1,n),a=a1(n),l=h1(i.baseId,o),c=g1(i.baseId,o),u=o===i.value;return d.jsx(Jx,{asChild:!0,...a,focusable:!r,active:u,children:d.jsx(se.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:l,...s,ref:t,onMouseDown:z(e.onMouseDown,f=>{!r&&f.button===0&&f.ctrlKey===!1?i.onValueChange(o):f.preventDefault()}),onKeyDown:z(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(o)}),onFocus:z(e.onFocus,()=>{const f=i.activationMode!=="manual";!u&&!r&&f&&i.onValueChange(o)})})})});f1.displayName=d1;var p1="TabsContent",m1=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,forceMount:r,children:s,...i}=e,a=sp(p1,n),l=h1(a.baseId,o),c=g1(a.baseId,o),u=o===a.value,f=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(Wt,{present:r||u,children:({present:p})=>d.jsx(se.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&s})})});m1.displayName=p1;function h1(e,t){return`${e}-trigger-${t}`}function g1(e,t){return`${e}-content-${t}`}var K3=l1,y1=u1,v1=f1,b1=m1;const q3=K3,w1=m.forwardRef(({className:e,...t},n)=>d.jsx(y1,{ref:n,className:q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));w1.displayName=y1.displayName;const Xu=m.forwardRef(({className:e,...t},n)=>d.jsx(v1,{ref:n,className:q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Xu.displayName=v1.displayName;const Zu=m.forwardRef(({className:e,...t},n)=>d.jsx(b1,{ref:n,className:q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Zu.displayName=b1.displayName;function Q3(){const[e,t]=m.useState(!1),[n,o]=m.useState(!1),[r,s]=m.useState(null),[i,a]=m.useState(null);m.useEffect(()=>{const u=window;u.pyodideInstance&&(a(u.pyodideInstance),o(!0))},[]);const l=m.useCallback(async()=>{const u=window;if(i||u.pyodideInstance)return u.pyodideInstance||i;if(!u.loadPyodide)throw new Error("Pyodide script not loaded. Please wait and try again.");t(!0),s(null);try{const f=await u.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.24.1/full/"});return u.pyodideInstance=f,a(f),o(!0),f}catch(f){const p=f instanceof Error?f:new Error("Failed to load Pyodide");throw s(p),p}finally{t(!1)}},[i]);return{runPython:m.useCallback(async u=>{try{const f=await l();if(!f)return{output:"",error:"Pyodide not loaded"};f.runPython(`
import sys
from io import StringIO
sys.stdout = StringIO()
sys.stderr = StringIO()
      `);try{await f.runPythonAsync(u);const p=f.runPython("sys.stdout.getvalue()"),y=f.runPython("sys.stderr.getvalue()");return f.runPython(`
sys.stdout = sys.__stdout__
sys.stderr = sys.__stderr__
        `),{output:p||"",error:y||null}}catch(p){return f.runPython(`
sys.stdout = sys.__stdout__
sys.stderr = sys.__stderr__
        `),{output:"",error:p instanceof Error?p.message:"Python execution error"}}}catch(f){return{output:"",error:f instanceof Error?f.message:"Failed to run Python"}}},[l]),isLoading:e,isReady:n,error:r,pyodide:i}}const Pc={javascript:`// Welcome to StudyWeb Playground! 
// Write JavaScript code here and click Run

const fruits = ['apple', 'banana', 'orange'];
console.log('Fruits:', fruits);

const upperFruits = fruits.map(fruit => fruit.toUpperCase());
console.log('Uppercase:', upperFruits);

// Math operations work!
console.log('Max of 4, 5:', Math.max(4, 5));
console.log('Random:', Math.random());

// Try your own code below!
`,typescript:`// TypeScript Playground
// Note: This runs as JavaScript (types are stripped)

interface User {
  name: string;
  age: number;
}

const user: User = {
  name: "John Doe",
  age: 30
};

console.log("User:", user);
console.log("Name:", user.name);
console.log("Max:", Math.max(10, 20, 5));
`,html:`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Page</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    .card { padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
  </style>
</head>
<body>
  <div class="card">
    <h1>Hello, World!</h1>
    <p>This is a sample HTML page.</p>
  </div>
</body>
</html>`,css:`/* CSS Playground */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
}

.button {
  background-color: #3b82f6;
  color: white;
  padding: 0.75rem 1.5rem;
  border-radius: 0.5rem;
  border: none;
  cursor: pointer;
  transition: background-color 0.2s;
}

.button:hover {
  background-color: #2563eb;
}`,python:`# Python Playground 
# Powered by Pyodide - Real Python in the browser!

from datetime import datetime
import math
import random

# Current date and time
print("Current time:", datetime.now())
print("Date:", datetime.now().strftime("%Y-%m-%d"))

# Math operations
print("\\nMath operations:")
print("Pi:", math.pi)
print("Square root of 16:", math.sqrt(16))
print("2^10:", math.pow(2, 10))

# Random numbers
print("\\nRandom:")
print("Random float:", random.random())
print("Random int 1-100:", random.randint(1, 100))

# Lists and comprehensions
numbers = [1, 2, 3, 4, 5]
squared = [x**2 for x in numbers]
print("\\nSquared:", squared)

# Try your own Python code!
`,cpp:`// C++ Playground
// Note: This is a simulated environment
// For full C++ support, use a local compiler

#include <iostream>
#include <vector>
#include <string>

using namespace std;

int main() {
    // Variables
    string name = "World";
    cout << "Hello, " << name << "!" << endl;
    
    // Vector
    vector<int> numbers = {1, 2, 3, 4, 5};
    
    cout << "Numbers: ";
    for (int num : numbers) {
        cout << num << " ";
    }
    cout << endl;
    
    // Sum
    int sum = 0;
    for (int num : numbers) {
        sum += num;
    }
    cout << "Sum: " << sum << endl;
    
    return 0;
}
`},Nc={javascript:"JavaScript",typescript:"TypeScript",html:"HTML",css:"CSS",python:"Python",cpp:"C++"};function X3({initialCode:e,initialLanguage:t="javascript",className:n}){const[o,r]=m.useState(t),[s,i]=m.useState(e||Pc[t]),[a,l]=m.useState([]),[c,u]=m.useState(!1),[f,p]=m.useState(!1),[y,w]=m.useState(""),[v,x]=m.useState(65),[h,g]=m.useState(!1),{isReady:b}=Q3(),S=m.useRef(null),C=m.useRef(!1);m.useEffect(()=>{if(typeof window<"u"&&!window.loadPyodide){const R=document.createElement("script");R.src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js",R.async=!0,document.head.appendChild(R)}},[]);const j=async()=>{const M=window;if(!M.loadPyodide)throw new Error("Pyodide is still loading. Please wait a moment and try again.");g(!0);try{return await M.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.24.1/full/"})}catch(R){throw R}finally{g(!1)}},E=m.useCallback(M=>{M.preventDefault(),C.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[]);m.useEffect(()=>{const M=L=>{if(!C.current||!S.current)return;const T=S.current.getBoundingClientRect(),A=(L.clientX-T.left)/T.width*100;x(Math.min(80,Math.max(30,A)))},R=()=>{C.current=!1,document.body.style.cursor="",document.body.style.userSelect=""};return document.addEventListener("mousemove",M),document.addEventListener("mouseup",R),()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",R)}},[]);const k=M=>{r(M),e||i(Pc[M]),l([]),w("")},N=m.useCallback(async()=>{u(!0),l([]),w("");const M=[],R=(L,B)=>{M.push({id:crypto.randomUUID(),type:L,content:B,timestamp:new Date})};try{if(o==="html"){w(s),R("info","HTML preview rendered below"),l(M),u(!1);return}if(o==="css"){R("info","CSS code validated. Use with HTML to see styles in action."),l(M),u(!1);return}if(o==="python"){try{R("info",b?"Running Python...":"Loading Python runtime (first run may take a few seconds)..."),l([...M]);const T=await j();T.runPython(`
import sys
from io import StringIO
sys.stdout = StringIO()
sys.stderr = StringIO()
          `);try{await T.runPythonAsync(s);const A=T.runPython("sys.stdout.getvalue()"),D=T.runPython("sys.stderr.getvalue()");M.length=0,A&&A.split(`
`).filter(I=>I).forEach(I=>{R("log",I)}),D&&D.split(`
`).filter(I=>I).forEach(I=>{R("error",I)}),!A&&!D&&R("info","Code executed successfully (no output)")}catch(A){M.length=0,R("error",A.message)}T.runPython(`
sys.stdout = sys.__stdout__
sys.stderr = sys.__stderr__
          `)}catch(T){M.length=0,R("error",`Python Error: ${T.message}`)}l(M),u(!1);return}if(o==="cpp"){R("info","C++ Simulation (for full support, use a local compiler)");const T=/cout\s*<<\s*(.*?)\s*<<\s*endl/g;let A;for(;(A=T.exec(s))!==null;){const I=A[1].split("<<").map(W=>{const Q=W.trim();return Q.startsWith('"')&&Q.endsWith('"')?Q.slice(1,-1):`[${Q}]`});R("log",I.join(""))}M.length===1&&R("info","Tip: For real C++ execution, use an online compiler like godbolt.org or a local IDE."),l(M),u(!1);return}const L={log:(...T)=>{R("log",T.map(A=>typeof A=="object"?JSON.stringify(A,null,2):String(A)).join(" "))},error:(...T)=>{R("error",T.map(A=>typeof A=="object"?JSON.stringify(A,null,2):String(A)).join(" "))},warn:(...T)=>{R("warn",T.map(A=>typeof A=="object"?JSON.stringify(A,null,2):String(A)).join(" "))},info:(...T)=>{R("info",T.map(A=>typeof A=="object"?JSON.stringify(A,null,2):String(A)).join(" "))}};new Function("console","Math","Date","JSON","Array","Object","String","Number","Boolean","RegExp","Error","Map","Set","Promise","setTimeout","setInterval","clearTimeout","clearInterval",s)(L,Math,Date,JSON,Array,Object,String,Number,Boolean,RegExp,Error,Map,Set,Promise,(T,A)=>setTimeout(()=>{T(),l([...M])},A),(T,A)=>setInterval(()=>{T(),l([...M])},A),clearTimeout,clearInterval)}catch(L){M.push({id:crypto.randomUUID(),type:"error",content:L.message||"An error occurred",timestamp:new Date})}l(M),u(!1)},[s,o,b]),P=()=>{l([]),w("")},F=()=>{i(e||Pc[o]),l([]),w("")},U=async()=>{await navigator.clipboard.writeText(s),p(!0),setTimeout(()=>p(!1),2e3)},H=()=>{const M={javascript:"js",typescript:"ts",html:"html",css:"css",python:"py",cpp:"cpp"},R=new Blob([s],{type:"text/plain"}),L=URL.createObjectURL(R),B=document.createElement("a");B.href=L,B.download=`code.${M[o]}`,B.click(),URL.revokeObjectURL(L)};return d.jsxs("div",{className:q("flex flex-col h-full",n),children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 border-b bg-muted/30 shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(K0,{children:[d.jsx(q0,{asChild:!0,children:d.jsxs(J,{variant:"outline",size:"sm",className:"gap-2",children:[Nc[o],d.jsx(QP,{className:"h-4 w-4"})]})}),d.jsx(rp,{children:Object.keys(Nc).map(M=>d.jsxs(rs,{onClick:()=>k(M),className:q(M===o&&"bg-accent"),children:[Nc[M],M==="python"&&!b&&d.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(loads on first run)"})]},M))})]}),d.jsxs(J,{onClick:N,disabled:c||h,size:"sm",className:"gap-2",children:[c||h?d.jsx(Kh,{className:"h-4 w-4 animate-spin"}):d.jsx(lo,{className:"h-4 w-4"}),h?"Loading...":o==="html"?"Preview":"Run"]}),d.jsx(J,{onClick:P,variant:"outline",size:"sm",children:"Clear"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(J,{onClick:U,variant:"ghost",size:"icon",className:"h-8 w-8",children:f?d.jsx(Uf,{className:"h-4 w-4"}):d.jsx(zu,{className:"h-4 w-4"})}),d.jsx(J,{onClick:H,variant:"ghost",size:"icon",className:"h-8 w-8",children:d.jsx(eN,{className:"h-4 w-4"})}),d.jsx(J,{onClick:F,variant:"ghost",size:"icon",className:"h-8 w-8",children:d.jsx(iN,{className:"h-4 w-4"})})]})]}),o==="python"&&h&&d.jsxs("div",{className:"px-4 py-2 bg-blue-500/10 border-b text-sm text-blue-600 dark:text-blue-400 flex items-center gap-2",children:[d.jsx(Kh,{className:"h-4 w-4 animate-spin"}),"Loading Python runtime (Pyodide)... This may take a few seconds on first run."]}),d.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row min-h-0",children:[d.jsx("div",{className:"lg:hidden flex-1 min-h-0",children:d.jsxs(q3,{defaultValue:"editor",className:"h-full flex flex-col",children:[d.jsxs(w1,{className:"w-full justify-start rounded-none border-b bg-transparent px-2",children:[d.jsx(Xu,{value:"editor",children:"Editor"}),d.jsx(Xu,{value:"output",children:o==="html"?"Preview":`Console (${a.length})`})]}),d.jsx(Zu,{value:"editor",className:"flex-1 m-0 min-h-0",children:d.jsx(Pg,{value:s,onChange:i,language:o})}),d.jsx(Zu,{value:"output",className:"flex-1 m-0 min-h-0",children:o==="html"&&y?d.jsx("div",{className:"h-full border rounded-lg overflow-auto bg-white",children:d.jsx("iframe",{srcDoc:y,className:"w-full h-full border-0",title:"HTML Preview",sandbox:"allow-scripts"})}):d.jsx(Ng,{logs:a})})]})}),d.jsxs("div",{ref:S,className:"hidden lg:flex flex-1 min-h-0",children:[d.jsx("div",{className:"min-w-0 p-2 flex flex-col",style:{width:`${v}%`},children:d.jsx(Pg,{value:s,onChange:i,language:o})}),d.jsx("div",{className:"w-1 bg-border hover:bg-primary/50 cursor-col-resize flex items-center justify-center group transition-colors",onMouseDown:E,children:d.jsx("div",{className:"w-4 h-8 flex items-center justify-center rounded bg-muted border opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(oN,{className:"h-4 w-4 text-muted-foreground"})})}),d.jsx("div",{className:"p-2 flex flex-col min-h-0",style:{width:`${100-v}%`},children:o==="html"&&y?d.jsx("div",{className:"flex-1 border rounded-lg overflow-auto bg-white",children:d.jsx("iframe",{srcDoc:y,className:"w-full h-full border-0",title:"HTML Preview",sandbox:"allow-scripts"})}):d.jsx(Ng,{logs:a})})]})]})]})}function Z3(){const t=Vn().state;return d.jsx("div",{className:"h-[calc(100vh-4rem)]",children:d.jsx(X3,{initialCode:t==null?void 0:t.code,initialLanguage:(t==null?void 0:t.language)||"javascript"})})}const x1=[{id:"html-basics",title:"HTML Fundamentals",description:"Learn the building blocks of web pages with HTML.",difficulty:"beginner",duration:"2 hours",topics:["Elements","Attributes","Semantic HTML","Forms"],lessons:[{id:"html-intro",title:"Introduction to HTML",content:`# Introduction to HTML

HTML (HyperText Markup Language) is the standard markup language for creating web pages.`,codeExample:`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My First Page</title>
</head>
<body>
  <h1>Welcome to HTML</h1>
</body>
</html>`,language:"html"}]}],jl=[{id:"react-basics",title:"React Basics",description:"Learn the fundamentals of React including components, JSX, props, state, and essential hooks.",difficulty:"beginner",duration:"4 hours",topics:["Components","JSX","Props","State","Hooks","Events","Forms","Lists"],lessons:[{id:"react-intro",title:"Introduction to React",content:`# Introduction to React

## What is React?
React is a JavaScript library for building user interfaces, developed and maintained by Facebook (Meta). It's used to create single-page applications (SPAs) where the UI updates dynamically without requiring full page reloads.

## Why React?
React has become one of the most popular front-end libraries because of:

1. **Component-Based Architecture** - Build encapsulated components that manage their own state, then compose them to create complex UIs
2. **Virtual DOM** - React uses a virtual representation of the DOM for efficient updates
3. **Declarative** - Describe what your UI should look like, and React handles the DOM manipulation
4. **Learn Once, Write Anywhere** - Use React for web (React DOM), mobile (React Native), desktop, and more
5. **Large Ecosystem** - Huge community, extensive libraries, and excellent tooling

## How React Works

### The Virtual DOM
When state changes in a React application:
1. React creates a new Virtual DOM tree
2. It compares the new tree with the previous one (diffing)
3. It calculates the minimum number of changes needed
4. It updates only those specific parts of the real DOM

This makes React applications fast and efficient.

### Components
Everything in React is a component. A component is a reusable piece of UI that can contain its own logic, styling, and markup.

\`\`\`js
// A simple React component
function Welcome() {
  return <h1>Hello, React!</h1>;
}
\`\`\`

## Setting Up a React Project

### Using Create React App (Traditional)
\`\`\`bash
npx create-react-app my-app
cd my-app
npm start
\`\`\`

### Using Vite (Modern & Faster)
\`\`\`bash
npm create vite@latest my-app -- --template react
cd my-app
npm install
npm run dev
\`\`\`

### Using Next.js (Full Framework)
\`\`\`bash
npx create-next-app@latest my-app
cd my-app
npm run dev
\`\`\`

## Project Structure
A typical React project looks like this:

\`\`\`
my-app/
 node_modules/
 public/
    index.html
 src/
    components/
    App.js
    App.css
    index.js
 package.json
 README.md
\`\`\`

## Your First React Application

\`\`\`js
// src/index.js - Entry point
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
\`\`\`

\`\`\`js
// src/App.js - Main App component
import React from 'react';

function App() {
  return (
    <div className="App">
      <h1>Welcome to React!</h1>
      <p>This is my first React application.</p>
    </div>
  );
}

export default App;
\`\`\`

## React.StrictMode
StrictMode is a development tool that helps identify potential problems in your application:
- Identifies components with unsafe lifecycles
- Warns about deprecated API usage
- Detects unexpected side effects
- Ensures reusable state

\`\`\`js
<React.StrictMode>
  <App />
</React.StrictMode>
\`\`\`

Note: StrictMode intentionally double-invokes certain functions in development to help detect side effects. This doesn't happen in production.

## Key Takeaways
- React is a library for building UIs with reusable components
- It uses a Virtual DOM for efficient updates
- Components are the building blocks of React applications
- Modern tools like Vite provide fast development experience
- React.StrictMode helps catch common mistakes during development`,language:"javascript"},{id:"components",title:"React Components",content:`# React Components

## What are Components?
Components are the building blocks of React applications. They are reusable pieces of UI that can contain their own logic, styling, and markup. Think of them as custom HTML elements that you define.

## Types of Components

### 1. Functional Components (Recommended)
Modern React uses functional components with hooks. They are simpler, easier to test, and the recommended approach.

\`\`\`js
// Basic functional component
function Welcome() {
  return <h1>Hello, World!</h1>;
}

// Arrow function component
const Greeting = () => {
  return <h1>Hello, World!</h1>;
};

// Arrow function with implicit return
const SimpleGreeting = () => <h1>Hello, World!</h1>;

// Component with logic
function UserProfile() {
  const name = 'Alice';
  const isOnline = true;
  
  return (
    <div className="profile">
      <h2>{name}</h2>
      <span className={isOnline ? 'online' : 'offline'}>
        {isOnline ? ' Online' : ' Offline'}
      </span>
    </div>
  );
}
\`\`\`

### 2. Class Components (Legacy)
Class components were the original way to create stateful components. While still supported, functional components with hooks are preferred.

\`\`\`js
import React, { Component } from 'react';

class Welcome extends Component {
  render() {
    return <h1>Hello, World!</h1>;
  }
}

// Class component with state
class Counter extends Component {
  constructor(props) {
    super(props);
    this.state = { count: 0 };
  }
  
  increment = () => {
    this.setState({ count: this.state.count + 1 });
  };
  
  render() {
    return (
      <div>
        <p>Count: {this.state.count}</p>
        <button onClick={this.increment}>Increment</button>
      </div>
    );
  }
}
\`\`\`

## Component Naming Conventions

\`\`\`js
//  Components must start with uppercase letter
function UserProfile() { ... }
function NavBar() { ... }
function TodoList() { ... }

//  Lowercase names are treated as HTML elements
function userProfile() { ... } // Wrong!

// File naming conventions:
// UserProfile.js or UserProfile.jsx
// NavBar.js or NavBar.jsx
\`\`\`

## Composing Components
Components can include other components, allowing you to build complex UIs from simple pieces.

\`\`\`js
// Small, focused components
function Avatar({ src, alt }) {
  return <img src={src} alt={alt} className="avatar" />;
}

function UserInfo({ name, title }) {
  return (
    <div className="user-info">
      <h3>{name}</h3>
      <p>{title}</p>
    </div>
  );
}

function UserActions() {
  return (
    <div className="actions">
      <button>Follow</button>
      <button>Message</button>
    </div>
  );
}

// Composed component
function UserCard({ user }) {
  return (
    <div className="user-card">
      <Avatar src={user.avatarUrl} alt={user.name} />
      <UserInfo name={user.name} title={user.title} />
      <UserActions />
    </div>
  );
}

// Using the composed component
function App() {
  const user = {
    name: 'Alice Johnson',
    title: 'Software Engineer',
    avatarUrl: '/avatars/alice.jpg'
  };
  
  return (
    <div>
      <h1>User Profile</h1>
      <UserCard user={user} />
    </div>
  );
}
\`\`\`

## Component Organization

### File Structure Approaches

\`\`\`
// Approach 1: Group by feature
src/
 features/
    auth/
       LoginForm.jsx
       SignupForm.jsx
       AuthContext.jsx
    users/
       UserProfile.jsx
       UserList.jsx
       UserCard.jsx
    products/
        ProductList.jsx
        ProductCard.jsx
 components/
    common/
       Button.jsx
       Input.jsx
       Modal.jsx
    layout/
        Header.jsx
        Footer.jsx
        Sidebar.jsx
 App.jsx

// Approach 2: Component folders
src/
 components/
    Button/
       Button.jsx
       Button.css
       Button.test.js
       index.js
    UserCard/
        UserCard.jsx
        UserCard.css
        index.js
 App.jsx
\`\`\`

### Exporting Components

\`\`\`js
// Default export (one per file)
function UserProfile() {
  return <div>Profile</div>;
}
export default UserProfile;

// Import default export
import UserProfile from './UserProfile';

// Named exports (multiple per file)
export function Button() {
  return <button>Click</button>;
}

export function Input() {
  return <input />;
}

// Import named exports
import { Button, Input } from './FormElements';

// Mix of both
export function helper() { ... }
export default function MainComponent() { ... }

// Import both
import MainComponent, { helper } from './Component';

// Re-export from index.js (barrel file)
// components/index.js
export { default as Button } from './Button';
export { default as Input } from './Input';
export { default as Modal } from './Modal';

// Import from barrel
import { Button, Input, Modal } from './components';
\`\`\`

## Pure Components
A pure component is a component that always renders the same output for the same props. They are predictable and easier to test.

\`\`\`js
//  Pure component - same input, same output
function PureGreeting({ name }) {
  return <h1>Hello, {name}!</h1>;
}

//  Pure component - no side effects
function PureUserCard({ user }) {
  return (
    <div>
      <h2>{user.name}</h2>
      <p>{user.email}</p>
    </div>
  );
}

//  Impure - depends on external state
let globalCounter = 0;
function ImpureCounter() {
  globalCounter++;
  return <div>Count: {globalCounter}</div>;
}

//  Impure - has side effects
function ImpureLogger({ message }) {
  console.log(message); // Side effect!
  return <div>{message}</div>;
}

// React.memo for performance optimization
const MemoizedComponent = React.memo(function ExpensiveComponent({ data }) {
  // Only re-renders if props change
  return <div>{data}</div>;
});
\`\`\`

## Component Best Practices

\`\`\`js
// 1. Keep components small and focused
//  Too many responsibilities
function UserDashboard() {
  return (
    <div>
      <header>...</header>
      <nav>...</nav>
      <main>
        <aside>...</aside>
        <section>
          <form>...</form>
          <table>...</table>
        </section>
      </main>
      <footer>...</footer>
    </div>
  );
}

//  Split into focused components
function UserDashboard() {
  return (
    <div>
      <Header />
      <Navigation />
      <main>
        <Sidebar />
        <Content>
          <UserForm />
          <UserTable />
        </Content>
      </main>
      <Footer />
    </div>
  );
}

// 2. Use descriptive names
//  Vague names
function Item() { ... }
function Data() { ... }
function Box() { ... }

//  Descriptive names
function ProductCard() { ... }
function UserProfile() { ... }
function CommentList() { ... }

// 3. One component per file (usually)
// UserProfile.jsx
export default function UserProfile() { ... }

// 4. Co-locate related code
// UserProfile/
//   UserProfile.jsx
//   UserProfile.css
//   UserProfile.test.js
//   useUserProfile.js (custom hook)
\`\`\`

## Fragments
Fragments let you group elements without adding extra DOM nodes.

\`\`\`js
import React, { Fragment } from 'react';

// Using Fragment
function TableColumns() {
  return (
    <Fragment>
      <td>Name</td>
      <td>Age</td>
      <td>Email</td>
    </Fragment>
  );
}

// Short syntax (recommended)
function ShortTableColumns() {
  return (
    <>
      <td>Name</td>
      <td>Age</td>
      <td>Email</td>
    </>
  );
}

// Fragment with key (required in lists)
function GlossaryTerms({ items }) {
  return (
    <dl>
      {items.map(item => (
        <Fragment key={item.id}>
          <dt>{item.term}</dt>
          <dd>{item.definition}</dd>
        </Fragment>
      ))}
    </dl>
  );
}
\`\`\`

## Key Takeaways
- Functional components are the modern, recommended approach
- Components must start with an uppercase letter
- Components can be composed together like building blocks
- Keep components small, focused, and pure when possible
- Use Fragments to avoid unnecessary wrapper elements
- Organize components in a consistent, logical structure
- Export components for reuse across your application`,language:"javascript"},{id:"props",title:"Props (Properties)",content:`# Props (Properties)

## What are Props?
Props (short for properties) are how you pass data from a parent component to a child component. They are read-only and flow in one direction: from parent to child. Think of props as function arguments for components.

## Basic Props Usage

\`\`\`js
// Parent component passes props
function App() {
  return (
    <div>
      <Greeting name="Alice" />
      <Greeting name="Bob" />
      <Greeting name="Charlie" />
    </div>
  );
}

// Child component receives props
function Greeting(props) {
  return <h1>Hello, {props.name}!</h1>;
}

// With destructuring (preferred)
function Greeting({ name }) {
  return <h1>Hello, {name}!</h1>;
}
\`\`\`

## Passing Different Types of Props

\`\`\`js
function App() {
  const user = { name: 'Alice', age: 25 };
  const colors = ['red', 'green', 'blue'];
  
  return (
    <UserProfile
      // String
      title="Profile"
      
      // Number
      age={25}
      
      // Boolean
      isActive={true}
      isVerified  // shorthand for isVerified={true}
      
      // Object
      user={user}
      
      // Inline object
      settings={{ theme: 'dark', language: 'en' }}
      
      // Array
      colors={colors}
      
      // Function
      onClick={() => console.log('clicked')}
      onSubmit={handleSubmit}
      
      // JSX / React elements
      icon={<StarIcon />}
      header={<h1>Welcome</h1>}
      
      // Variable
      username={user.name}
      
      // Expression
      fullName={user.name + ' Smith'}
    />
  );
}

function UserProfile({
  title,
  age,
  isActive,
  isVerified,
  user,
  settings,
  colors,
  onClick,
  onSubmit,
  icon,
  header,
  username,
  fullName
}) {
  return (
    <div>
      {header}
      <h2>{title}</h2>
      <p>Name: {username}</p>
      <p>Full Name: {fullName}</p>
      <p>Age: {age}</p>
      <p>Status: {isActive ? 'Active' : 'Inactive'}</p>
      {isVerified && <span> Verified</span>}
      <p>Theme: {settings.theme}</p>
      <ul>
        {colors.map(color => <li key={color}>{color}</li>)}
      </ul>
      {icon}
      <button onClick={onClick}>Click</button>
    </div>
  );
}
\`\`\`

## Destructuring Props

\`\`\`js
// In function parameters (recommended)
function UserCard({ name, email, avatar }) {
  return (
    <div>
      <img src={avatar} alt={name} />
      <h3>{name}</h3>
      <p>{email}</p>
    </div>
  );
}

// In function body
function UserCard(props) {
  const { name, email, avatar } = props;
  
  return (
    <div>
      <img src={avatar} alt={name} />
      <h3>{name}</h3>
      <p>{email}</p>
    </div>
  );
}

// With renaming
function UserCard({ name: userName, email: userEmail }) {
  return (
    <div>
      <h3>{userName}</h3>
      <p>{userEmail}</p>
    </div>
  );
}

// With rest operator
function UserCard({ name, ...otherProps }) {
  return (
    <div>
      <h3>{name}</h3>
      {/* Pass remaining props to child */}
      <UserDetails {...otherProps} />
    </div>
  );
}
\`\`\`

## Default Props

\`\`\`js
// Method 1: Default parameters (recommended)
function Button({ 
  text = 'Click me', 
  color = 'blue', 
  size = 'medium',
  disabled = false 
}) {
  return (
    <button 
      className={\`btn btn-\${color} btn-\${size}\`}
      disabled={disabled}
    >
      {text}
    </button>
  );
}

// Usage
<Button />  // Uses all defaults
<Button text="Submit" color="green" />  // Override some

// Method 2: defaultProps (older, still works)
function Button({ text, color, size }) {
  return (
    <button className={\`btn btn-\${color} btn-\${size}\`}>
      {text}
    </button>
  );
}

Button.defaultProps = {
  text: 'Click me',
  color: 'blue',
  size: 'medium'
};

// Default with object/array (be careful!)
//  Don't use mutable default
function List({ items = [] }) { ... }  // New array each render

//  Better: define outside or use useMemo
const DEFAULT_ITEMS = [];
function List({ items = DEFAULT_ITEMS }) { ... }
\`\`\`

## Props Validation with PropTypes

\`\`\`js
import PropTypes from 'prop-types';

function UserCard({ name, age, email, avatar, isActive, friends, onClick }) {
  return (
    <div>
      <img src={avatar} alt={name} />
      <h3>{name}</h3>
      <p>Age: {age}</p>
      <p>Email: {email}</p>
      <p>Status: {isActive ? 'Active' : 'Inactive'}</p>
      <p>Friends: {friends.length}</p>
      <button onClick={onClick}>View Profile</button>
    </div>
  );
}

UserCard.propTypes = {
  // Basic types
  name: PropTypes.string.isRequired,
  age: PropTypes.number,
  email: PropTypes.string.isRequired,
  avatar: PropTypes.string,
  isActive: PropTypes.bool,
  
  // Arrays
  friends: PropTypes.array,
  // Or more specific:
  friends: PropTypes.arrayOf(PropTypes.string),
  
  // Objects
  user: PropTypes.object,
  // Or with shape:
  user: PropTypes.shape({
    id: PropTypes.number.isRequired,
    name: PropTypes.string.isRequired,
    email: PropTypes.string
  }),
  
  // Functions
  onClick: PropTypes.func.isRequired,
  
  // One of specific values
  status: PropTypes.oneOf(['active', 'inactive', 'pending']),
  
  // One of types
  id: PropTypes.oneOfType([
    PropTypes.string,
    PropTypes.number
  ]),
  
  // Any renderable (string, number, element, array of these)
  children: PropTypes.node,
  
  // A React element
  icon: PropTypes.element,
  
  // Instance of a class
  date: PropTypes.instanceOf(Date),
  
  // Custom validator
  customProp: function(props, propName, componentName) {
    if (!/^[a-z]+$/.test(props[propName])) {
      return new Error('Invalid prop');
    }
  }
};

UserCard.defaultProps = {
  avatar: '/default-avatar.png',
  isActive: true,
  friends: []
};
\`\`\`

## Children Prop
The special \`children\` prop allows you to pass elements between opening and closing tags.

\`\`\`js
// Basic children
function Card({ children }) {
  return (
    <div className="card">
      {children}
    </div>
  );
}

// Usage
function App() {
  return (
    <Card>
      <h2>Title</h2>
      <p>This is the card content.</p>
      <button>Click me</button>
    </Card>
  );
}

// Multiple children slots
function Layout({ header, sidebar, children, footer }) {
  return (
    <div className="layout">
      <header>{header}</header>
      <div className="content">
        <aside>{sidebar}</aside>
        <main>{children}</main>
      </div>
      <footer>{footer}</footer>
    </div>
  );
}

// Usage
function App() {
  return (
    <Layout
      header={<NavBar />}
      sidebar={<SideMenu />}
      footer={<Copyright />}
    >
      <h1>Main Content</h1>
      <p>This goes in the main area.</p>
    </Layout>
  );
}

// Working with children
import React, { Children } from 'react';

function List({ children }) {
  // Count children
  const count = Children.count(children);
  
  // Map over children
  const items = Children.map(children, (child, index) => (
    <li key={index}>{child}</li>
  ));
  
  // Convert to array
  const childArray = Children.toArray(children);
  
  return (
    <div>
      <p>Items: {count}</p>
      <ul>{items}</ul>
    </div>
  );
}
\`\`\`

## Render Props Pattern
Pass a function as a prop to share logic between components.

\`\`\`js
// Component with render prop
function MouseTracker({ render }) {
  const [position, setPosition] = React.useState({ x: 0, y: 0 });
  
  const handleMouseMove = (event) => {
    setPosition({
      x: event.clientX,
      y: event.clientY
    });
  };
  
  return (
    <div onMouseMove={handleMouseMove} style={{ height: '100vh' }}>
      {render(position)}
    </div>
  );
}

// Usage
function App() {
  return (
    <MouseTracker
      render={({ x, y }) => (
        <div>
          <h1>Move the mouse around!</h1>
          <p>Current position: ({x}, {y})</p>
        </div>
      )}
    />
  );
}

// Using children as render prop
function MouseTracker({ children }) {
  const [position, setPosition] = React.useState({ x: 0, y: 0 });
  
  // ... mouse tracking logic
  
  return (
    <div onMouseMove={handleMouseMove}>
      {children(position)}
    </div>
  );
}

// Usage
<MouseTracker>
  {({ x, y }) => <p>Position: ({x}, {y})</p>}
</MouseTracker>
\`\`\`

## Prop Drilling and Solutions
When props need to pass through many levels, it's called "prop drilling."

\`\`\`js
//  Prop drilling - passing through many levels
function App() {
  const user = { name: 'Alice', theme: 'dark' };
  return <Layout user={user} />;
}

function Layout({ user }) {
  return <Sidebar user={user} />;
}

function Sidebar({ user }) {
  return <UserPanel user={user} />;
}

function UserPanel({ user }) {
  return <UserName user={user} />;
}

function UserName({ user }) {
  return <span>{user.name}</span>;
}

//  Solution 1: Component composition
function App() {
  const user = { name: 'Alice' };
  
  return (
    <Layout>
      <Sidebar>
        <UserPanel>
          <UserName name={user.name} />
        </UserPanel>
      </Sidebar>
    </Layout>
  );
}

//  Solution 2: Context API (covered in later lesson)
//  Solution 3: State management libraries (Redux, Zustand)
\`\`\`

## Spreading Props

\`\`\`js
// Spread all props to child
function EnhancedButton({ className, ...props }) {
  return (
    <button 
      className={\`btn \${className}\`} 
      {...props}
    />
  );
}

// Usage
<EnhancedButton 
  className="primary"
  onClick={handleClick}
  disabled={false}
>
  Click Me
</EnhancedButton>

// Forwarding props to DOM element
function Input({ label, ...inputProps }) {
  return (
    <div>
      <label>{label}</label>
      <input {...inputProps} />
    </div>
  );
}

// Usage
<Input 
  label="Email"
  type="email"
  placeholder="Enter email"
  value={email}
  onChange={handleChange}
/>
\`\`\`

## Props Are Read-Only

\`\`\`js
//  Never modify props
function BadComponent({ user }) {
  user.name = 'Modified'; // DON'T DO THIS!
  return <div>{user.name}</div>;
}

//  Props should be treated as immutable
function GoodComponent({ user }) {
  // If you need to transform, create new data
  const displayName = user.name.toUpperCase();
  return <div>{displayName}</div>;
}

//  If you need to change data, use state
function EditableComponent({ initialValue }) {
  const [value, setValue] = React.useState(initialValue);
  
  return (
    <input 
      value={value} 
      onChange={e => setValue(e.target.value)} 
    />
  );
}
\`\`\`

## Key Takeaways
- Props pass data from parent to child components
- Props are read-only - never modify them directly
- Use destructuring for cleaner code
- Set default values with default parameters
- Use PropTypes for development-time validation
- The children prop enables component composition
- Avoid excessive prop drilling with composition or Context
- Spread operators can forward props efficiently`,language:"javascript"},{id:"state",title:"State Management with useState",content:`# State Management with useState

## What is State?
State is data that can change over time in a component. Unlike props, state is managed within the component and can be updated. When state changes, React re-renders the component to reflect the new data.

## useState Hook Basics

\`\`\`js
import React, { useState } from 'react';

function Counter() {
  // Declare state variable "count" with initial value 0
  // setCount is the function to update it
  const [count, setCount] = useState(0);
  
  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>
        Increment
      </button>
    </div>
  );
}
\`\`\`

## useState Syntax

\`\`\`js
// Syntax: const [stateVariable, setterFunction] = useState(initialValue);

// Different initial values
const [count, setCount] = useState(0);           // Number
const [name, setName] = useState('');            // String
const [isActive, setIsActive] = useState(false); // Boolean
const [items, setItems] = useState([]);          // Array
const [user, setUser] = useState(null);          // Null
const [settings, setSettings] = useState({       // Object
  theme: 'dark',
  language: 'en'
});

// Lazy initialization (for expensive calculations)
const [data, setData] = useState(() => {
  // This function only runs on first render
  return expensiveComputation();
});
\`\`\`

## Updating State

### Replacing State Value
\`\`\`js
function SimpleUpdates() {
  const [count, setCount] = useState(0);
  const [name, setName] = useState('');
  const [isVisible, setIsVisible] = useState(false);
  
  return (
    <div>
      {/* Replace with new value */}
      <button onClick={() => setCount(10)}>Set to 10</button>
      
      {/* Replace with value from event */}
      <input 
        value={name}
        onChange={(e) => setName(e.target.value)}
      />
      
      {/* Toggle boolean */}
      <button onClick={() => setIsVisible(!isVisible)}>
        Toggle
      </button>
      
      {/* Set based on condition */}
      <button onClick={() => setIsVisible(count > 5)}>
        Show if count > 5
      </button>
    </div>
  );
}
\`\`\`

### Updating Based on Previous State
When the new state depends on the previous state, use a function.

\`\`\`js
function Counter() {
  const [count, setCount] = useState(0);
  
  //  Can be problematic with multiple updates
  const incrementWrong = () => {
    setCount(count + 1);
    setCount(count + 1); // Still uses same 'count' value!
  };
  
  //  Use functional update for reliable updates
  const incrementRight = () => {
    setCount(prevCount => prevCount + 1);
    setCount(prevCount => prevCount + 1); // Works correctly!
  };
  
  // More examples of functional updates
  const decrement = () => {
    setCount(prev => prev - 1);
  };
  
  const double = () => {
    setCount(prev => prev * 2);
  };
  
  const reset = () => {
    setCount(0); // Direct value is fine when not depending on prev
  };
  
  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={incrementRight}>+1</button>
      <button onClick={decrement}>-1</button>
      <button onClick={double}>x2</button>
      <button onClick={reset}>Reset</button>
    </div>
  );
}
\`\`\`

## Working with Objects in State

\`\`\`js
function UserProfile() {
  const [user, setUser] = useState({
    name: 'Alice',
    email: 'alice@example.com',
    age: 25,
    address: {
      city: 'New York',
      country: 'USA'
    }
  });
  
  //  Don't mutate directly
  const updateNameWrong = () => {
    user.name = 'Bob'; // Mutation!
    setUser(user); // Won't trigger re-render properly
  };
  
  //  Create a new object
  const updateName = (newName) => {
    setUser({
      ...user,
      name: newName
    });
  };
  
  //  Update nested object
  const updateCity = (newCity) => {
    setUser({
      ...user,
      address: {
        ...user.address,
        city: newCity
      }
    });
  };
  
  //  Update multiple fields
  const updateProfile = (updates) => {
    setUser(prevUser => ({
      ...prevUser,
      ...updates
    }));
  };
  
  //  Remove a field (create new object without it)
  const removeAge = () => {
    const { age, ...userWithoutAge } = user;
    setUser(userWithoutAge);
  };
  
  return (
    <div>
      <p>Name: {user.name}</p>
      <p>Email: {user.email}</p>
      <p>City: {user.address.city}</p>
      
      <input 
        value={user.name}
        onChange={(e) => updateName(e.target.value)}
      />
      
      <button onClick={() => updateCity('Los Angeles')}>
        Move to LA
      </button>
    </div>
  );
}
\`\`\`

## Working with Arrays in State

\`\`\`js
function TodoList() {
  const [todos, setTodos] = useState([
    { id: 1, text: 'Learn React', done: false },
    { id: 2, text: 'Build app', done: false }
  ]);
  
  //  Add item
  const addTodo = (text) => {
    const newTodo = {
      id: Date.now(),
      text,
      done: false
    };
    setTodos([...todos, newTodo]); // Add at end
    // Or: setTodos([newTodo, ...todos]); // Add at beginning
  };
  
  //  Remove item
  const removeTodo = (id) => {
    setTodos(todos.filter(todo => todo.id !== id));
  };
  
  //  Update item
  const toggleTodo = (id) => {
    setTodos(todos.map(todo =>
      todo.id === id 
        ? { ...todo, done: !todo.done }
        : todo
    ));
  };
  
  //  Update item text
  const updateTodoText = (id, newText) => {
    setTodos(todos.map(todo =>
      todo.id === id
        ? { ...todo, text: newText }
        : todo
    ));
  };
  
  //  Insert at index
  const insertAt = (index, newTodo) => {
    setTodos([
      ...todos.slice(0, index),
      newTodo,
      ...todos.slice(index)
    ]);
  };
  
  //  Replace item
  const replaceAt = (index, newTodo) => {
    setTodos(todos.map((todo, i) =>
      i === index ? newTodo : todo
    ));
  };
  
  //  Reverse array
  const reverseTodos = () => {
    setTodos([...todos].reverse());
  };
  
  //  Sort array
  const sortTodos = () => {
    setTodos([...todos].sort((a, b) => 
      a.text.localeCompare(b.text)
    ));
  };
  
  //  Clear all
  const clearAll = () => {
    setTodos([]);
  };
  
  return (
    <div>
      {todos.map(todo => (
        <div key={todo.id}>
          <input
            type="checkbox"
            checked={todo.done}
            onChange={() => toggleTodo(todo.id)}
          />
          <span style={{ 
            textDecoration: todo.done ? 'line-through' : 'none' 
          }}>
            {todo.text}
          </span>
          <button onClick={() => removeTodo(todo.id)}></button>
        </div>
      ))}
    </div>
  );
}
\`\`\`

## Multiple State Variables

\`\`\`js
// Approach 1: Multiple useState calls (usually preferred)
function Form() {
  const [firstName, setFirstName] = useState('');
  const [lastName, setLastName] = useState('');
  const [email, setEmail] = useState('');
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [errors, setErrors] = useState({});
  
  return (
    <form>
      <input 
        value={firstName}
        onChange={e => setFirstName(e.target.value)}
      />
      <input 
        value={lastName}
        onChange={e => setLastName(e.target.value)}
      />
      <input 
        value={email}
        onChange={e => setEmail(e.target.value)}
      />
    </form>
  );
}

// Approach 2: Single state object (for related data)
function Form() {
  const [formData, setFormData] = useState({
    firstName: '',
    lastName: '',
    email: ''
  });
  
  const handleChange = (e) => {
    const { name, value } = e.target;
    setFormData(prev => ({
      ...prev,
      [name]: value
    }));
  };
  
  return (
    <form>
      <input 
        name="firstName"
        value={formData.firstName}
        onChange={handleChange}
      />
      <input 
        name="lastName"
        value={formData.lastName}
        onChange={handleChange}
      />
      <input 
        name="email"
        value={formData.email}
        onChange={handleChange}
      />
    </form>
  );
}
\`\`\`

## State Update Batching
React batches state updates for performance.

\`\`\`js
function BatchingExample() {
  const [count, setCount] = useState(0);
  const [flag, setFlag] = useState(false);
  
  const handleClick = () => {
    // React batches these updates
    // Only ONE re-render happens
    setCount(c => c + 1);
    setFlag(f => !f);
    // Component re-renders once with both updates
  };
  
  console.log('Render'); // Logs once per click
  
  return (
    <div>
      <p>Count: {count}, Flag: {flag.toString()}</p>
      <button onClick={handleClick}>Update Both</button>
    </div>
  );
}

// React 18 also batches updates in async code
function AsyncBatching() {
  const [count, setCount] = useState(0);
  const [flag, setFlag] = useState(false);
  
  const handleClick = () => {
    fetch('/api/data').then(() => {
      // In React 18, these are batched too!
      setCount(c => c + 1);
      setFlag(f => !f);
    });
    
    setTimeout(() => {
      // These are also batched in React 18
      setCount(c => c + 1);
      setFlag(f => !f);
    }, 1000);
  };
  
  return <button onClick={handleClick}>Fetch</button>;
}
\`\`\`

## State vs Props

\`\`\`js
/*
Props:
- Passed from parent
- Read-only (immutable)
- Parent controls the data
- Used to configure components

State:
- Managed within component
- Can be changed (mutable via setter)
- Component owns the data
- Used for dynamic, changing data
*/

// Example showing both
function ParentComponent() {
  const [username, setUsername] = useState('Alice');
  
  return (
    <ChildComponent 
      name={username}  // Passing state as prop
      onNameChange={setUsername}  // Passing setter as prop
    />
  );
}

function ChildComponent({ name, onNameChange }) {
  // name is a prop - read only
  // onNameChange is a prop - function to update parent's state
  
  // Can have its own local state too
  const [inputValue, setInputValue] = useState(name);
  
  const handleSubmit = () => {
    onNameChange(inputValue);  // Update parent's state
  };
  
  return (
    <div>
      <p>Current name: {name}</p>
      <input 
        value={inputValue}
        onChange={e => setInputValue(e.target.value)}
      />
      <button onClick={handleSubmit}>Update Name</button>
    </div>
  );
}
\`\`\`

## Common Patterns

\`\`\`js
// Toggle pattern
function Toggle() {
  const [isOn, setIsOn] = useState(false);
  return (
    <button onClick={() => setIsOn(prev => !prev)}>
      {isOn ? 'ON' : 'OFF'}
    </button>
  );
}

// Counter with min/max
function BoundedCounter({ min = 0, max = 10 }) {
  const [count, setCount] = useState(min);
  
  const increment = () => {
    setCount(prev => Math.min(prev + 1, max));
  };
  
  const decrement = () => {
    setCount(prev => Math.max(prev - 1, min));
  };
  
  return (
    <div>
      <button onClick={decrement} disabled={count === min}>-</button>
      <span>{count}</span>
      <button onClick={increment} disabled={count === max}>+</button>
    </div>
  );
}

// Input with controlled value
function SearchInput() {
  const [query, setQuery] = useState('');
  
  const handleChange = (e) => {
    setQuery(e.target.value);
  };
  
  const handleClear = () => {
    setQuery('');
  };
  
  return (
    <div>
      <input 
        value={query}
        onChange={handleChange}
        placeholder="Search..."
      />
      {query && (
        <button onClick={handleClear}>Clear</button>
      )}
    </div>
  );
}

// Loading state
function DataFetcher() {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);
  
  const fetchData = async () => {
    setLoading(true);
    setError(null);
    
    try {
      const response = await fetch('/api/data');
      const result = await response.json();
      setData(result);
    } catch (err) {
      setError(err.message);
    } finally {
      setLoading(false);
    }
  };
  
  if (loading) return <p>Loading...</p>;
  if (error) return <p>Error: {error}</p>;
  
  return (
    <div>
      <button onClick={fetchData}>Fetch Data</button>
      {data && <pre>{JSON.stringify(data, null, 2)}</pre>}
    </div>
  );
}
\`\`\`

## Key Takeaways
- State allows components to have dynamic, changing data
- useState returns [currentValue, setterFunction]
- Always use the setter function, never mutate state directly
- Use functional updates when new state depends on previous state
- Create new objects/arrays when updating, don't mutate
- React batches state updates for performance
- State is private to each component instance
- Lifting state up allows sharing data between components`,language:"javascript"},{id:"events",title:"Handling Events",content:`# Handling Events

## Event Handling Basics
React events use camelCase naming and pass functions as event handlers, not strings.

\`\`\`js
// HTML
<button onclick="handleClick()">Click</button>

// React
<button onClick={handleClick}>Click</button>
\`\`\`

## Basic Event Handlers

\`\`\`js
function EventExamples() {
  // Define handler function
  const handleClick = () => {
    console.log('Button clicked!');
  };
  
  // Handler with event object
  const handleClickWithEvent = (event) => {
    console.log('Event type:', event.type);
    console.log('Target:', event.target);
  };
  
  return (
    <div>
      {/* Reference function */}
      <button onClick={handleClick}>Click Me</button>
      
      {/* With event object */}
      <button onClick={handleClickWithEvent}>Click Me</button>
      
      {/* Inline arrow function */}
      <button onClick={() => console.log('Inline click')}>
        Inline
      </button>
      
      {/* Inline with event */}
      <button onClick={(e) => console.log(e.target)}>
        With Event
      </button>
    </div>
  );
}
\`\`\`

## Passing Arguments to Event Handlers

\`\`\`js
function ItemList() {
  const items = ['Apple', 'Banana', 'Cherry'];
  
  // Handler that needs an argument
  const handleDelete = (itemName) => {
    console.log('Deleting:', itemName);
  };
  
  // Handler with event AND argument
  const handleEdit = (itemName, event) => {
    console.log('Editing:', itemName);
    console.log('Button clicked:', event.target);
  };
  
  return (
    <ul>
      {items.map(item => (
        <li key={item}>
          {item}
          
          {/* Using arrow function to pass argument */}
          <button onClick={() => handleDelete(item)}>
            Delete
          </button>
          
          {/* Arrow function with event */}
          <button onClick={(e) => handleEdit(item, e)}>
            Edit
          </button>
          
          {/* Using bind (less common) */}
          <button onClick={handleDelete.bind(null, item)}>
            Delete (bind)
          </button>
        </li>
      ))}
    </ul>
  );
}

// Creating handlers in a loop
function TodoList({ todos, onToggle, onDelete }) {
  return (
    <ul>
      {todos.map(todo => (
        <li key={todo.id}>
          <input
            type="checkbox"
            checked={todo.done}
            onChange={() => onToggle(todo.id)}
          />
          {todo.text}
          <button onClick={() => onDelete(todo.id)}>
            Delete
          </button>
        </li>
      ))}
    </ul>
  );
}
\`\`\`

## Common Events

### Mouse Events
\`\`\`js
function MouseEvents() {
  return (
    <div
      onClick={(e) => console.log('Click', e.clientX, e.clientY)}
      onDoubleClick={(e) => console.log('Double click')}
      onMouseEnter={(e) => console.log('Mouse enter')}
      onMouseLeave={(e) => console.log('Mouse leave')}
      onMouseMove={(e) => console.log('Mouse move', e.clientX)}
      onMouseDown={(e) => console.log('Mouse down')}
      onMouseUp={(e) => console.log('Mouse up')}
      onContextMenu={(e) => {
        e.preventDefault(); // Prevent right-click menu
        console.log('Right click');
      }}
    >
      Hover and click me
    </div>
  );
}
\`\`\`

### Keyboard Events
\`\`\`js
function KeyboardEvents() {
  const handleKeyDown = (e) => {
    console.log('Key pressed:', e.key);
    console.log('Key code:', e.keyCode);
    
    // Check for specific keys
    if (e.key === 'Enter') {
      console.log('Enter pressed!');
    }
    
    if (e.key === 'Escape') {
      console.log('Escape pressed!');
    }
    
    // Check for modifier keys
    if (e.ctrlKey && e.key === 's') {
      e.preventDefault(); // Prevent browser save
      console.log('Ctrl+S pressed!');
    }
    
    if (e.shiftKey) {
      console.log('Shift is held down');
    }
  };
  
  return (
    <input
      type="text"
      onKeyDown={handleKeyDown}
      onKeyUp={(e) => console.log('Key up:', e.key)}
      onKeyPress={(e) => console.log('Key press:', e.key)} // Deprecated
      placeholder="Type something..."
    />
  );
}
\`\`\`

### Form Events
\`\`\`js
function FormEvents() {
  const [value, setValue] = useState('');
  
  const handleChange = (e) => {
    setValue(e.target.value);
  };
  
  const handleSubmit = (e) => {
    e.preventDefault(); // Prevent page reload
    console.log('Form submitted:', value);
  };
  
  return (
    <form onSubmit={handleSubmit}>
      <input
        value={value}
        onChange={handleChange}
        onFocus={(e) => console.log('Input focused')}
        onBlur={(e) => console.log('Input blurred')}
      />
      
      <select onChange={(e) => console.log('Selected:', e.target.value)}>
        <option value="a">Option A</option>
        <option value="b">Option B</option>
      </select>
      
      <textarea
        onChange={(e) => console.log('Textarea:', e.target.value)}
        onInput={(e) => console.log('Input event')}
      />
      
      <button type="submit">Submit</button>
      <button type="reset" onReset={() => console.log('Form reset')}>
        Reset
      </button>
    </form>
  );
}
\`\`\`

### Focus Events
\`\`\`js
function FocusEvents() {
  return (
    <div
      onFocus={(e) => console.log('Focus in container')}
      onBlur={(e) => console.log('Blur in container')}
    >
      <input
        onFocus={(e) => {
          console.log('Input focused');
          e.target.style.borderColor = 'blue';
        }}
        onBlur={(e) => {
          console.log('Input blurred');
          e.target.style.borderColor = '';
        }}
      />
    </div>
  );
}
\`\`\`

### Drag Events
\`\`\`js
function DragEvents() {
  const [dragging, setDragging] = useState(false);
  
  const handleDragStart = (e) => {
    setDragging(true);
    e.dataTransfer.setData('text/plain', e.target.id);
  };
  
  const handleDragOver = (e) => {
    e.preventDefault(); // Required to allow drop
  };
  
  const handleDrop = (e) => {
    e.preventDefault();
    const data = e.dataTransfer.getData('text/plain');
    console.log('Dropped item:', data);
    setDragging(false);
  };
  
  return (
    <div>
      <div
        id="draggable"
        draggable
        onDragStart={handleDragStart}
        onDragEnd={() => setDragging(false)}
        style={{ 
          opacity: dragging ? 0.5 : 1,
          cursor: 'grab'
        }}
      >
        Drag me
      </div>
      
      <div
        onDragOver={handleDragOver}
        onDrop={handleDrop}
        onDragEnter={(e) => e.target.style.background = '#eee'}
        onDragLeave={(e) => e.target.style.background = ''}
        style={{ 
          border: '2px dashed gray',
          padding: '20px',
          marginTop: '20px'
        }}
      >
        Drop here
      </div>
    </div>
  );
}
\`\`\`

## Preventing Default Behavior

\`\`\`js
function PreventDefault() {
  const handleSubmit = (e) => {
    e.preventDefault(); // Prevent form submission
    console.log('Form handled by JavaScript');
  };
  
  const handleLinkClick = (e) => {
    e.preventDefault(); // Prevent navigation
    console.log('Link click handled');
  };
  
  const handleContextMenu = (e) => {
    e.preventDefault(); // Prevent right-click menu
    console.log('Custom context menu');
  };
  
  return (
    <div>
      <form onSubmit={handleSubmit}>
        <button type="submit">Submit</button>
      </form>
      
      <a href="https://google.com" onClick={handleLinkClick}>
        Click me (won't navigate)
      </a>
      
      <div onContextMenu={handleContextMenu}>
        Right-click me
      </div>
    </div>
  );
}
\`\`\`

## Stopping Event Propagation

\`\`\`js
function EventPropagation() {
  const handleOuterClick = () => {
    console.log('Outer div clicked');
  };
  
  const handleInnerClick = (e) => {
    e.stopPropagation(); // Prevents event from bubbling up
    console.log('Inner button clicked');
  };
  
  return (
    <div onClick={handleOuterClick} style={{ padding: '20px', background: '#eee' }}>
      <p>Click anywhere in this box</p>
      
      {/* Without stopPropagation, clicking button would also trigger outer click */}
      <button onClick={handleInnerClick}>
        Click me (won't trigger outer)
      </button>
      
      {/* This WILL trigger outer click */}
      <button onClick={() => console.log('Regular button')}>
        Regular button
      </button>
    </div>
  );
}
\`\`\`

## Event Object Properties

\`\`\`js
function EventProperties() {
  const handleClick = (e) => {
    // Target properties
    console.log('target:', e.target);              // Element that triggered event
    console.log('currentTarget:', e.currentTarget); // Element with handler
    console.log('type:', e.type);                  // Event type ('click')
    
    // Mouse position
    console.log('clientX:', e.clientX);  // X relative to viewport
    console.log('clientY:', e.clientY);  // Y relative to viewport
    console.log('pageX:', e.pageX);      // X relative to document
    console.log('pageY:', e.pageY);      // Y relative to document
    console.log('screenX:', e.screenX);  // X relative to screen
    console.log('screenY:', e.screenY);  // Y relative to screen
    
    // Modifier keys
    console.log('ctrlKey:', e.ctrlKey);
    console.log('shiftKey:', e.shiftKey);
    console.log('altKey:', e.altKey);
    console.log('metaKey:', e.metaKey);  // Cmd on Mac
    
    // Mouse button
    console.log('button:', e.button);  // 0=left, 1=middle, 2=right
    
    // Timestamps
    console.log('timeStamp:', e.timeStamp);
    
    // Prevent and stop
    // e.preventDefault();
    // e.stopPropagation();
  };
  
  return <button onClick={handleClick}>Click for event info</button>;
}
\`\`\`

## Synthetic Events
React wraps native events in SyntheticEvent for cross-browser compatibility.

\`\`\`js
function SyntheticEventExample() {
  const handleClick = (e) => {
    // SyntheticEvent
    console.log('Synthetic event:', e);
    
    // Access native event if needed
    console.log('Native event:', e.nativeEvent);
    
    // Event pooling note: In React 17+, events are not pooled
    // You can access event properties asynchronously
    setTimeout(() => {
      console.log('Event type (async):', e.type); // Works in React 17+
    }, 100);
    
    // If you need to use the event asynchronously in React <17:
    // e.persist(); // Not needed in React 17+
  };
  
  return <button onClick={handleClick}>Click me</button>;
}
\`\`\`

## Event Handler Best Practices

\`\`\`js
function BestPractices() {
  const [items, setItems] = useState(['a', 'b', 'c']);
  
  //  Define handlers outside JSX for reuse and testing
  const handleItemClick = (item) => {
    console.log('Clicked:', item);
  };
  
  //  Use useCallback for handlers passed to memoized children
  const handleDelete = useCallback((id) => {
    setItems(prev => prev.filter(item => item !== id));
  }, []);
  
  //  Name handlers clearly with 'handle' prefix
  const handleSubmit = () => { /* ... */ };
  const handleInputChange = () => { /* ... */ };
  const handleModalClose = () => { /* ... */ };
  
  return (
    <div>
      {/*  Pass function reference, not call result */}
      <button onClick={handleSubmit}>Submit</button>
      
      {/*  This calls function immediately */}
      {/* <button onClick={handleSubmit()}>Submit</button> */}
      
      {/*  Use arrow function when passing arguments */}
      {items.map(item => (
        <button 
          key={item}
          onClick={() => handleItemClick(item)}
        >
          {item}
        </button>
      ))}
    </div>
  );
}
\`\`\`

## Key Takeaways
- React events use camelCase (onClick, onChange, onSubmit)
- Pass function references, not function calls
- Use arrow functions to pass arguments to handlers
- Use e.preventDefault() to prevent default browser behavior
- Use e.stopPropagation() to prevent event bubbling
- React uses SyntheticEvents for cross-browser compatibility
- Define handlers outside JSX for cleaner code
- Name handlers clearly with "handle" prefix`,language:"javascript"},{id:"conditional-rendering",title:"Conditional Rendering",content:`# Conditional Rendering

## Overview
Conditional rendering in React lets you render different elements or components based on conditions. It works the same way as JavaScript conditions.

## Using if Statements

\`\`\`js
function Greeting({ isLoggedIn }) {
  // Early return pattern
  if (!isLoggedIn) {
    return <h1>Please log in</h1>;
  }
  
  return <h1>Welcome back!</h1>;
}

// Multiple conditions
function Dashboard({ user, isLoading, error }) {
  if (isLoading) {
    return <LoadingSpinner />;
  }
  
  if (error) {
    return <ErrorMessage message={error} />;
  }
  
  if (!user) {
    return <LoginPrompt />;
  }
  
  return <UserDashboard user={user} />;
}
\`\`\`

## Ternary Operator

\`\`\`js
function Greeting({ isLoggedIn }) {
  return (
    <div>
      {isLoggedIn ? (
        <h1>Welcome back!</h1>
      ) : (
        <h1>Please log in</h1>
      )}
    </div>
  );
}

// Inline ternary
function StatusBadge({ status }) {
  return (
    <span className={status === 'active' ? 'badge-green' : 'badge-red'}>
      {status === 'active' ? 'Active' : 'Inactive'}
    </span>
  );
}

// Nested ternary (use sparingly)
function UserRole({ role }) {
  return (
    <span>
      {role === 'admin' 
        ? 'Administrator' 
        : role === 'editor' 
          ? 'Editor' 
          : 'User'}
    </span>
  );
}

// Better alternative for multiple conditions
function UserRole({ role }) {
  const roleLabels = {
    admin: 'Administrator',
    editor: 'Editor',
    user: 'User'
  };
  
  return <span>{roleLabels[role] || 'Unknown'}</span>;
}
\`\`\`

## Logical AND (&&) Operator

\`\`\`js
function Notifications({ messages }) {
  return (
    <div>
      <h1>Dashboard</h1>
      
      {/* Renders only if condition is true */}
      {messages.length > 0 && (
        <NotificationBadge count={messages.length} />
      )}
      
      {/* Multiple conditions */}
      {isLoggedIn && isAdmin && (
        <AdminPanel />
      )}
      
      {/* Short message */}
      {hasError && <p className="error">Something went wrong</p>}
    </div>
  );
}

//  GOTCHA: 0 will render!
function ItemCount({ count }) {
  return (
    <div>
      {/*  If count is 0, it renders "0" */}
      {count && <span>{count} items</span>}
      
      {/*  Explicit boolean conversion */}
      {count > 0 && <span>{count} items</span>}
      
      {/*  Or use ternary */}
      {count ? <span>{count} items</span> : null}
    </div>
  );
}
\`\`\`

## Logical OR (||) Operator

\`\`\`js
function UserGreeting({ name }) {
  return (
    <div>
      {/* Shows fallback if name is falsy */}
      <h1>Hello, {name || 'Guest'}</h1>
    </div>
  );
}

// For null/undefined only, use nullish coalescing
function UserGreeting({ name }) {
  return (
    <div>
      {/* Only uses fallback for null/undefined */}
      <h1>Hello, {name ?? 'Guest'}</h1>
    </div>
  );
}
\`\`\`

## Null to Render Nothing

\`\`\`js
function WarningMessage({ warning }) {
  // Return null to render nothing
  if (!warning) {
    return null;
  }
  
  return <div className="warning">{warning}</div>;
}

// Using ternary
function Tooltip({ show, text }) {
  return show ? <div className="tooltip">{text}</div> : null;
}
\`\`\`

## Switch Statement Pattern

\`\`\`js
function StatusMessage({ status }) {
  // Using switch with component mapping
  const renderContent = () => {
    switch (status) {
      case 'loading':
        return <LoadingSpinner />;
      case 'success':
        return <SuccessMessage />;
      case 'error':
        return <ErrorMessage />;
      default:
        return <DefaultMessage />;
    }
  };
  
  return <div className="status">{renderContent()}</div>;
}

// Object mapping (often cleaner)
function StatusMessage({ status }) {
  const statusComponents = {
    loading: <LoadingSpinner />,
    success: <SuccessMessage />,
    error: <ErrorMessage />
  };
  
  return (
    <div className="status">
      {statusComponents[status] || <DefaultMessage />}
    </div>
  );
}

// With component references
function PageContent({ page }) {
  const pages = {
    home: HomePage,
    about: AboutPage,
    contact: ContactPage
  };
  
  const PageComponent = pages[page] || NotFoundPage;
  
  return <PageComponent />;
}
\`\`\`

## Conditional Attributes and Styles

\`\`\`js
function Button({ isDisabled, isLoading, isPrimary }) {
  return (
    <button
      // Conditional attribute
      disabled={isDisabled || isLoading}
      
      // Conditional className
      className={isPrimary ? 'btn btn-primary' : 'btn btn-secondary'}
      
      // Multiple conditional classes
      className={[
        'btn',
        isPrimary && 'btn-primary',
        isLoading && 'btn-loading',
        isDisabled && 'btn-disabled'
      ].filter(Boolean).join(' ')}
      
      // Conditional style
      style={{
        opacity: isDisabled ? 0.5 : 1,
        cursor: isDisabled ? 'not-allowed' : 'pointer'
      }}
    >
      {isLoading ? 'Loading...' : 'Submit'}
    </button>
  );
}

// Using a classnames utility (like 'classnames' package)
import cn from 'classnames';

function Button({ isPrimary, isLoading, isDisabled }) {
  return (
    <button
      className={cn('btn', {
        'btn-primary': isPrimary,
        'btn-loading': isLoading,
        'btn-disabled': isDisabled
      })}
    >
      Submit
    </button>
  );
}
\`\`\`

## Conditional Rendering with Lists

\`\`\`js
function TodoList({ todos, filter }) {
  // Filter items based on condition
  const filteredTodos = todos.filter(todo => {
    if (filter === 'all') return true;
    if (filter === 'active') return !todo.completed;
    if (filter === 'completed') return todo.completed;
    return true;
  });
  
  return (
    <div>
      {/* Show message if empty */}
      {filteredTodos.length === 0 ? (
        <p>No items to display</p>
      ) : (
        <ul>
          {filteredTodos.map(todo => (
            <li key={todo.id}>
              {todo.text}
              {/* Conditional rendering within list items */}
              {todo.completed && <span></span>}
            </li>
          ))}
        </ul>
      )}
    </div>
  );
}
\`\`\`

## Render Props Pattern for Conditional Rendering

\`\`\`js
// Reusable conditional component
function If({ condition, children, fallback = null }) {
  return condition ? children : fallback;
}

function App() {
  const [isLoggedIn, setIsLoggedIn] = useState(false);
  
  return (
    <div>
      <If condition={isLoggedIn} fallback={<LoginButton />}>
        <UserProfile />
        <LogoutButton />
      </If>
    </div>
  );
}

// Show/Hide component
function Show({ when, children }) {
  return when ? children : null;
}

function App() {
  const [showDetails, setShowDetails] = useState(false);
  
  return (
    <div>
      <button onClick={() => setShowDetails(!showDetails)}>
        Toggle Details
      </button>
      <Show when={showDetails}>
        <Details />
      </Show>
    </div>
  );
}
\`\`\`

## Preventing Component Rendering

\`\`\`js
function Parent({ shouldRender }) {
  return (
    <div>
      {/* Component won't be created if condition is false */}
      {shouldRender && <ExpensiveComponent />}
    </div>
  );
}

// Using CSS to hide (component still exists in DOM)
function VisibilityToggle({ isVisible, children }) {
  return (
    <div style={{ display: isVisible ? 'block' : 'none' }}>
      {children}
    </div>
  );
}

// Difference:
// - Conditional rendering: Component unmounts, state is lost
// - CSS hiding: Component stays mounted, state is preserved
\`\`\`

## Common Patterns

\`\`\`js
// Loading, Error, Data pattern
function DataDisplay({ data, isLoading, error }) {
  if (isLoading) return <Spinner />;
  if (error) return <Error message={error} />;
  if (!data) return <Empty />;
  
  return <DataContent data={data} />;
}

// Authentication guard
function ProtectedRoute({ isAuthenticated, children }) {
  if (!isAuthenticated) {
    return <Navigate to="/login" />;
  }
  return children;
}

// Feature flag
function Feature({ name, children }) {
  const features = useFeatureFlags();
  
  if (!features[name]) {
    return null;
  }
  
  return children;
}
\`\`\`

## Key Takeaways
- Use if/else for complex conditions or early returns
- Use ternary operator for inline if-else
- Use && for rendering something or nothing
- Be careful with && and falsy values like 0
- Return null to render nothing
- Use object mapping instead of long switch statements
- Consider readability when choosing a pattern
- Remember that conditional rendering unmounts components`,language:"javascript"}]}],S1=[{id:"js-basics",title:"JavaScript Basics",description:"Learn the fundamentals of JavaScript including variables, data types, and operators.",difficulty:"beginner",duration:"2 hours",topics:["Variables","Data Types","Operators","Type Coercion"],lessons:[{id:"js-variables",title:"Variables in JavaScript",content:`# Variables in JavaScript

Variables are containers for storing data values. In JavaScript, we have three ways to declare variables:

## var (Legacy)
The oldest way to declare variables. Has function scope and can be redeclared.

## let (Modern)
Block-scoped variable that can be reassigned but not redeclared in the same scope.

## const (Modern)
Block-scoped variable that cannot be reassigned. Must be initialized when declared.

### Best Practices
- Use \`const\` by default
- Use \`let\` when you need to reassign
- Avoid \`var\` in modern code`,codeExample:`// Using var (avoid in modern code)
var oldWay = "I can be redeclared";
var oldWay = "See?";

// Using let (for values that change)
let counter = 0;
counter = 1;
console.log("let counter:", counter);

// Using const (for values that don't change)
const PI = 3.14159;
console.log("const PI:", PI);

const user = { name: "John" };
user.name = "Jane"; // Can modify properties
console.log("const object:", user);`,language:"javascript"},{id:"js-data-types",title:"Data Types",content:`# Data Types in JavaScript

JavaScript has 8 data types divided into two categories:

## Primitive Types (7)
1. **String** - Text data
2. **Number** - Integers and floats
3. **BigInt** - Large integers
4. **Boolean** - true/false
5. **undefined** - Uninitialized variable
6. **null** - Intentional empty value
7. **Symbol** - Unique identifier

## Reference Type (1)
- **Object** - Collections of data`,codeExample:`// Primitive Types
const str = "Hello World";
const num = 42;
const bool = true;
let undef;
const empty = null;

// Type checking
console.log("String:", typeof str);
console.log("Number:", typeof num);
console.log("Boolean:", typeof bool);
console.log("Undefined:", typeof undef);
console.log("Null:", typeof empty);

// Reference Types
const obj = { name: "John", age: 30 };
const arr = [1, 2, 3, 4, 5];

console.log("Object:", typeof obj);
console.log("Array:", Array.isArray(arr));`,language:"javascript"},{id:"js-operators",title:"Operators",content:`# Operators in JavaScript

## Arithmetic Operators
Used for mathematical operations: +, -, *, /, %, **

## Comparison Operators
Used to compare values. Always prefer === over ==.

## Logical Operators
Used to combine boolean expressions: &&, ||, !`,codeExample:`// Arithmetic Operators
console.log("5 + 3 =", 5 + 3);
console.log("10 - 4 =", 10 - 4);
console.log("4 * 3 =", 4 * 3);
console.log("15 / 3 =", 15 / 3);
console.log("17 % 5 =", 17 % 5);
console.log("2 ** 3 =", 2 ** 3);

// Comparison Operators
console.log("\\n5 == '5':", 5 == '5');
console.log("5 === '5':", 5 === '5');
console.log("10 > 5:", 10 > 5);

// Logical Operators
console.log("\\ntrue && false:", true && false);
console.log("true || false:", true || false);
console.log("!true:", !true);`,language:"javascript"},{id:"js-type-coercion",title:"Type Coercion",content:`# Type Coercion in JavaScript

Type coercion is the automatic conversion of values from one type to another.

## Implicit Coercion
JavaScript automatically converts types when needed.

## Explicit Coercion
Manual conversion using built-in functions.

## Truthy and Falsy Values
Values that evaluate to true or false in boolean context.

### Falsy Values
- false, 0, -0, 0n, "", null, undefined, NaN

### Truthy Values
- Everything else (including [], {}, "0")`,codeExample:`// Implicit Coercion
console.log("5" + 3);        // "53" (string)
console.log("5" - 3);        // 2 (number)
console.log("5" * "2");      // 10 (number)
console.log(true + 1);       // 2

// Explicit Coercion
console.log(Number("42"));   // 42
console.log(String(42));     // "42"
console.log(Boolean(1));     // true
console.log(parseInt("42px")); // 42
console.log(parseFloat("3.14")); // 3.14

// Truthy and Falsy
console.log("\\nFalsy values:");
console.log(Boolean(0));       // false
console.log(Boolean(""));      // false
console.log(Boolean(null));    // false
console.log(Boolean(undefined)); // false

console.log("\\nTruthy values:");
console.log(Boolean([]));      // true
console.log(Boolean({}));      // true
console.log(Boolean("0"));     // true`,language:"javascript"}]},{id:"js-control-flow",title:"Control Flow",description:"Master conditional statements, loops, and control structures.",difficulty:"beginner",duration:"2 hours",topics:["If/Else","Switch","For Loops","While Loops","Loop Control"],lessons:[{id:"js-conditionals",title:"Conditional Statements",content:`# Conditional Statements

Control the flow of your program based on conditions.

## if...else
Execute code blocks based on conditions.

## Ternary Operator
Shorthand for simple if...else statements.

## Nullish Coalescing (??)
Returns right operand when left is null/undefined.

## Optional Chaining (?.)
Safely access nested properties.`,codeExample:`// if...else
const age = 18;

if (age < 13) {
  console.log("Child");
} else if (age < 20) {
  console.log("Teenager");
} else {
  console.log("Adult");
}

// Ternary Operator
const status = age >= 18 ? "Adult" : "Minor";
console.log("Status:", status);

// Nullish Coalescing
const username = null;
const displayName = username ?? "Guest";
console.log("Display name:", displayName);

// Optional Chaining
const user = { profile: { name: "John" } };
console.log(user?.profile?.name);  // "John"
console.log(user?.settings?.theme); // undefined (no error)

// Short-circuit Evaluation
const isLoggedIn = true;
isLoggedIn && console.log("Welcome back!");

const defaultValue = "" || "fallback";
console.log("Default:", defaultValue);`,language:"javascript"},{id:"js-switch",title:"Switch Statement",content:`# Switch Statement

Execute different code blocks based on different cases.

## Key Points
- Uses strict equality (===)
- Break prevents fall-through
- Default handles no match
- Can group cases together`,codeExample:`// Basic Switch
const day = new Date().getDay();
let dayName;

switch (day) {
  case 0:
    dayName = "Sunday";
    break;
  case 1:
    dayName = "Monday";
    break;
  case 2:
    dayName = "Tuesday";
    break;
  case 3:
    dayName = "Wednesday";
    break;
  case 4:
    dayName = "Thursday";
    break;
  case 5:
    dayName = "Friday";
    break;
  case 6:
    dayName = "Saturday";
    break;
  default:
    dayName = "Unknown";
}

console.log("Today is:", dayName);

// Grouped Cases
const grade = "B";
switch (grade) {
  case "A":
  case "B":
    console.log("Great job!");
    break;
  case "C":
    console.log("Good effort!");
    break;
  case "D":
  case "F":
    console.log("Needs improvement");
    break;
  default:
    console.log("Invalid grade");
}`,language:"javascript"},{id:"js-for-loops",title:"For Loops",content:`# For Loops

Repeat code a specific number of times.

## Types of For Loops
- **for** - Classic loop with counter
- **for...of** - Iterate over iterable values
- **for...in** - Iterate over object keys
- **forEach** - Array method for iteration`,codeExample:`// Classic for loop
console.log("Classic for loop:");
for (let i = 0; i < 5; i++) {
  console.log("Iteration:", i);
}

// for...of (arrays, strings, etc.)
const fruits = ["apple", "banana", "cherry"];
console.log("\\nfor...of loop:");
for (const fruit of fruits) {
  console.log("Fruit:", fruit);
}

// for...in (object properties)
const person = { name: "John", age: 30, city: "NYC" };
console.log("\\nfor...in loop:");
for (const key in person) {
  console.log(\`\${key}: \${person[key]}\`);
}

// forEach method
console.log("\\nforEach method:");
fruits.forEach((fruit, index) => {
  console.log(\`\${index}: \${fruit}\`);
});

// Iterating with entries
console.log("\\nWith entries:");
for (const [index, fruit] of fruits.entries()) {
  console.log(\`\${index}: \${fruit}\`);
}`,language:"javascript"},{id:"js-while-loops",title:"While Loops",content:`# While Loops

Repeat code while a condition is true.

## while
Checks condition before each iteration.

## do...while
Executes at least once, then checks condition.

## Use Cases
- Unknown number of iterations
- Reading data until complete
- Game loops`,codeExample:`// while loop
console.log("while loop:");
let count = 0;
while (count < 5) {
  console.log("Count:", count);
  count++;
}

// do...while loop
console.log("\\ndo...while loop:");
let num = 0;
do {
  console.log("Number:", num);
  num++;
} while (num < 3);

// Difference: do...while runs at least once
console.log("\\nDifference demo:");
let x = 10;
do {
  console.log("This runs once even though x > 5");
} while (x < 5);

// Practical example: Random number game
console.log("\\nNumber guessing simulation:");
let target = 7;
let guess = 0;
let attempts = 0;

while (guess !== target) {
  guess = Math.floor(Math.random() * 10) + 1;
  attempts++;
  console.log(\`Attempt \${attempts}: Guessed \${guess}\`);
  if (attempts > 10) break; // Safety limit
}
console.log(\`Found \${target} in \${attempts} attempts!\`);`,language:"javascript"},{id:"js-loop-control",title:"Loop Control",content:`# Loop Control Statements

Control the flow within loops.

## break
Exit the loop immediately.

## continue
Skip current iteration, continue to next.

## Labels
Name loops for nested loop control.`,codeExample:`// break - Exit loop early
console.log("break example:");
for (let i = 0; i < 10; i++) {
  if (i === 5) break;
  console.log(i);
}

// continue - Skip iteration
console.log("\\ncontinue example (skip evens):");
for (let i = 0; i < 10; i++) {
  if (i % 2 === 0) continue;
  console.log(i);
}

// Labeled statements for nested loops
console.log("\\nLabeled break:");
outerLoop: for (let i = 0; i < 3; i++) {
  for (let j = 0; j < 3; j++) {
    if (i === 1 && j === 1) {
      console.log("Breaking outer loop");
      break outerLoop;
    }
    console.log(\`i=\${i}, j=\${j}\`);
  }
}

// Finding element in 2D array
console.log("\\nSearch in 2D array:");
const matrix = [
  [1, 2, 3],
  [4, 5, 6],
  [7, 8, 9]
];

const target = 5;
let found = false;

search: for (let row = 0; row < matrix.length; row++) {
  for (let col = 0; col < matrix[row].length; col++) {
    if (matrix[row][col] === target) {
      console.log(\`Found \${target} at [\${row}][\${col}]\`);
      found = true;
      break search;
    }
  }
}`,language:"javascript"}]},{id:"js-strings",title:"Strings & String Methods",description:"Master string manipulation and template literals.",difficulty:"beginner",duration:"2 hours",topics:["String Creation","String Methods","Template Literals","Regular Expressions Basics"],lessons:[{id:"js-string-basics",title:"String Basics",content:`# Strings in JavaScript

Strings are sequences of characters used to represent text.

## Creating Strings
- Single quotes: 'Hello'
- Double quotes: "Hello"
- Backticks: \`Hello\` (template literals)

## String Properties
- Strings are immutable
- Have a length property
- Can be accessed by index`,codeExample:`// Creating strings
const single = 'Hello';
const double = "World";
const backtick = \`Hello World\`;

// String length
console.log("Length:", single.length);

// Accessing characters
const str = "JavaScript";
console.log("First char:", str[0]);
console.log("Last char:", str[str.length - 1]);
console.log("charAt(4):", str.charAt(4));

// Strings are immutable
let greeting = "Hello";
greeting[0] = "J"; // This doesn't work
console.log(greeting); // Still "Hello"

// String comparison
console.log("\\nString comparison:");
console.log("'a' < 'b':", 'a' < 'b');
console.log("'A' < 'a':", 'A' < 'a');
console.log("'10' < '9':", '10' < '9'); // String comparison!

// Unicode
console.log("\\nUnicode:");
console.log("Char code of 'A':", "A".charCodeAt(0));
console.log("From char code 65:", String.fromCharCode(65));`,language:"javascript"},{id:"js-string-methods",title:"String Methods",content:`# Essential String Methods

## Search Methods
- indexOf, lastIndexOf, includes, startsWith, endsWith

## Extraction Methods
- slice, substring, substr (deprecated)

## Transformation Methods
- toUpperCase, toLowerCase, trim, replace, split`,codeExample:`const text = "  Hello, JavaScript World!  ";

// Search methods
console.log("includes('Java'):", text.includes("Java"));
console.log("startsWith('  Hello'):", text.startsWith("  Hello"));
console.log("endsWith('!  '):", text.endsWith("!  "));
console.log("indexOf('o'):", text.indexOf("o"));
console.log("lastIndexOf('o'):", text.lastIndexOf("o"));

// Extraction methods
console.log("\\nslice(2, 7):", text.slice(2, 7));
console.log("slice(-8, -2):", text.slice(-8, -2));
console.log("substring(2, 7):", text.substring(2, 7));

// Transformation methods
console.log("\\ntoUpperCase:", text.toUpperCase());
console.log("toLowerCase:", text.toLowerCase());
console.log("trim:", text.trim());
console.log("trimStart:", text.trimStart());
console.log("trimEnd:", text.trimEnd());

// Replace
console.log("\\nreplace:", text.replace("World", "Universe"));
console.log("replaceAll:", "a-b-c".replaceAll("-", "_"));

// Split and Join
const words = text.trim().split(" ");
console.log("\\nsplit:", words);
console.log("join:", words.join("-"));

// Padding
console.log("\\npadStart:", "5".padStart(3, "0"));
console.log("padEnd:", "5".padEnd(3, "0"));

// Repeat
console.log("repeat:", "Ha".repeat(3));`,language:"javascript"},{id:"js-template-literals",title:"Template Literals",content:`# Template Literals

Modern way to work with strings using backticks.

## Features
- String interpolation with \${expression}
- Multi-line strings
- Tagged templates for advanced processing`,codeExample:`// String Interpolation
const name = "Alice";
const age = 25;

console.log(\`Hello, \${name}! You are \${age} years old.\`);
console.log(\`Next year you'll be \${age + 1}.\`);

// Multi-line strings
const poem = \`
  Roses are red,
  Violets are blue,
  JavaScript is awesome,
  And so are you!
\`;
console.log(poem);

// Expression interpolation
const items = ["apple", "banana", "cherry"];
console.log(\`Items: \${items.join(", ")}\`);
console.log(\`Random: \${Math.floor(Math.random() * 100)}\`);

// Nested templates
const data = { user: { name: "Bob", role: "Admin" } };
console.log(\`User: \${data.user.name} (\${data.user.role})\`);

// Tagged template literals
function highlight(strings, ...values) {
  return strings.reduce((result, str, i) => {
    const value = values[i] ? \`**\${values[i]}**\` : '';
    return result + str + value;
  }, '');
}

const product = "laptop";
const price = 999;
console.log(highlight\`The \${product} costs $\${price}.\`);

// HTML template
const createCard = (title, content) => \`
  <div class="card">
    <h2>\${title}</h2>
    <p>\${content}</p>
  </div>
\`;

console.log(createCard("Welcome", "Hello World"));`,language:"javascript"}]},{id:"js-functions",title:"Functions & Scope",description:"Master functions, closures, and understand how scope works in JavaScript.",difficulty:"beginner",duration:"3 hours",topics:["Function Declaration","Arrow Functions","Closures","Scope Chain"],lessons:[{id:"js-function-basics",title:"Function Basics",content:`# Functions in JavaScript

Functions are reusable blocks of code.

## Function Declaration
Traditional way, hoisted to the top.

## Function Expression
Stored in a variable, not hoisted.

## Arrow Functions
Concise syntax with lexical this binding.`,codeExample:`// Function Declaration
function greet(name) {
  return "Hello, " + name + "!";
}

// Function Expression
const sayGoodbye = function(name) {
  return "Goodbye, " + name + "!";
};

// Arrow Function
const add = (a, b) => a + b;

// Default Parameters
const welcome = (name = "Guest") => \`Welcome, \${name}!\`;

// Rest Parameters
const sum = (...numbers) => numbers.reduce((a, b) => a + b, 0);

console.log(greet("Alice"));
console.log(sayGoodbye("Bob"));
console.log("2 + 3 =", add(2, 3));
console.log(welcome());
console.log("Sum 1-5:", sum(1, 2, 3, 4, 5));`,language:"javascript"},{id:"js-closures",title:"Closures",content:`# Closures in JavaScript

A closure is a function that remembers variables from its outer scope.

## Key Concepts
1. Functions create new scopes
2. Inner functions access outer variables
3. The connection persists after outer function returns`,codeExample:`// Basic Closure
function outer() {
  const message = "Hello from outer!";
  return function inner() {
    console.log(message);
  };
}

const myFunc = outer();
myFunc();

// Private Variables with Closure
function createCounter() {
  let count = 0;
  return {
    increment: () => ++count,
    decrement: () => --count,
    getCount: () => count
  };
}

const counter = createCounter();
console.log("Increment:", counter.increment());
console.log("Increment:", counter.increment());
console.log("Decrement:", counter.decrement());
console.log("Count:", counter.getCount());`,language:"javascript"},{id:"js-scope",title:"Scope & Hoisting",content:`# Scope in JavaScript

Scope determines the accessibility of variables.

## Types of Scope
- **Global Scope** - Accessible everywhere
- **Function Scope** - Accessible within function
- **Block Scope** - Accessible within {} (let/const)

## Hoisting
Variable and function declarations are moved to the top.`,codeExample:`// Global Scope
const globalVar = "I'm global";

function scopeDemo() {
  // Function Scope
  var functionVar = "I'm function-scoped";
  
  if (true) {
    // Block Scope
    let blockLet = "I'm block-scoped (let)";
    const blockConst = "I'm block-scoped (const)";
    var notBlockScoped = "I'm function-scoped (var)";
    
    console.log(blockLet);
    console.log(blockConst);
  }
  
  // console.log(blockLet); // Error!
  console.log(notBlockScoped); // Works
  console.log(functionVar);
}

scopeDemo();
console.log(globalVar);

// Hoisting
console.log("\\nHoisting Demo:");

// Function declarations are hoisted
hoistedFunc();
function hoistedFunc() {
  console.log("I'm hoisted!");
}

// var is hoisted (but not initialized)
console.log("hoistedVar:", hoistedVar); // undefined
var hoistedVar = "Now I have a value";

// let/const are NOT hoisted (temporal dead zone)
// console.log(notHoisted); // ReferenceError
let notHoisted = "I'm not hoisted";`,language:"javascript"},{id:"js-higher-order",title:"Higher-Order Functions",content:`# Higher-Order Functions

Functions that take or return other functions.

## Common Uses
- Callbacks
- Function factories
- Decorators/Wrappers
- Composition`,codeExample:`// Function as argument (callback)
function processArray(arr, callback) {
  const result = [];
  for (const item of arr) {
    result.push(callback(item));
  }
  return result;
}

const numbers = [1, 2, 3, 4, 5];
const doubled = processArray(numbers, n => n * 2);
console.log("Doubled:", doubled);

// Function returning function (factory)
function multiplier(factor) {
  return function(number) {
    return number * factor;
  };
}

const double = multiplier(2);
const triple = multiplier(3);
console.log("double(5):", double(5));
console.log("triple(5):", triple(5));

// Function wrapper (decorator)
function withLogging(fn) {
  return function(...args) {
    console.log(\`Calling with args: \${args}\`);
    const result = fn(...args);
    console.log(\`Result: \${result}\`);
    return result;
  };
}

const add = (a, b) => a + b;
const loggedAdd = withLogging(add);
loggedAdd(3, 4);

// Function composition
const compose = (...fns) => x => fns.reduceRight((acc, fn) => fn(acc), x);

const addOne = x => x + 1;
const square = x => x * x;
const composed = compose(square, addOne);
console.log("\\ncomposed(4):", composed(4)); // (4+1) = 25`,language:"javascript"},{id:"js-iife",title:"IIFE & Modules Pattern",content:`# IIFE - Immediately Invoked Function Expression

A function that runs as soon as it's defined.

## Use Cases
- Avoid polluting global scope
- Create private variables
- Module pattern (pre-ES6)`,codeExample:`// Basic IIFE
(function() {
  console.log("I run immediately!");
})();

// IIFE with parameters
(function(name) {
  console.log(\`Hello, \${name}!\`);
})("World");

// Arrow function IIFE
(() => {
  console.log("Arrow IIFE!");
})();

// Module Pattern
const Calculator = (function() {
  // Private variables
  let result = 0;
  
  // Private function
  function log(operation) {
    console.log(\`\${operation}: \${result}\`);
  }
  
  // Public interface
  return {
    add(n) {
      result += n;
      log("Add");
      return this;
    },
    subtract(n) {
      result -= n;
      log("Subtract");
      return this;
    },
    multiply(n) {
      result *= n;
      log("Multiply");
      return this;
    },
    getResult() {
      return result;
    },
    reset() {
      result = 0;
      log("Reset");
      return this;
    }
  };
})();

Calculator.add(10).multiply(2).subtract(5);
console.log("Final result:", Calculator.getResult());

// Revealing Module Pattern
const CounterModule = (function() {
  let count = 0;
  
  function increment() { count++; }
  function decrement() { count--; }
  function getCount() { return count; }
  
  return { increment, decrement, getCount };
})();

CounterModule.increment();
CounterModule.increment();
console.log("Counter:", CounterModule.getCount());`,language:"javascript"}]},{id:"js-arrays",title:"Arrays & Objects",description:"Deep dive into arrays, objects, and their built-in methods.",difficulty:"intermediate",duration:"4 hours",topics:["Array Methods","Object Methods","Destructuring","Spread Operator"],lessons:[{id:"js-array-methods",title:"Array Methods",content:`# Essential Array Methods

## Transformation Methods
- map() - Transform each element
- filter() - Keep elements that pass a test
- reduce() - Reduce to a single value

## Search Methods
- find() - Find first matching element
- includes() - Check if element exists`,codeExample:`const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// map - Transform each element
const doubled = numbers.map(n => n * 2);
console.log("Doubled:", doubled);

// filter - Keep elements that pass test
const evens = numbers.filter(n => n % 2 === 0);
console.log("Evens:", evens);

// reduce - Reduce to single value
const sum = numbers.reduce((acc, n) => acc + n, 0);
console.log("Sum:", sum);

// find - Find first match
const firstOver5 = numbers.find(n => n > 5);
console.log("First > 5:", firstOver5);

// Chaining methods
const result = numbers
  .filter(n => n % 2 === 0)
  .map(n => n * 3)
  .reduce((a, b) => a + b);
console.log("Chain result:", result);`,language:"javascript"},{id:"js-array-methods-advanced",title:"Advanced Array Methods",content:`# More Array Methods

## Iteration Methods
- forEach, every, some

## Transformation Methods  
- flat, flatMap, sort, reverse

## Search Methods
- findIndex, indexOf, lastIndexOf`,codeExample:`// every - Check if ALL pass test
const numbers = [2, 4, 6, 8, 10];
console.log("All even?", numbers.every(n => n % 2 === 0));

// some - Check if ANY pass test
console.log("Any > 5?", numbers.some(n => n > 5));

// findIndex - Find index of match
const users = [
  { id: 1, name: "John" },
  { id: 2, name: "Jane" },
  { id: 3, name: "Bob" }
];
const janeIndex = users.findIndex(u => u.name === "Jane");
console.log("Jane's index:", janeIndex);

// flat - Flatten nested arrays
const nested = [1, [2, 3], [4, [5, 6]]];
console.log("flat(1):", nested.flat(1));
console.log("flat(2):", nested.flat(2));

// flatMap - Map then flatten
const sentences = ["Hello World", "How are you"];
const words = sentences.flatMap(s => s.split(" "));
console.log("flatMap:", words);

// sort - Sort array (mutates!)
const names = ["Charlie", "Alice", "Bob"];
console.log("Sorted:", [...names].sort());

const nums = [10, 5, 8, 1, 7];
console.log("Sorted nums:", [...nums].sort((a, b) => a - b));

// reverse - Reverse array (mutates!)
console.log("Reversed:", [...nums].reverse());

// Array.from - Create array from iterable
console.log("Array.from:", Array.from("hello"));
console.log("Range:", Array.from({ length: 5 }, (_, i) => i + 1));

// Array.of - Create array from arguments
console.log("Array.of:", Array.of(1, 2, 3));`,language:"javascript"},{id:"js-array-manipulation",title:"Array Manipulation",content:`# Array Manipulation Methods

## Adding/Removing Elements
- push, pop, unshift, shift
- splice, slice

## Combining Arrays
- concat, spread operator

## Other Useful Methods
- join, fill, copyWithin`,codeExample:`// push/pop - Add/remove from end
const arr = [1, 2, 3];
arr.push(4);
console.log("After push:", arr);
const popped = arr.pop();
console.log("Popped:", popped, "Array:", arr);

// unshift/shift - Add/remove from start
arr.unshift(0);
console.log("After unshift:", arr);
const shifted = arr.shift();
console.log("Shifted:", shifted, "Array:", arr);

// splice - Add/remove at any position
const colors = ["red", "green", "blue"];
colors.splice(1, 1, "yellow", "purple");
console.log("After splice:", colors);

// slice - Extract portion (doesn't mutate)
const sliced = colors.slice(1, 3);
console.log("Sliced:", sliced);

// concat vs spread
const arr1 = [1, 2];
const arr2 = [3, 4];
console.log("concat:", arr1.concat(arr2));
console.log("spread:", [...arr1, ...arr2]);

// fill - Fill array with value
const filled = new Array(5).fill(0);
console.log("Filled:", filled);

// join - Convert to string
console.log("Joined:", colors.join(" | "));

// includes with fromIndex
const items = [1, 2, 3, 4, 5];
console.log("includes 3 from index 2:", items.includes(3, 2));

// at - Access with negative index
console.log("at(-1):", items.at(-1));
console.log("at(-2):", items.at(-2));`,language:"javascript"},{id:"js-object-basics",title:"Object Fundamentals",content:`# Objects in JavaScript

Objects store collections of key-value pairs.

## Creating Objects
- Object literal
- Constructor
- Object.create()

## Accessing Properties
- Dot notation
- Bracket notation`,codeExample:`// Creating Objects
const person = {
  firstName: "John",
  lastName: "Doe",
  age: 30,
  "favorite color": "blue",
  greet() {
    console.log(\`Hello, I'm \${this.firstName}\`);
  }
};

// Accessing properties
console.log("Dot:", person.firstName);
console.log("Bracket:", person["lastName"]);
console.log("Dynamic:", person["favorite color"]);

// Modifying properties
person.age = 31;
person.email = "john@example.com";
delete person["favorite color"];

console.log("Modified:", person);

// Method shorthand
const calculator = {
  value: 0,
  add(n) { this.value += n; return this; },
  subtract(n) { this.value -= n; return this; },
  multiply(n) { this.value *= n; return this; },
  result() { return this.value; }
};

console.log("Calc:", calculator.add(10).multiply(2).subtract(5).result());

// Computed property names
const propName = "dynamicKey";
const obj = {
  [propName]: "dynamic value",
  [\`computed_\${1 + 1}\`]: "computed"
};
console.log("Dynamic obj:", obj);

// Property shorthand
const name = "Alice";
const age = 25;
const user = { name, age };
console.log("Shorthand:", user);`,language:"javascript"},{id:"js-object-methods",title:"Object Methods",content:`# Object Static Methods

## Keys, Values, Entries
Get arrays of object data.

## Merging Objects
Combine objects with assign or spread.

## Property Descriptors
Control property behavior.`,codeExample:`const user = {
  name: "John",
  age: 30,
  city: "NYC"
};

// Object.keys, values, entries
console.log("Keys:", Object.keys(user));
console.log("Values:", Object.values(user));
console.log("Entries:", Object.entries(user));

// Iterating with entries
for (const [key, value] of Object.entries(user)) {
  console.log(\`\${key}: \${value}\`);
}

// Object.assign - Merge objects
const defaults = { theme: "dark", fontSize: 14 };
const userPrefs = { fontSize: 16 };
const merged = Object.assign({}, defaults, userPrefs);
console.log("\\nMerged:", merged);

// Spread operator (better!)
const merged2 = { ...defaults, ...userPrefs };
console.log("Spread merge:", merged2);

// Object.freeze - Prevent modifications
const frozen = Object.freeze({ x: 1 });
frozen.x = 2; // Silently fails
console.log("\\nFrozen:", frozen);

// Object.seal - Prevent add/delete
const sealed = Object.seal({ y: 1 });
sealed.y = 2; // This works
sealed.z = 3; // This doesn't
console.log("Sealed:", sealed);

// Check status
console.log("Is frozen?", Object.isFrozen(frozen));
console.log("Is sealed?", Object.isSealed(sealed));

// Object.fromEntries - Create object from entries
const entries = [["a", 1], ["b", 2], ["c", 3]];
const fromEntries = Object.fromEntries(entries);
console.log("\\nFrom entries:", fromEntries);`,language:"javascript"},{id:"js-destructuring",title:"Destructuring",content:`# Destructuring Assignment

Extract values from arrays and objects into variables.

## Array Destructuring
Extract by position.

## Object Destructuring
Extract by property name.

## Use Cases
- Swap variables
- Function parameters
- Module imports`,codeExample:`// Array Destructuring
const colors = ["red", "green", "blue", "yellow"];

const [first, second] = colors;
console.log("First two:", first, second);

// Skip elements
const [, , third] = colors;
console.log("Third:", third);

// Rest pattern
const [primary, ...rest] = colors;
console.log("Primary:", primary, "Rest:", rest);

// Default values
const [a, b, c, d, e = "purple"] = colors;
console.log("With default:", e);

// Swap variables
let x = 1, y = 2;
[x, y] = [y, x];
console.log("\\nSwapped:", x, y);

// Object Destructuring
const person = {
  name: "John",
  age: 30,
  city: "NYC",
  country: "USA"
};

const { name, age } = person;
console.log("\\nName and age:", name, age);

// Rename variables
const { name: personName, city: location } = person;
console.log("Renamed:", personName, location);

// Default values
const { phone = "N/A" } = person;
console.log("With default:", phone);

// Nested destructuring
const company = {
  name: "Tech Corp",
  address: {
    street: "123 Main St",
    city: "San Francisco"
  }
};

const { address: { city: companyCity } } = company;
console.log("\\nNested:", companyCity);

// Function parameters
function greet({ name, age = 0 }) {
  console.log(\`Hello \${name}, you are \${age}\`);
}
greet({ name: "Alice", age: 25 });`,language:"javascript"},{id:"js-spread-rest",title:"Spread & Rest Operators",content:`# Spread and Rest Operators

The ... syntax has two uses:

## Spread Operator
Expands an iterable into individual elements.

## Rest Operator
Collects multiple elements into an array.`,codeExample:`// Spread in Arrays
const arr1 = [1, 2, 3];
const arr2 = [4, 5, 6];

// Combine arrays
const combined = [...arr1, ...arr2];
console.log("Combined:", combined);

// Copy array (shallow)
const copy = [...arr1];
console.log("Copy:", copy);

// Insert in middle
const inserted = [0, ...arr1, 4];
console.log("Inserted:", inserted);

// Spread in Objects
const defaults = { theme: "dark", size: "medium" };
const custom = { size: "large", color: "blue" };

const merged = { ...defaults, ...custom };
console.log("\\nMerged:", merged);

// Copy with modification
const user = { name: "John", age: 30 };
const updated = { ...user, age: 31, email: "john@test.com" };
console.log("Updated:", updated);

// Spread in function calls
const numbers = [5, 2, 8, 1, 9];
console.log("\\nMax:", Math.max(...numbers));
console.log("Min:", Math.min(...numbers));

// Rest in function parameters
function sum(...nums) {
  return nums.reduce((a, b) => a + b, 0);
}
console.log("\\nSum:", sum(1, 2, 3, 4, 5));

// Rest with other parameters
function greet(greeting, ...names) {
  names.forEach(name => console.log(\`\${greeting}, \${name}!\`));
}
greet("Hello", "Alice", "Bob", "Charlie");

// Rest in destructuring
const [first, second, ...others] = [1, 2, 3, 4, 5];
console.log("\\nFirst:", first, "Others:", others);

const { a, ...remaining } = { a: 1, b: 2, c: 3 };
console.log("Remaining:", remaining);`,language:"javascript"}]},{id:"js-async",title:"Asynchronous JavaScript",description:"Learn callbacks, promises, and async/await patterns.",difficulty:"intermediate",duration:"4 hours",topics:["Callbacks","Promises","Async/Await","Error Handling"],lessons:[{id:"js-callbacks",title:"Callbacks",content:`# Callbacks in JavaScript

A callback is a function passed as an argument to another function.

## Synchronous Callbacks
Execute immediately (like array methods).

## Asynchronous Callbacks
Execute later (like setTimeout, event handlers).

## Callback Hell
Nested callbacks become hard to manage.`,codeExample:`// Synchronous callback
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map(function(n) {
  return n * 2;
});
console.log("Sync callback:", doubled);

// Asynchronous callback
console.log("\\n1. Starting...");

setTimeout(function() {
  console.log("3. Timeout callback executed!");
}, 1000);

console.log("2. Continuing...");

// Callback with error-first pattern
function fetchData(callback) {
  setTimeout(() => {
    const success = Math.random() > 0.3;
    if (success) {
      callback(null, { data: "Success!" });
    } else {
      callback(new Error("Failed to fetch"), null);
    }
  }, 500);
}

console.log("\\nFetching data...");
fetchData((error, result) => {
  if (error) {
    console.log("Error:", error.message);
  } else {
    console.log("Result:", result);
  }
});

// Callback Hell (avoid this!)
function step1(callback) {
  setTimeout(() => {
    console.log("\\nStep 1 complete");
    callback();
  }, 300);
}

function step2(callback) {
  setTimeout(() => {
    console.log("Step 2 complete");
    callback();
  }, 300);
}

function step3(callback) {
  setTimeout(() => {
    console.log("Step 3 complete");
    callback();
  }, 300);
}

// Nested callbacks
step1(() => {
  step2(() => {
    step3(() => {
      console.log("All steps complete!");
    });
  });
});`,language:"javascript"},{id:"js-promises",title:"Promises",content:`# Promises in JavaScript

A Promise represents the eventual completion or failure of an async operation.

## Promise States
1. Pending - Initial state
2. Fulfilled - Operation completed
3. Rejected - Operation failed`,codeExample:`// Creating a Promise
const fetchData = (success) => {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      if (success) {
        resolve({ data: "Success!" });
      } else {
        reject(new Error("Failed"));
      }
    }, 1000);
  });
};

console.log("Fetching data...");

fetchData(true)
  .then(data => console.log("Resolved:", data))
  .catch(err => console.log("Error:", err))
  .finally(() => console.log("Done!"));

// Promise.all
Promise.all([
  Promise.resolve(1),
  Promise.resolve(2),
  Promise.resolve(3)
]).then(values => console.log("All:", values));`,language:"javascript"},{id:"js-promise-methods",title:"Promise Static Methods",content:`# Promise Static Methods

## Promise.all
Wait for all promises to resolve.

## Promise.race
Return first settled promise.

## Promise.allSettled
Wait for all to settle (resolve or reject).

## Promise.any
Return first fulfilled promise.`,codeExample:`// Helper function
const delay = (ms, value, shouldFail = false) => {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      if (shouldFail) {
        reject(new Error(\`Failed: \${value}\`));
      } else {
        resolve(value);
      }
    }, ms);
  });
};

// Promise.all - All must succeed
console.log("Promise.all:");
Promise.all([
  delay(100, "First"),
  delay(200, "Second"),
  delay(150, "Third")
])
.then(results => console.log("All results:", results))
.catch(err => console.log("Error:", err.message));

// Promise.race - First to settle wins
console.log("\\nPromise.race:");
Promise.race([
  delay(100, "Fast"),
  delay(200, "Medium"),
  delay(300, "Slow")
])
.then(result => console.log("Race winner:", result));

// Promise.allSettled - Get all results
console.log("\\nPromise.allSettled:");
Promise.allSettled([
  delay(100, "Success 1"),
  delay(150, "Fail 1", true),
  delay(200, "Success 2")
])
.then(results => {
  results.forEach((result, i) => {
    if (result.status === "fulfilled") {
      console.log(\`\${i}: Fulfilled - \${result.value}\`);
    } else {
      console.log(\`\${i}: Rejected - \${result.reason.message}\`);
    }
  });
});

// Promise.any - First success wins
console.log("\\nPromise.any:");
Promise.any([
  delay(200, "Fail 1", true),
  delay(100, "Success"),
  delay(150, "Fail 2", true)
])
.then(result => console.log("Any result:", result))
.catch(err => console.log("All failed"));

// Promise.resolve and Promise.reject
const resolved = Promise.resolve("Already resolved");
const rejected = Promise.reject(new Error("Already rejected"));

resolved.then(v => console.log("\\n" + v));
rejected.catch(e => console.log(e.message));`,language:"javascript"},{id:"js-async-await",title:"Async/Await",content:`# Async/Await

Modern syntax for working with promises.

## async Functions
Always return a promise.

## await Keyword
Pause until promise settles.

## Error Handling
Use try/catch blocks.`,codeExample:`// Basic async/await
async function fetchUser(id) {
  // Simulate API call
  return new Promise(resolve => {
    setTimeout(() => {
      resolve({ id, name: \`User \${id}\` });
    }, 500);
  });
}

async function getUser() {
  console.log("Fetching user...");
  const user = await fetchUser(1);
  console.log("User:", user);
  return user;
}

getUser();

// Error handling with try/catch
async function fetchWithError() {
  return new Promise((_, reject) => {
    setTimeout(() => reject(new Error("Network error")), 500);
  });
}

async function handleErrors() {
  try {
    const result = await fetchWithError();
    console.log(result);
  } catch (error) {
    console.log("\\nCaught error:", error.message);
  } finally {
    console.log("Cleanup done");
  }
}

handleErrors();

// Sequential vs Parallel
async function sequential() {
  console.log("\\nSequential:");
  const start = Date.now();
  const user1 = await fetchUser(1);
  const user2 = await fetchUser(2);
  console.log("Time:", Date.now() - start, "ms");
  console.log("Users:", user1, user2);
}

async function parallel() {
  console.log("\\nParallel:");
  const start = Date.now();
  const [user1, user2] = await Promise.all([
    fetchUser(1),
    fetchUser(2)
  ]);
  console.log("Time:", Date.now() - start, "ms");
  console.log("Users:", user1, user2);
}

sequential().then(() => parallel());

// Async iteration
async function* asyncGenerator() {
  yield await Promise.resolve(1);
  yield await Promise.resolve(2);
  yield await Promise.resolve(3);
}

async function useAsyncGenerator() {
  console.log("\\nAsync iteration:");
  for await (const num of asyncGenerator()) {
    console.log("Value:", num);
  }
}

useAsyncGenerator();`,language:"javascript"},{id:"js-error-handling-async",title:"Async Error Handling",content:`# Error Handling in Async Code

## Patterns
- try/catch with async/await
- .catch() with promises
- Error boundaries
- Graceful degradation`,codeExample:`// Central error handler
function handleError(error, context) {
  console.error(\`[\${context}] \${error.message}\`);
  // In real app: log to service, show notification
}

// Wrapper for async functions
function asyncHandler(fn) {
  return async (...args) => {
    try {
      return await fn(...args);
    } catch (error) {
      handleError(error, fn.name);
      throw error; // Re-throw if needed
    }
  };
}

// Usage
const riskyOperation = asyncHandler(async function riskyOperation() {
  throw new Error("Something went wrong!");
});

riskyOperation().catch(() => console.log("Handled in catch"));

// Multiple operations with individual handling
async function fetchMultiple() {
  const results = await Promise.allSettled([
    fetch("https://api.example.com/users"),
    fetch("https://api.example.com/posts"),
    fetch("https://api.example.com/comments")
  ]);

  results.forEach((result, index) => {
    if (result.status === "rejected") {
      console.log(\`Request \${index} failed:\`, result.reason);
    }
  });

  // Filter successful results
  const successfulResults = results
    .filter(r => r.status === "fulfilled")
    .map(r => r.value);
  
  return successfulResults;
}

// Retry pattern
async function withRetry(fn, retries = 3, delay = 1000) {
  for (let i = 0; i < retries; i++) {
    try {
      return await fn();
    } catch (error) {
      console.log(\`Attempt \${i + 1} failed: \${error.message}\`);
      if (i < retries - 1) {
        await new Promise(r => setTimeout(r, delay));
      }
    }
  }
  throw new Error(\`Failed after \${retries} attempts\`);
}

// Example usage
let attemptCount = 0;
async function unreliableOperation() {
  attemptCount++;
  if (attemptCount < 3) {
    throw new Error("Random failure");
  }
  return "Success!";
}

withRetry(unreliableOperation)
  .then(result => console.log("\\nRetry result:", result))
  .catch(err => console.log("Final error:", err.message));`,language:"javascript"}]},{id:"js-this",title:"The this Keyword",description:"Understand how this works in different contexts.",difficulty:"intermediate",duration:"2 hours",topics:["Global Context","Object Methods","Constructors","Arrow Functions","Explicit Binding"],lessons:[{id:"js-this-basics",title:"Understanding this",content:`# The this Keyword

The value of this depends on HOW a function is called.

## Different Contexts
1. Global context
2. Object methods
3. Constructor functions
4. Event handlers
5. Arrow functions (lexical)`,codeExample:`// Global context (in browser: window, in Node: global/undefined in strict mode)
console.log("Global this:", typeof this);

// Object method - this = the object
const person = {
  name: "John",
  greet() {
    console.log("Object this:", this.name);
  },
  greetArrow: () => {
    console.log("Arrow this:", this.name); // undefined (lexical)
  }
};

person.greet();
person.greetArrow();

// Lost context
const greetFunc = person.greet;
// greetFunc(); // this would be undefined in strict mode

// Constructor function - this = new instance
function Animal(name) {
  this.name = name;
  console.log("Constructor this:", this);
}

const cat = new Animal("Whiskers");

// Class methods - this = instance
class Dog {
  constructor(name) {
    this.name = name;
  }
  
  bark() {
    console.log(\`\${this.name} barks!\`);
  }
  
  // Arrow function preserves this
  delayedBark = () => {
    setTimeout(() => {
      console.log(\`\${this.name} barks (delayed)!\`);
    }, 100);
  }
}

const dog = new Dog("Max");
dog.bark();
dog.delayedBark();`,language:"javascript"},{id:"js-this-binding",title:"Explicit this Binding",content:`# Binding this Explicitly

## Methods
- **call** - Invoke with this and individual args
- **apply** - Invoke with this and args array
- **bind** - Return new function with bound this`,codeExample:`function greet(greeting, punctuation) {
  console.log(\`\${greeting}, \${this.name}\${punctuation}\`);
}

const person1 = { name: "Alice" };
const person2 = { name: "Bob" };

// call - individual arguments
greet.call(person1, "Hello", "!");
greet.call(person2, "Hi", "?");

// apply - arguments as array
greet.apply(person1, ["Hey", "!!"]);
greet.apply(person2, ["Yo", "..."]);

// bind - returns new function
const greetAlice = greet.bind(person1);
greetAlice("Welcome", "!");

// Partial application with bind
const sayHiTo = greet.bind(null, "Hi");
sayHiTo.call(person1, "!");

// Practical example: event handlers
const button = {
  text: "Click me",
  handleClick: function() {
    console.log(\`Button "\${this.text}" clicked\`);
  }
};

// In real DOM:
// element.addEventListener('click', button.handleClick.bind(button));

// Using bind to fix lost context
const boundHandler = button.handleClick.bind(button);
boundHandler();

// Borrowing methods
const numbers = { 0: "a", 1: "b", 2: "c", length: 3 };
const arr = Array.prototype.slice.call(numbers);
console.log("Borrowed slice:", arr);

// Modern alternative
console.log("Array.from:", Array.from(numbers));`,language:"javascript"},{id:"js-arrow-this",title:"Arrow Functions and this",content:`# Arrow Functions and this

Arrow functions don't have their own this.
They inherit this from the enclosing scope (lexical).

## When to Use
- Callbacks inside methods
- When you need to preserve outer this

## When NOT to Use
- Object methods
- Constructors
- Event handlers (usually)`,codeExample:`// Arrow functions inherit this
const team = {
  name: "Engineering",
  members: ["Alice", "Bob", "Charlie"],
  
  // Regular function - this = team
  showMembers() {
    console.log(\`Team: \${this.name}\`);
    
    // Arrow function inherits this from showMembers
    this.members.forEach(member => {
      console.log(\`\${member} is in \${this.name}\`);
    });
  },
  
  // Problem with regular function callback
  showMembersOld() {
    const self = this; // Old pattern
    this.members.forEach(function(member) {
      // console.log(this.name); // undefined!
      console.log(\`\${member} is in \${self.name}\`);
    });
  }
};

team.showMembers();

// Nested arrow functions
const outer = {
  value: 42,
  
  getValueGetter() {
    return () => () => this.value;
  }
};

const getter = outer.getValueGetter();
console.log("\\nNested arrow:", getter()());

// Common mistake: Arrow as method
const badObject = {
  name: "Bad",
  getName: () => this.name // this is not the object!
};
console.log("Arrow method:", badObject.getName()); // undefined

// Correct way
const goodObject = {
  name: "Good",
  getName() { return this.name; }
};
console.log("Regular method:", goodObject.getName());

// Class with arrow functions
class Timer {
  constructor() {
    this.seconds = 0;
  }
  
  // Arrow function as class field
  start = () => {
    setInterval(() => {
      this.seconds++;
      console.log(\`Timer: \${this.seconds}s\`);
    }, 1000);
  }
}

// const timer = new Timer();
// timer.start(); // Would work correctly`,language:"javascript"}]},{id:"js-dom",title:"DOM Manipulation",description:"Interact with the Document Object Model and handle events.",difficulty:"intermediate",duration:"3 hours",topics:["DOM Selection","Event Handling","DOM Traversal","Dynamic Content"],lessons:[{id:"js-dom-selection",title:"DOM Selection",content:`# Selecting DOM Elements

## Modern Methods
- querySelector - First match
- querySelectorAll - All matches

## Legacy Methods
- getElementById
- getElementsByClassName
- getElementsByTagName`,codeExample:`// Note: These examples show DOM concepts
// They would work in a browser environment

// querySelector - Returns first match
const header = document.querySelector('h1');
const firstButton = document.querySelector('.btn');
const submitBtn = document.querySelector('#submit');
const navLink = document.querySelector('nav a.active');

// querySelectorAll - Returns NodeList
const allButtons = document.querySelectorAll('.btn');
const allParagraphs = document.querySelectorAll('p');
const formInputs = document.querySelectorAll('form input');

// Converting NodeList to Array
const buttonsArray = Array.from(allButtons);
// or
const buttonsArray2 = [...allButtons];

// Legacy methods
const byId = document.getElementById('myId');
const byClass = document.getElementsByClassName('myClass');
const byTag = document.getElementsByTagName('div');

// Differences:
// - querySelector: Returns Element or null
// - getElementById: Returns Element or null
// - getElementsBy*: Returns live HTMLCollection
// - querySelectorAll: Returns static NodeList

// Simulating for demo purposes
console.log("DOM Selection Examples");
console.log("querySelector returns:", typeof document.querySelector);
console.log("Use CSS selectors: 'div.class#id[attr=value]'");

// Complex selectors
const examples = [
  'div.container > p',          // Direct child
  'ul li:first-child',          // First li in ul
  'input[type="text"]',         // Input with type
  '.item:not(.disabled)',       // Not selector
  'tr:nth-child(odd)',          // Odd rows
  '[data-active="true"]'        // Data attribute
];

examples.forEach(sel => console.log("Selector:", sel));`,language:"javascript"},{id:"js-dom-manipulation",title:"DOM Manipulation",content:`# Manipulating DOM Elements

## Content
- textContent, innerHTML, innerText

## Attributes
- getAttribute, setAttribute, dataset

## Styles and Classes
- style, classList`,codeExample:`// Creating elements
const div = document.createElement('div');
const text = document.createTextNode('Hello');

// Setting content
div.textContent = 'Plain text content';
div.innerHTML = '<strong>HTML</strong> content';
div.innerText = 'Visible text only';

// Attributes
div.setAttribute('id', 'myDiv');
div.getAttribute('id');
div.removeAttribute('id');
div.hasAttribute('id');

// Data attributes
div.dataset.userId = '123';
div.dataset.userName = 'john';
// Creates: data-user-id="123" data-user-name="john"

// Classes
div.classList.add('active', 'visible');
div.classList.remove('hidden');
div.classList.toggle('expanded');
div.classList.contains('active'); // true
div.classList.replace('old-class', 'new-class');

// Inline styles
div.style.backgroundColor = 'blue';
div.style.fontSize = '16px';
div.style.cssText = 'color: white; padding: 10px;';

// Getting computed styles
// const styles = getComputedStyle(div);
// console.log(styles.backgroundColor);

// Inserting elements
const parent = document.createElement('ul');
const child = document.createElement('li');

parent.appendChild(child);
parent.prepend(child);               // Add at start
parent.append(child);                // Add at end
parent.insertBefore(child, parent.firstChild);

// Modern insertion methods
div.insertAdjacentHTML('beforebegin', '<p>Before</p>');
div.insertAdjacentHTML('afterbegin', '<p>First child</p>');
div.insertAdjacentHTML('beforeend', '<p>Last child</p>');
div.insertAdjacentHTML('afterend', '<p>After</p>');

// Removing elements
child.remove();
parent.removeChild(child);

// Cloning
const clone = div.cloneNode(true); // true = deep clone

console.log("DOM Manipulation methods demonstrated");`,language:"javascript"},{id:"js-events",title:"Event Handling",content:`# DOM Events

## Adding Listeners
- addEventListener
- removeEventListener

## Event Object
Contains info about the event.

## Event Flow
- Capturing (down)
- Target
- Bubbling (up)`,codeExample:`// Adding event listeners
const button = document.createElement('button');

function handleClick(event) {
  console.log('Button clicked!');
  console.log('Event type:', event.type);
  console.log('Target:', event.target);
  console.log('Current target:', event.currentTarget);
}

button.addEventListener('click', handleClick);

// Remove listener (must use same function reference)
button.removeEventListener('click', handleClick);

// One-time listener
button.addEventListener('click', () => {
  console.log('Only runs once!');
}, { once: true });

// Event delegation
const list = document.createElement('ul');
list.addEventListener('click', (event) => {
  if (event.target.tagName === 'LI') {
    console.log('List item clicked:', event.target.textContent);
  }
});

// Stopping propagation
button.addEventListener('click', (event) => {
  event.stopPropagation(); // Stop bubbling
  event.stopImmediatePropagation(); // Stop all handlers
});

// Prevent default behavior
const link = document.createElement('a');
link.addEventListener('click', (event) => {
  event.preventDefault(); // Don't navigate
  console.log('Link click prevented');
});

// Common events
const events = [
  // Mouse
  'click', 'dblclick', 'mouseenter', 'mouseleave', 'mousemove',
  // Keyboard
  'keydown', 'keyup', 'keypress',
  // Form
  'submit', 'change', 'input', 'focus', 'blur',
  // Document
  'DOMContentLoaded', 'load', 'scroll', 'resize'
];

console.log("Common events:", events);

// Keyboard event example
document.addEventListener('keydown', (event) => {
  console.log('Key:', event.key);
  console.log('Code:', event.code);
  console.log('Ctrl:', event.ctrlKey);
  console.log('Shift:', event.shiftKey);
});

// Custom events
const customEvent = new CustomEvent('userLoggedIn', {
  detail: { userId: 123, name: 'John' }
});

document.addEventListener('userLoggedIn', (event) => {
  console.log('User logged in:', event.detail);
});

document.dispatchEvent(customEvent);`,language:"javascript"},{id:"js-event-delegation",title:"Event Delegation",content:`# Event Delegation Pattern

Attach one listener to parent instead of many to children.

## Benefits
- Better performance
- Works with dynamic content
- Less memory usage`,codeExample:`// Without delegation - Bad for many items
function setupBadExample() {
  const items = document.querySelectorAll('.item');
  items.forEach(item => {
    item.addEventListener('click', handleClick);
  });
  // Problem: New items won't have listeners!
}

// With delegation - Better!
function setupGoodExample() {
  const container = document.querySelector('.container');
  
  container.addEventListener('click', (event) => {
    // Check if clicked element matches
    if (event.target.matches('.item')) {
      handleItemClick(event.target);
    }
    
    // Or check for closest matching parent
    const item = event.target.closest('.item');
    if (item) {
      handleItemClick(item);
    }
  });
}

function handleItemClick(item) {
  console.log('Item clicked:', item);
}

// Practical example: Todo list
class TodoList {
  constructor(container) {
    this.container = container;
    this.todos = [];
    this.setupListeners();
  }
  
  setupListeners() {
    // Single listener handles all actions
    this.container.addEventListener('click', (event) => {
      const target = event.target;
      
      if (target.matches('.delete-btn')) {
        const todoItem = target.closest('.todo-item');
        this.deleteTodo(todoItem.dataset.id);
      }
      
      if (target.matches('.toggle-btn')) {
        const todoItem = target.closest('.todo-item');
        this.toggleTodo(todoItem.dataset.id);
      }
      
      if (target.matches('.edit-btn')) {
        const todoItem = target.closest('.todo-item');
        this.editTodo(todoItem.dataset.id);
      }
    });
  }
  
  deleteTodo(id) {
    console.log('Delete:', id);
  }
  
  toggleTodo(id) {
    console.log('Toggle:', id);
  }
  
  editTodo(id) {
    console.log('Edit:', id);
  }
}

// Data attributes for delegation
const html = \`
<ul class="container">
  <li class="todo-item" data-id="1" data-priority="high">
    <span>Todo 1</span>
    <button class="toggle-btn">Toggle</button>
    <button class="edit-btn">Edit</button>
    <button class="delete-btn">Delete</button>
  </li>
</ul>
\`;

console.log("Event delegation example with data attributes");`,language:"javascript"}]},{id:"js-error-handling",title:"Error Handling",description:"Learn to handle errors gracefully with try/catch and custom errors.",difficulty:"intermediate",duration:"2 hours",topics:["Try/Catch","Error Types","Custom Errors","Debugging"],lessons:[{id:"js-try-catch",title:"Try/Catch/Finally",content:`# Error Handling with Try/Catch

Handle runtime errors gracefully.

## Syntax
- try: Code that might throw
- catch: Handle the error
- finally: Always runs

## Error Object
Contains name, message, and stack.`,codeExample:`// Basic try/catch
try {
  const result = riskyOperation();
  console.log(result);
} catch (error) {
  console.error("Error caught:", error.message);
}

// Try/catch/finally
function processFile(filename) {
  let file = null;
  try {
    file = openFile(filename);
    processData(file);
  } catch (error) {
    console.error("Processing failed:", error.message);
  } finally {
    // Always runs - cleanup
    if (file) {
      console.log("Closing file...");
      // closeFile(file);
    }
  }
}

// Throwing errors
function divide(a, b) {
  if (b === 0) {
    throw new Error("Division by zero");
  }
  return a / b;
}

try {
  console.log(divide(10, 2));
  console.log(divide(10, 0)); // Throws
} catch (error) {
  console.error("Math error:", error.message);
}

// Error object properties
try {
  throw new Error("Something went wrong");
} catch (error) {
  console.log("\\nError properties:");
  console.log("Name:", error.name);
  console.log("Message:", error.message);
  console.log("Stack:", error.stack?.substring(0, 100) + "...");
}

// Re-throwing errors
function outer() {
  try {
    inner();
  } catch (error) {
    if (error.message.includes("critical")) {
      throw error; // Re-throw critical errors
    }
    console.log("Handled non-critical error");
  }
}

function inner() {
  throw new Error("Non-critical failure");
}

outer();`,language:"javascript"},{id:"js-error-types",title:"Error Types",content:`# Built-in Error Types

JavaScript has several built-in error types:

## Error Types
- **Error** - Generic error
- **SyntaxError** - Invalid syntax
- **ReferenceError** - Invalid reference
- **TypeError** - Wrong type operation
- **RangeError** - Number out of range
- **URIError** - Invalid URI`,codeExample:`// TypeError - Wrong type
try {
  const num = 42;
  num.toUpperCase();
} catch (error) {
  console.log("TypeError:", error.message);
}

// ReferenceError - Undefined variable
try {
  console.log(undefinedVariable);
} catch (error) {
  console.log("ReferenceError:", error.message);
}

// RangeError - Out of range
try {
  const arr = new Array(-1);
} catch (error) {
  console.log("RangeError:", error.message);
}

// SyntaxError (caught during parsing, not runtime)
try {
  eval("const x = ;");
} catch (error) {
  console.log("SyntaxError:", error.message);
}

// URIError
try {
  decodeURIComponent('%');
} catch (error) {
  console.log("URIError:", error.message);
}

// Checking error types
function handleError(error) {
  if (error instanceof TypeError) {
    console.log("Type problem - check your types");
  } else if (error instanceof ReferenceError) {
    console.log("Reference problem - variable undefined");
  } else if (error instanceof RangeError) {
    console.log("Range problem - value out of bounds");
  } else {
    console.log("Unknown error:", error.message);
  }
}

try {
  null.toString();
} catch (error) {
  handleError(error);
}`,language:"javascript"},{id:"js-custom-errors",title:"Custom Errors",content:`# Creating Custom Errors

Extend Error class for specific error types.

## Benefits
- Better error identification
- Custom properties
- Cleaner error handling`,codeExample:`// Custom Error Class
class ValidationError extends Error {
  constructor(field, message) {
    super(message);
    this.name = "ValidationError";
    this.field = field;
  }
}

class NetworkError extends Error {
  constructor(status, message) {
    super(message);
    this.name = "NetworkError";
    this.status = status;
  }
}

class AuthenticationError extends Error {
  constructor(message = "Authentication failed") {
    super(message);
    this.name = "AuthenticationError";
  }
}

// Using custom errors
function validateUser(user) {
  if (!user.email) {
    throw new ValidationError("email", "Email is required");
  }
  if (!user.email.includes("@")) {
    throw new ValidationError("email", "Invalid email format");
  }
  if (!user.password || user.password.length < 8) {
    throw new ValidationError("password", "Password must be 8+ chars");
  }
  return true;
}

// Handling specific error types
function processUser(user) {
  try {
    validateUser(user);
    console.log("User is valid!");
  } catch (error) {
    if (error instanceof ValidationError) {
      console.log(\`Validation failed for \${error.field}: \${error.message}\`);
    } else if (error instanceof AuthenticationError) {
      console.log("Please log in again");
    } else {
      throw error; // Re-throw unknown errors
    }
  }
}

processUser({ email: "test", password: "123" });
processUser({ email: "test@example.com", password: "password123" });

// Error factory
const ErrorFactory = {
  validation: (field, msg) => new ValidationError(field, msg),
  network: (status, msg) => new NetworkError(status, msg),
  auth: (msg) => new AuthenticationError(msg)
};

throw ErrorFactory.validation("username", "Username taken");`,language:"javascript"}]},{id:"js-regex",title:"Regular Expressions",description:"Master pattern matching with regular expressions.",difficulty:"intermediate",duration:"3 hours",topics:["Pattern Syntax","Methods","Common Patterns","Groups & Lookaheads"],lessons:[{id:"js-regex-basics",title:"RegEx Basics",content:`# Regular Expressions

Patterns for matching text.

## Creating RegEx
- Literal: /pattern/flags
- Constructor: new RegExp("pattern", "flags")

## Common Flags
- g: Global (all matches)
- i: Case insensitive
- m: Multiline`,codeExample:`// Creating regular expressions
const regex1 = /hello/i;
const regex2 = new RegExp("hello", "i");

// Basic patterns
const text = "Hello World! hello again.";

console.log("Test:", regex1.test(text)); // true
console.log("Match:", text.match(regex1)); // First match

// Global flag - find all
const globalRegex = /hello/gi;
console.log("All matches:", text.match(globalRegex));

// Character classes
const digits = "My phone: 123-456-7890";
console.log("\\nDigits:", digits.match(/\\d+/g));

const words = "Hello World 123";
console.log("Words:", words.match(/\\w+/g));
console.log("Non-digits:", words.match(/\\D+/g));

// Quantifiers
console.log("\\nQuantifiers:");
console.log("a*:", "aaa".match(/a*/g));      // 0 or more
console.log("a+:", "aaa".match(/a+/g));      // 1 or more
console.log("a?:", "aaa".match(/a?/g));      // 0 or 1
console.log("a{2}:", "aaa".match(/a{2}/g));  // Exactly 2
console.log("a{1,2}:", "aaa".match(/a{1,2}/g)); // 1 to 2

// Anchors
console.log("\\nAnchors:");
console.log("^Hello:", /^Hello/.test("Hello World")); // Start
console.log("World$:", /World$/.test("Hello World")); // End
console.log("\\\\bword\\\\b:", "a word here".match(/\\bword\\b/)); // Word boundary`,language:"javascript"},{id:"js-regex-methods",title:"RegEx Methods",content:`# RegEx Methods

## RegExp Methods
- test() - Returns boolean
- exec() - Returns match details

## String Methods
- match() - Find matches
- matchAll() - Iterator of all matches
- replace() - Replace matches
- split() - Split by pattern
- search() - Find index`,codeExample:`const text = "The quick brown fox jumps over the lazy dog";

// test() - Returns boolean
console.log("Has 'fox':", /fox/.test(text));

// exec() - Returns match with details
const regex = /\\w+/g;
let match;
console.log("\\nexec() results:");
while ((match = regex.exec(text)) !== null) {
  if (match.index < 20) { // Limit output
    console.log(\`Found "\${match[0]}" at index \${match.index}\`);
  }
}

// match() - Returns array of matches
console.log("\\nmatch():", text.match(/\\b\\w{4}\\b/g)); // 4-letter words

// matchAll() - Returns iterator with details
console.log("\\nmatchAll():");
const matches = text.matchAll(/\\b(\\w{3})\\b/g);
for (const m of matches) {
  console.log(\`"\${m[0]}" at \${m.index}\`);
}

// replace() - Replace matches
console.log("\\nreplace():", text.replace(/fox/, "cat"));
console.log("replaceAll:", text.replace(/the/gi, "a"));

// Replace with function
const result = text.replace(/\\b\\w+\\b/g, (word) => {
  return word.length > 4 ? word.toUpperCase() : word;
});
console.log("Function replace:", result);

// split() - Split by pattern
const csv = "apple, banana,  cherry,orange";
console.log("\\nsplit():", csv.split(/,\\s*/));

// search() - Returns index
console.log("\\nsearch():", text.search(/brown/)); // 10`,language:"javascript"},{id:"js-regex-groups",title:"Groups & Lookaheads",content:`# Groups and Lookaheads

## Capturing Groups
Capture parts of the match with ().

## Non-Capturing Groups
Group without capturing with (?:).

## Lookaheads
Match based on what follows.`,codeExample:`// Capturing groups
const dateStr = "2024-01-15";
const dateRegex = /(\\d{4})-(\\d{2})-(\\d{2})/;
const dateMatch = dateStr.match(dateRegex);
console.log("Full match:", dateMatch[0]);
console.log("Year:", dateMatch[1]);
console.log("Month:", dateMatch[2]);
console.log("Day:", dateMatch[3]);

// Named groups
const namedRegex = /(?<year>\\d{4})-(?<month>\\d{2})-(?<day>\\d{2})/;
const namedMatch = dateStr.match(namedRegex);
console.log("\\nNamed groups:", namedMatch.groups);

// Non-capturing groups
const urlRegex = /https?:\\/\\/(?:www\\.)?([\\w.]+)/;
const url = "https://www.example.com";
console.log("\\nDomain:", url.match(urlRegex)[1]);

// Backreferences
const repeated = "hello hello world";
const dupRegex = /\\b(\\w+)\\s+\\1\\b/;
console.log("\\nDuplicate:", repeated.match(dupRegex));

// Lookahead - Match if followed by
const prices = "100 dollars 50 euros 75 dollars";
console.log("\\nPositive lookahead:");
console.log("Before 'dollars':", prices.match(/\\d+(?= dollars)/g));

// Negative lookahead - Match if NOT followed by
console.log("Not before 'dollars':", prices.match(/\\d+(?! dollars)/g));

// Lookbehind - Match if preceded by
const data = "$100 and 50";
console.log("\\nPositive lookbehind:");
console.log("After $:", data.match(/(?<=\\$)\\d+/g));

// Replace with groups
const name = "John Doe";
const reversed = name.replace(/(\\w+)\\s(\\w+)/, "$2, $1");
console.log("\\nReversed:", reversed);

// Complex example: Extract info
const log = "[ERROR] 2024-01-15 10:30:45 - User not found";
const logRegex = /\\[(?<level>\\w+)\\]\\s(?<date>[\\d-]+)\\s(?<time>[\\d:]+)\\s-\\s(?<message>.+)/;
const logMatch = log.match(logRegex);
console.log("\\nLog parsed:", logMatch.groups);`,language:"javascript"},{id:"js-regex-patterns",title:"Common Patterns",content:`# Common RegEx Patterns

Useful patterns for validation and extraction.`,codeExample:`// Email validation
const emailRegex = /^[\\w.-]+@[\\w.-]+\\.\\w{2,}$/;
console.log("Email valid:", emailRegex.test("user@example.com"));
console.log("Email invalid:", emailRegex.test("invalid-email"));

// Phone number (US format)
const phoneRegex = /^\\(?\\d{3}\\)?[-.\\s]?\\d{3}[-.\\s]?\\d{4}$/;
console.log("\\nPhone tests:");
console.log(phoneRegex.test("(123) 456-7890")); // true
console.log(phoneRegex.test("123-456-7890"));   // true
console.log(phoneRegex.test("1234567890"));     // true

// URL validation
const urlRegex = /^(https?:\\/\\/)?(www\\.)?[\\w-]+\\.[a-z]{2,}(\\/\\S*)?$/i;
console.log("\\nURL tests:");
console.log(urlRegex.test("https://www.example.com")); // true
console.log(urlRegex.test("example.com/path"));        // true

// Password strength
const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;
console.log("\\nPassword tests:");
console.log(passwordRegex.test("Weak1!"));           // false (too short)
console.log(passwordRegex.test("StrongPass1!"));     // true

// Extract hashtags
const tweet = "Learning #JavaScript and #WebDevelopment is fun! #coding";
const hashtags = tweet.match(/#\\w+/g);
console.log("\\nHashtags:", hashtags);

// Extract URLs from text
const textWithUrls = "Visit https://google.com or http://example.com";
const urls = textWithUrls.match(/https?:\\/\\/[\\w.-]+/g);
console.log("URLs:", urls);

// Validate credit card (basic)
const ccRegex = /^\\d{4}[- ]?\\d{4}[- ]?\\d{4}[- ]?\\d{4}$/;
console.log("\\nCC valid:", ccRegex.test("1234-5678-9012-3456"));

// Remove HTML tags
const html = "<p>Hello <b>World</b>!</p>";
const plainText = html.replace(/<[^>]*>/g, "");
console.log("\\nPlain text:", plainText);

// Sanitize input
const input = "  Hello   World!  ";
const sanitized = input.trim().replace(/\\s+/g, " ");
console.log("Sanitized:", sanitized);`,language:"javascript"}]}],C1=[{id:"interview-js",title:"JavaScript Interview",description:"Common JavaScript interview questions and answers.",difficulty:"intermediate",duration:"4 hours",topics:["Closures","this keyword","Event Loop","Hoisting"],lessons:[{id:"interview-closures",title:"Closures Interview Questions",content:`# Closures  Interview Questions

Closures are a fundamental concept in JavaScript that allow functions to remember and access variables from their outer scope even after the outer function has finished executing. They are widely used in real-world applications and are essential for understanding JavaScript deeply.

## What is a Closure?

A closure is created when a function is defined inside another function and the inner function uses variables from the outer function. The inner function "closes over" the outer variables, meaning it retains access to them even after the outer function returns.

In simple terms, a closure allows a function to remember data from where it was created.

## How Closures Work (Simple Explanation)

When a function runs, JavaScript creates a scope for it. Normally, once the function finishes execution, its variables are removed from memory. However, if an inner function references those variables, JavaScript preserves them in memory. This preserved scope is called the lexical environment, and together with the function, it forms a closure.


## Key Points
- A closure is a combination of a function and its lexical environment
- Inner functions can access variables of their outer functions
- Variables are referenced, not copied
- Each closure has its own independent scope
- Closures are created at function definition time, not execution time
- Closures remain in memory as long as they are referenced

## Simple Example

\`\`\`js
function outer() {
  let message = "Hello World";

  function inner() {
    console.log(message);
  }

  return inner;
}

const greet = outer();
greet(); // Hello World
\`\`\`

Even though the outer function has completed execution, the inner function still has access to the message variable.

---

## Why Closures Are Important

Closures help JavaScript:
- Maintain state between function calls
- Create private variables
- Share data across asynchronous operations
- Build reusable and flexible functions

---

## Common Real-World Use Cases

### Data Encapsulation (Private Variables)

\`\`\`js
function createCounter() {
  let count = 0;

  return function () {
    count++;
    return count;
  };
}

const counter = createCounter();
counter(); // 1
counter(); // 2
\`\`\`

The count variable cannot be accessed directly from outside, making it private.

---

## Closures in Loops (Very Common Interview Question)

\`\`\`js
for (var i = 0; i < 3; i++) {
  setTimeout(() => console.log(i), 100);
}
\`\`\`

### Output:
3  
3  
3  

### Why?
var has function scope, so all callbacks share the same variable reference.

### Correct Approach:

\`\`\`js
for (let i = 0; i < 3; i++) {
  setTimeout(() => console.log(i), 100);
}
\`\`\`

let creates a new block-scoped variable for each iteration.

---

## Memory Considerations

Closures keep variables in memory, which can lead to memory leaks if not managed properly. Always clean up unused timers, listeners, and references when they are no longer needed.

---

## Interview One-Liners

- A closure is a function that remembers its outer scope
- Closures allow variables to persist after function execution
- Variables in closures are referenced, not copied
- Closures are created when functions are defined

---

## Final Takeaway

Closures are a powerful JavaScript feature that enable state retention, data encapsulation, and reliable asynchronous behavior. Mastering closures is essential for writing clean code and succeeding in JavaScript interviews.
`,codeExample:`// Classic Question: What will this print?
for (var i = 0; i < 3; i++) {
  setTimeout(() => console.log("var loop:", i), 100);
}
// Answer: 3, 3, 3

// Fix with let
for (let j = 0; j < 3; j++) {
  setTimeout(() => console.log("let loop:", j), 200);
}
// Answer: 0, 1, 2

// Private Counter Question
function createCounter() {
  let count = 0;
  return {
    increment() {
      return ++count;
    },
    getCount() {
      return count;
    }
  };
}

const counter = createCounter();
console.log(counter.increment()); // 1
console.log(counter.increment()); // 2
console.log(counter.count); // undefined - private!
`,language:"javascript"},{id:"interview-hoisting",title:"Hoisting - Complete Guide",content:`# Hoisting  Complete Guide
Hoisting is a fundamental JavaScript concept that explains how variables and functions are processed before code execution. Understanding hoisting helps avoid unexpected bugs and is essential for writing predictable and clean JavaScript code.
## What is Hoisting?
Hoisting is JavaScripts default behavior of moving **declarations** (not initializations) to the top of their scope during the compilation phase. This means variables and functions can sometimes be used before they are written in the code.
In simple terms, JavaScript **knows about variables and functions before running the code**, but how it treats them depends on how they are declared.

## How Hoisting Works (Simple Explanation)

Before executing your code, JavaScript scans it and registers:
- Variable declarations
- Function declarations
- Class declarations

Only the declarations are hoisted. Assignments and initializations remain in place.

## Key Points
- Function declarations are fully hoisted
- var declarations are hoisted and initialized with undefined
- let and const are hoisted but stay in the Temporal Dead Zone (TDZ)
- Class declarations are hoisted but not initialized
- Function expressions and arrow functions are not hoisted

## Variable Hoisting Explained

### var Hoisting

\`\`\`js
console.log(a); // undefined
var a = 5;
console.log(a); // 5
\`\`\`
JavaScript treats this as:
\`\`\`js
var a;
console.log(a);
a = 5;
\`\`\`

### let and const Hoisting (Temporal Dead Zone)

\`\`\`js
// console.log(b); // ReferenceError
let b = 10;
\`\`\`

Although let and const are hoisted, they cannot be accessed before their declaration. This phase is called the **Temporal Dead Zone (TDZ)**.


## What is Temporal Dead Zone (TDZ)?

TDZ is the time between entering a scope and declaring a variable using let or const. Accessing the variable during this period results in a ReferenceError.


## Function Hoisting

### Function Declaration (Fully Hoisted)

\`\`\`js
console.log(greet()); // "Hello!"

function greet() {
  return "Hello!";
}
\`\`\`

### Function Expression (Not Hoisted)

\`\`\`js
// console.log(sayHi()); // TypeError
var sayHi = function () {
  return "Hi!";
};
\`\`\`

### Arrow Function (Not Hoisted)

\`\`\`js
// console.log(sayBye()); // TypeError
var sayBye = () => "Bye!";
\`\`\`


## Hoisting Priority Rule

When a variable and function share the same name, **function declarations take priority** over variable declarations during hoisting.


## Hoisting Inside Functions

\`\`\`js
var x = 1;

function foo() {
  console.log(x); // undefined
  var x = 2;
  console.log(x); // 2
}

foo();
\`\`\`

The local variable x is hoisted inside the function, shadowing the global variable.

## Hoisting in Loops (let vs var)

\`\`\`js
for (let i = 0; i < 3; i++) {
  setTimeout(() => console.log(i), 100);
}
// Output: 0, 1, 2
\`\`\`

let creates a new binding for each iteration, avoiding common hoisting-related bugs.


## const Hoisting

const behaves like let in terms of hoisting but must be initialized immediately.

\`\`\`js
// console.log(PI); // ReferenceError
const PI = 3.14;
\`\`\`

---

## Class Hoisting

Classes are hoisted but remain in the TDZ until declared.

\`\`\`js
// const obj = new MyClass(); // ReferenceError
class MyClass {
  constructor() {
    this.name = "MyClass";
  }
}
\`\`\`


## Common Interview Questions

- What is hoisting in JavaScript?
- What is the Temporal Dead Zone?
- Difference between var, let, and const hoisting?
- Why do function declarations work before definition?
- Are classes hoisted in JavaScript?


## Interview One-Liners

- Hoisting moves declarations, not initializations
- var is hoisted and initialized with undefined
- let and const are hoisted but inaccessible due to TDZ
- Function declarations are fully hoisted
- Function expressions and arrow functions are not hoisted


## Final Takeaway

Hoisting explains many confusing behaviors in JavaScript. Understanding how different declarations are hoisted helps write safer, cleaner, and more predictable code and is a must-know topic for JavaScript interviews.
`,codeExample:`// ===== QUESTION 1: Variable Hoisting =====
console.log(a); // undefined (hoisted, initialized to undefined)
var a = 5;
console.log(a); // 5

// ===== QUESTION 2: Temporal Dead Zone (TDZ) =====
// console.log(b); // ReferenceError
let b = 10;

// TDZ exists from start of block until declaration
function checkTDZ() {
  console.log(typeof undeclaredVar); // "undefined"
  // console.log(typeof x); // ReferenceError
  let x = 10;
  console.log(typeof x); // "number"
}

// ===== QUESTION 3: Function Hoisting =====
console.log(greet()); // "Hello!"

function greet() {
  return "Hello!";
}

// Function Expression - NOT hoisted
// console.log(sayHi()); // TypeError
var sayHi = function () {
  return "Hi!";
};

// Arrow Function - NOT hoisted
// console.log(sayBye()); // TypeError
var sayBye = () => "Bye!";

// ===== QUESTION 4: Tricky Hoisting =====
var x = 1;
function foo() {
  console.log(x); // undefined
  var x = 2;
  console.log(x); // 2
}
foo();

// ===== QUESTION 5: Function vs Variable Hoisting =====
console.log(typeof myFunc); // "function"
var myFunc = "string";
function myFunc() {
  return "function";
}
console.log(typeof myFunc); // "string"

// ===== QUESTION 6: let in loops =====
for (let i = 0; i < 3; i++) {
  setTimeout(() => console.log(i), 100);
}

// ===== QUESTION 7: const Hoisting =====
// console.log(PI); // ReferenceError
const PI = 3.14;

// ===== QUESTION 8: Class Hoisting =====
// const obj = new MyClass(); // ReferenceError
class MyClass {
  constructor() {
    this.name = "MyClass";
  }
}

// ===== QUESTION 9: Hoisting in Block Scope =====
{
  // console.log(blockLet); // ReferenceError
  let blockLet = "block scoped";
  console.log(blockLet);
}
// console.log(blockLet); // ReferenceError
`,language:"javascript"},{id:"interview-this-keyword",title:'The "this" Keyword - Mastery',content:`# The "this" Keyword  Mastery
The **this** keyword refers to the object that is responsible for executing the current function. Its value is determined at runtime and depends entirely on **how the function is called**, not where it is written. This is one of the most frequently tested concepts in JavaScript interviews.
## How "this" Works
In JavaScript, **this is dynamic**. Each time a function is invoked, JavaScript decides the value of this based on specific binding rules.
## Rules of "this" (Order of Precedence)
1. **new binding**  when a function is called using new, this refers to the newly created object
2. **Explicit binding**  call, apply, or bind explicitly set this
3. **Implicit binding**  when a function is called as an object method
4. **Default binding**  global object (undefined in strict mode)
5. **Arrow functions**  do not have their own this, they inherit it from parent scope
## Default Binding
When a function is called normally, this falls back to the default binding.
\`\`\`js
function showThis() {
  console.log(this);
}
showThis();
\`\`\`
In browsers this refers to window, in Node.js it refers to global, and in strict mode it is undefined.

## Implicit Binding
When a function is called as a method of an object, this refers to that object.
\`\`\`js
const person = {
  name: 'John',
  greet() {
    console.log('Hello ' + this.name);
  }
};
person.greet();
\`\`\`
Here, this refers to person because greet is called using person.greet().
## Lost Context (Very Common Interview Question)
\`\`\`js
const greetFunc = person.greet;
greetFunc();
\`\`\`
The context is lost because the function is no longer called as a method of the object. this falls back to default binding.
## Explicit Binding (call, apply, bind)
Explicit binding allows us to manually set the value of this.
\`\`\`js
greetFunc.call(person);
greetFunc.apply(person);
const boundGreet = person.greet.bind(person);
boundGreet();
\`\`\`
call and apply invoke immediately, while bind returns a new function with permanently bound this.
## new Binding
When a function is called with new, JavaScript creates a new object and binds this to it.
\`\`\`js
function User(name) {
  this.name = name;
}
const user = new User('Alice');
console.log(user.name);
\`\`\`
This pattern is commonly used in constructor functions.
## Arrow Functions (Lexical this)
Arrow functions do not create their own this. They inherit this from the surrounding scope.
\`\`\`js
const team = {
  name: 'Dev Team',
  members: ['Alice', 'Bob'],
  showMembers() {
    this.members.forEach(member => {
      console.log(member + ' is in ' + this.name);
    });
  }
};
team.showMembers();
\`\`\`
Arrow functions are useful to avoid context loss in callbacks.
## Problem with Regular Functions Inside Methods
\`\`\`js
const broken = {
  name: 'Team',
  members: ['A', 'B'],
  show() {
    this.members.forEach(function(m) {
      console.log(m + ' in ' + this.name);
    });
  }
};
broken.show();
\`\`\`
Here, this inside the callback refers to the global object, not the parent object.
## Tricky Interview Case: Arrow vs Regular Function
\`\`\`js
const obj = {
  name: 'Object',
  regular() {
    console.log(this.name);
  },
  arrow: () => {
    console.log(this.name);
  }
};
obj.regular();
obj.arrow();
\`\`\`
Regular functions use the calling object as this, arrow functions use lexical this.
## Callback Context Loss
\`\`\`js
const button = {
  text: 'Click me',
  click() {
    console.log(this.text + ' clicked');
  }
};
setTimeout(button.click, 100);
setTimeout(button.click.bind(button), 100);
\`\`\`
Passing a method as a callback loses its context unless bind or arrow functions are used.
## Custom bind Implementation (Advanced Interview Question)
\`\`\`js
Function.prototype.myBind = function(ctx, ...args) {
  const fn = this;
  return function(...newArgs) {
    return fn.apply(ctx, [...args, ...newArgs]);
  };
};
\`\`\`
This demonstrates how bind works internally using closures and apply.
## Interview One-Liners
- this depends on how a function is called
- Arrow functions inherit this from parent scope
- bind permanently sets this
- call and apply invoke immediately
- new creates a new this binding
## Final Takeaway
Understanding the this keyword is essential for avoiding context-related bugs and answering advanced JavaScript interview questions with confidence.
`,codeExample:`// Default binding
function showThis() {
  console.log(this);
}
showThis();

// Implicit binding
const person = {
  name: 'John',
  greet() {
    console.log(this.name);
  }
};
person.greet();

// Explicit binding
const greet = person.greet;
greet.call(person);

// new binding
function User(name) {
  this.name = name;
}
const u = new User('Alice');
console.log(u.name);

// Arrow function
const obj = {
  name: 'Obj',
  arrow: () => console.log(this.name)
};
obj.arrow();
`,language:"javascript"},{id:"interview-scope",title:"Scope & var/let/const",content:`# Scope & var/let/const  Complete Guide
Scope defines where variables and functions are accessible in JavaScript. It controls variable visibility, lifetime, and helps prevent naming conflicts. Understanding scope is essential for writing predictable code and answering JavaScript interview questions.
## What is Scope?
Scope determines the visibility of variables. JavaScript follows lexical scoping, meaning scope is decided by where variables are written in the code.
## Types of Scope
1. Global Scope  variables accessible everywhere
2. Function Scope  variables declared with var inside functions
3. Block Scope  variables declared with let and const inside {}
4. Module Scope  variables scoped to ES modules using import/export
## Global Scope
Variables declared outside functions belong to the global scope. In browsers, var declarations become properties of the window object, while let and const do not. Overusing global scope leads to bugs and conflicts.
## Function Scope
var is function-scoped, not block-scoped. Variables declared with var inside a function are accessible throughout the entire function, even inside blocks.
## Block Scope
let and const are block-scoped and exist only within the nearest braces. This prevents accidental overwrites and makes code safer.
## var vs let vs const
| Feature | var | let | const |
| Scope | Function | Block | Block |
| Hoisting | Yes (undefined) | Yes (TDZ) | Yes (TDZ) |
| Redeclaration | Allowed | Not allowed | Not allowed |
| Reassignment | Allowed | Allowed | Not allowed |
| Global object property | Yes | No | No |
## Hoisting and Temporal Dead Zone
var is hoisted and initialized with undefined. let and const are hoisted but remain in the Temporal Dead Zone until declared, causing ReferenceError if accessed early.
## const Does Not Mean Immutable
const prevents reassignment but allows mutation of objects and arrays. True immutability requires Object.freeze.
## Scope Chain
When accessing a variable, JavaScript first looks in the current scope, then outer scopes, until it reaches the global scope. This lookup process is called the scope chain.
## Lexical Scope
Lexical scope means a function remembers variables from where it was defined, not where it is called. This concept is fundamental to closures.
## Variable Shadowing
Shadowing happens when a variable in an inner scope has the same name as one in an outer scope. The inner variable takes precedence within its scope.
## IIFE and Scope Isolation
Before ES6 modules, IIFEs were used to create private scopes and avoid polluting the global namespace.
## Interview One-Liners
- Scope defines where variables are accessible
- JavaScript uses lexical scoping
- var is function-scoped, let and const are block-scoped
- const prevents reassignment, not mutation
- Scope chain controls variable lookup
## Final Takeaway
Mastering scope and var/let/const behavior helps prevent bugs, improves code clarity, and is critical for JavaScript interviews.`,codeExample:`// GLOBAL SCOPE
var globalVar = 'global var';
let globalLet = 'global let';
console.log(window.globalVar);
console.log(window.globalLet);
// FUNCTION SCOPE
function testVar() {
  var x = 1;
  if (true) {
    var x = 2;
    console.log(x);
  }
  console.log(x);
}
function testLet() {
  let x = 1;
  if (true) {
    let x = 2;
    console.log(x);
  }
  console.log(x);
}
// BLOCK SCOPE
{
  var blockVar = 'I escape blocks';
  let blockLet = 'I stay in blocks';
  const blockConst = 'Me too';
}
console.log(blockVar);
// CONST MUTABILITY
const obj = { name: 'John' };
obj.name = 'Jane';
console.log(obj);
const arr = [1, 2, 3];
arr.push(4);
console.log(arr);
// IMMUTABILITY
const frozen = Object.freeze({ name: 'John' });
frozen.name = 'Jane';
console.log(frozen.name);
// REDECLARATION
var a = 1;
var a = 2;
let b = 1;
// SCOPE CHAIN
const globalVal = 'global';
function outer() {
  const outerVal = 'outer';
  function inner() {
    const innerVal = 'inner';
    console.log(globalVal, outerVal, innerVal);
  }
  inner();
}
outer();
// LEXICAL SCOPE
function createFunctions() {
  const funcs = [];
  for (let i = 0; i < 3; i++) {
    funcs.push(() => i);
  }
  return funcs;
}
const functions = createFunctions();
console.log(functions[0](), functions[1](), functions[2]());
// SHADOWING
const x = 10;
function shadow() {
  const x = 20;
  console.log(x);
  if (true) {
    const x = 30;
    console.log(x);
  }
  console.log(x);
}
shadow();
console.log(x);
// IIFE
(function() {
  var privateVar = 'private';
  console.log(privateVar);
})();`,language:"javascript"},{id:"interview-event-loop",title:"Event Loop & Concurrency",content:`# Event Loop & Concurrency  Complete Guide
The Event Loop is the core mechanism that allows JavaScript to handle asynchronous operations despite being single-threaded. It decides the execution order of synchronous code, promises, timers, and async callbacks. Understanding the event loop is critical for predicting output-based interview questions.
## What is the Event Loop?
The event loop is a continuous process that monitors the call stack and task queues. When the call stack becomes empty, the event loop pushes queued tasks into the stack for execution.
## Why Event Loop Exists
JavaScript runs on a single thread, meaning it can execute only one task at a time. The event loop enables non-blocking behavior by offloading asynchronous tasks and executing them later.
## Main Components
1. Call Stack  Executes synchronous code line by line
2. Web APIs  Browser or Node APIs that handle async operations
3. Microtask Queue  Promise callbacks, queueMicrotask, MutationObserver
4. Macrotask Queue  setTimeout, setInterval, I/O, UI events
## Execution Order Rule
1. Execute all synchronous code in Call Stack
2. Execute all Microtasks until the queue is empty
3. Execute one Macrotask
4. Repeat the cycle
## Key Interview Rule
All microtasks are executed completely before moving to the next macrotask.
## Microtasks
Microtasks have higher priority than macrotasks. Promise.then, async/await continuation, and queueMicrotask are microtasks.
## Macrotasks
Macrotasks include setTimeout, setInterval, setImmediate, I/O callbacks, and UI events.
## Async/Await and Event Loop
async functions execute synchronously until the first await. After await, the remaining code is scheduled as a microtask.
## requestAnimationFrame
requestAnimationFrame runs before the browser repaint and after microtasks. Its timing can vary depending on rendering cycles.
## Common Interview Traps
- Promises always run before setTimeout
- await pauses execution but does not block the call stack
- Nested promises inside timers still execute before the next macrotask
## Interview One-Liners
- JavaScript is single-threaded but asynchronous
- Microtasks always run before macrotasks
- Promises have higher priority than timers
- async/await is syntax sugar over promises
- The event loop controls execution order
## Final Takeaway
Mastering the event loop allows you to confidently solve output-based questions, avoid race conditions, and write efficient asynchronous JavaScript code.`,codeExample:`// BASIC EVENT LOOP
console.log('1');
setTimeout(() => console.log('2'), 0);
Promise.resolve().then(() => console.log('3'));
console.log('4');
// Output: 1 4 3 2
// COMPLEX ORDER
console.log('Start');
setTimeout(() => console.log('Timeout 1'), 0);
Promise.resolve().then(() => console.log('Promise 1')).then(() => console.log('Promise 2'));
setTimeout(() => {
  console.log('Timeout 2');
  Promise.resolve().then(() => console.log('Promise inside Timeout'));
}, 0);
Promise.resolve().then(() => console.log('Promise 3'));
console.log('End');
// Output: Start End Promise1 Promise3 Promise2 Timeout1 Timeout2 Promise inside Timeout
// NESTED TASKS
setTimeout(() => {
  console.log('timeout 1');
  setTimeout(() => console.log('timeout 2'), 0);
  Promise.resolve().then(() => console.log('promise in timeout'));
}, 0);
setTimeout(() => console.log('timeout 3'), 0);
// Output: timeout1 promise in timeout timeout3 timeout2
// ASYNC AWAIT
async function async1() {
  console.log('async1 start');
  await async2();
  console.log('async1 end');
}
async function async2() {
  console.log('async2');
}
console.log('script start');
setTimeout(() => console.log('setTimeout'), 0);
async1();
new Promise(resolve => {
  console.log('promise1');
  resolve();
}).then(() => console.log('promise2'));
console.log('script end');
// queueMicrotask
console.log('1');
queueMicrotask(() => console.log('2'));
Promise.resolve().then(() => console.log('3'));
console.log('4');
// requestAnimationFrame
console.log('A');
requestAnimationFrame(() => console.log('rAF'));
setTimeout(() => console.log('timeout'), 0);
Promise.resolve().then(() => console.log('promise'));
console.log('B');`,language:"javascript"},{id:"interview-promises",title:"Promises - Complete Guide",content:`# Promises  Complete Guide
Promises are a core JavaScript feature used to handle asynchronous operations in a clean and predictable way. They help avoid callback hell and are heavily tested in JavaScript interviews, especially with output-based and event loop questions.
## What is a Promise?
A Promise is an object that represents the eventual completion or failure of an asynchronous operation. It acts as a placeholder for a value that will be available in the future.
## Why Promises Exist
Promises solve problems related to deeply nested callbacks, error handling, and async flow control. They allow chaining, centralized error handling, and better readability.
## Promise States
1. Pending  initial state, neither fulfilled nor rejected
2. Fulfilled  operation completed successfully
3. Rejected  operation failed with an error
A promise can move only once from pending to fulfilled or rejected.
## How Promises Work Internally
When a promise is resolved or rejected, its callbacks are pushed into the microtask queue. These callbacks run after the current call stack finishes but before any macrotasks.
## Core Promise Methods
then() handles successful resolution and returns a new promise
catch() handles errors and rejected promises
finally() runs regardless of success or failure
## Promise Chaining
then() always returns a new promise, allowing multiple asynchronous steps to be chained in sequence. Returning a value passes it to the next then, returning a promise waits for it to resolve.
## Error Handling in Promises
Errors thrown inside then are automatically passed to the nearest catch. A single catch can handle errors from the entire chain.
## Promise.all
Promise.all runs multiple promises in parallel and resolves only when all promises resolve. It fails fast if any promise rejects.
## Promise.allSettled
Promise.allSettled waits for all promises to finish, regardless of success or failure, and returns detailed results for each promise.
## Promise.race
Promise.race resolves or rejects as soon as the first promise settles, regardless of outcome.
## Promise.any
Promise.any resolves as soon as the first promise fulfills. If all promises reject, it throws an AggregateError.
## Promises vs Async/Await
async/await is syntax sugar over promises. await pauses execution of the async function and resumes it as a microtask.
## Common Interview Traps
- Promise callbacks run before setTimeout
- then callbacks are microtasks
- Errors inside then go to catch
- Promise.all fails fast
- Promise.any ignores rejected promises until all fail
## Interview One-Liners
- Promises represent future values
- then returns a new promise
- catch handles rejected promises
- Microtasks have higher priority than timers
- async/await is built on promises
## Final Takeaway
Understanding promises deeply allows you to reason about async execution order, avoid race conditions, and confidently solve JavaScript interview questions.`,codeExample:`// CREATING A PROMISE
const promise = new Promise((resolve, reject) => {
  const success = true;
  setTimeout(() => {
    if (success) resolve('Data loaded');
    else reject(new Error('Failed to load'));
  }, 1000);
});
promise.then(data => console.log(data)).catch(err => console.error(err)).finally(() => console.log('Cleanup'));
// PROMISE CHAINING
function fetchUser(id) {
  return new Promise(resolve => {
    setTimeout(() => resolve({ id, name: 'John' }), 100);
  });
}
function fetchPosts(userId) {
  return new Promise(resolve => {
    setTimeout(() => resolve([{ id: 1, title: 'Post 1' }]), 100);
  });
}
fetchUser(1).then(user => {
  console.log('User:', user);
  return fetchPosts(user.id);
}).then(posts => {
  console.log('Posts:', posts);
  return posts.length;
}).then(count => console.log('Post count:', count)).catch(err => console.error(err));
// PROMISE.ALL
const p1 = Promise.resolve(1);
const p2 = Promise.resolve(2);
const p3 = Promise.resolve(3);
Promise.all([p1, p2, p3]).then(values => console.log(values));
const p4 = Promise.reject('Error!');
Promise.all([p1, p4, p3]).catch(err => console.log('Caught:', err));
// PROMISE.ALLSETTLED
Promise.allSettled([p1, p4, p3]).then(results => console.log(results));
// PROMISE.RACE
const slow = new Promise(r => setTimeout(() => r('slow'), 200));
const fast = new Promise(r => setTimeout(() => r('fast'), 100));
Promise.race([slow, fast]).then(result => console.log(result));
// PROMISE.ANY
const fail1 = Promise.reject('fail1');
const fail2 = Promise.reject('fail2');
const success1 = new Promise(r => setTimeout(() => r('success'), 100));
Promise.any([fail1, fail2, success1]).then(result => console.log(result)).catch(err => console.log(err.errors));
// ERROR HANDLING
Promise.resolve().then(() => {
  throw new Error('Error in then');
}).then(() => {
  console.log('This will not run');
}).catch(err => {
  console.log('Caught:', err.message);
  return 'recovered';
}).then(val => console.log('Recovered with:', val));
// ORDER OF EXECUTION
Promise.resolve().then(() => console.log(1)).then(() => console.log(2));
Promise.resolve().then(() => console.log(3)).then(() => console.log(4));
// IMPLEMENT PROMISE.ALL
function myPromiseAll(promises) {
  return new Promise((resolve, reject) => {
    const results = [];
    let completed = 0;
    if (promises.length === 0) resolve(results);
    promises.forEach((promise, index) => {
      Promise.resolve(promise).then(value => {
        results[index] = value;
        completed++;
        if (completed === promises.length) resolve(results);
      }).catch(reject);
    });
  });
}
// IMPLEMENT PROMISE.RACE
function myPromiseRace(promises) {
  return new Promise((resolve, reject) => {
    promises.forEach(promise => {
      Promise.resolve(promise).then(resolve).catch(reject);
    });
  });
}
// PROMISIFY CALLBACK
function promisify(fn) {
  return function(...args) {
    return new Promise((resolve, reject) => {
      fn(...args, (err, result) => {
        if (err) reject(err);
        else resolve(result);
      });
    });
  };
}
function callbackFn(a, b, callback) {
  setTimeout(() => callback(null, a + b), 100);
}
const promiseFn = promisify(callbackFn);
promiseFn(1, 2).then(result => console.log(result));`,language:"javascript"},{id:"interview-async-await",title:"Async/Await - Mastery",content:`# Async/Await  Mastery
Async/await is a modern JavaScript feature built on top of Promises that allows asynchronous code to be written in a synchronous-looking manner. It improves readability, error handling, and control flow and is heavily tested in JavaScript interviews.
## What is Async/Await?
async/await is syntactic sugar over Promises. An async function always returns a Promise, and await pauses the execution of the async function until the awaited Promise settles.
## Why Async/Await Exists
Async/await solves problems related to deeply nested then chains, unclear control flow, and scattered error handling in promise-based code.
## How async Works
When a function is marked async, JavaScript automatically wraps its return value inside a Promise. Returning a value resolves the Promise, and throwing an error rejects it.
## How await Works
await pauses execution of the current async function until the Promise resolves or rejects. It does not block the call stack; instead, it schedules the remaining code as a microtask.
## Execution Order with Async/Await
Code before await runs synchronously. Code after await runs asynchronously as a microtask once the awaited Promise resolves.
## Error Handling
Errors inside async functions should be handled using try/catch. A thrown error inside async behaves like a rejected Promise.
## Sequential vs Parallel Execution
Using await sequentially inside a function runs operations one after another. To run tasks in parallel, Promise.all should be used with await.
## await Limitations
await can only be used inside async functions or at the top level of ES modules. Using await inside forEach does not work as expected.
## Async/Await and Event Loop
await resumes execution via the microtask queue, giving it higher priority than timers like setTimeout.
## Common Interview Traps
- async functions always return Promises
- await does not block the main thread
- forEach does not work with await
- try/catch is required for proper error handling
- async/await is built on Promises
## Interview One-Liners
- async returns a Promise
- await pauses async function execution
- Errors in async reject the Promise
- async/await uses microtasks
- Promise.all enables parallel execution
## Final Takeaway
Mastering async/await helps write clean asynchronous code, understand execution order, and confidently solve output-based JavaScript interview questions.`,codeExample:`// BASIC ASYNC AWAIT
async function fetchData() {
  const response = await fetch('https://api.example.com/data');
  const data = await response.json();
  return data;
}
// PROMISE EQUIVALENT
function fetchDataPromise() {
  return fetch('https://api.example.com/data').then(r => r.json());
}
// ERROR HANDLING
async function fetchWithError() {
  try {
    const response = await fetch('https://invalid-url');
    return await response.json();
  } catch (error) {
    console.error(error.message);
    throw error;
  } finally {
    console.log('Cleanup');
  }
}
// PARALLEL VS SEQUENTIAL
async function fetchParallel() {
  const user = await fetchUser(1);
  const posts = await fetchPosts(1);
  const [user2, posts2] = await Promise.all([fetchUser(1), fetchPosts(1)]);
  return { user2, posts2 };
}
// SEQUENTIAL LOOP
async function processSequentially(items) {
  const results = [];
  for (const item of items) {
    results.push(await processItem(item));
  }
  return results;
}
// forEach PITFALL
async function wrongWay(items) {
  items.forEach(async item => {
    await processItem(item);
  });
  console.log('Done');
}
// CORRECT for...of
async function correctWay(items) {
  for (const item of items) {
    await processItem(item);
  }
  console.log('Done');
}
// PROMISE.ALL WAY
async function parallelWay(items) {
  await Promise.all(items.map(item => processItem(item)));
  console.log('Done');
}
// ASYNC IIFE
(async () => {
  const data = await fetchData();
  console.log(data);
})();
// RETURN VALUE
async function getNumber() {
  return 42;
}
getNumber().then(num => console.log(num));
// THROW ERROR
async function throwError() {
  throw new Error('Oops');
}
throwError().catch(err => console.log(err.message));
// AWAIT NON PROMISE
async function awaitNonPromise() {
  const value = await 42;
  console.log(value);
}
// OUTPUT QUESTION
async function foo() {
  console.log('foo start');
  await bar();
  console.log('foo end');
}
async function bar() {
  console.log('bar');
}
console.log('script start');
foo();
console.log('script end');
// ASYNC RETRY
async function retry(fn, retries = 3, delayMs = 1000) {
  for (let i = 0; i < retries; i++) {
    try {
      return await fn();
    } catch (e) {
      if (i === retries - 1) throw e;
      await new Promise(r => setTimeout(r, delayMs));
    }
  }
}
// ASYNC DELAY
const delay = ms => new Promise(r => setTimeout(r, ms));
async function delayedLog() {
  console.log('Start');
  await delay(1000);
  console.log('After 1 second');
  await delay(1000);
  console.log('After 2 seconds');
}
// CONCURRENCY LIMIT
async function asyncPool(limit, items, fn) {
  const results = [];
  const executing = [];
  for (const item of items) {
    const p = Promise.resolve().then(() => fn(item));
    results.push(p);
    if (limit <= items.length) {
      const e = p.then(() => executing.splice(executing.indexOf(e), 1));
      executing.push(e);
      if (executing.length >= limit) await Promise.race(executing);
    }
  }
  return Promise.all(results);
}`,language:"javascript"},{id:"interview-callbacks",title:"Callbacks & Callback Hell",content:`# Callbacks - Complete Interview Guide

## What is a Callback?
A callback is a function passed as an argument to another function, to be executed later (synchronously or asynchronously). The term "callback" refers to the fact that we're "calling back" into our code from within another function.

## Why Callbacks Exist
JavaScript is single-threaded and uses an event-driven, non-blocking I/O model. Callbacks allow us to:
- Handle asynchronous operations without blocking the main thread
- Write code that responds to events (clicks, API responses, timers)
- Create reusable higher-order functions (map, filter, reduce)

## Types of Callbacks
1. Synchronous - Executed immediately within the calling function (Array methods)
2. Asynchronous - Scheduled to execute later via event loop (setTimeout, API calls, file I/O)

## Error-First Pattern (Node.js Convention)
First argument is always the error object, second is the data. If no error occurred, first arg is null. This standardization allows consistent error handling across all async operations.

## Callback Hell (Pyramid of Doom)
Deeply nested callbacks causing:
- Poor readability - code moves horizontally more than vertically
- Difficult debugging - hard to trace execution flow
- Hard to maintain - changes require modifying deeply nested code
- Error handling complexity - try/catch doesn't work with async callbacks
- Tight coupling - each level depends on the previous

## Solutions to Callback Hell
1. Named functions - extract anonymous functions into named ones
2. Modularization - separate concerns into different modules
3. Promises - chain operations instead of nesting
4. Async/Await - write async code that looks synchronous
5. Control flow libraries (async.js) - utilities for managing async operations
6. Event emitters - pub/sub pattern for decoupled communication

---

## BASIC CALLBACK CONCEPT
A callback is simply a function passed to another function as an argument. The receiving function can then "call back" (execute) that function whenever it's appropriate - immediately, after some operation, or in response to an event.

\`\`\`js
// Basic callback example - synchronous execution
// Here, the callback is executed immediately within the greet function
function greet(name, callback) {
  console.log('Hello, ' + name);
  // The callback is invoked after the greeting
  // This allows the caller to define what happens next
  callback();
}
greet('John', function() {
  console.log('Callback executed');
});
// Output: "Hello, John" then "Callback executed"
// The callback runs synchronously - it executes before greet() returns

// Callback with parameters - passing data to the callback
// This pattern allows the function to share computed results with the callback
function calculate(a, b, callback) {
  // The callback receives the two numbers and can perform any operation
  // This makes calculate() extremely flexible - it doesn't need to know
  // what operation will be performed
  const result = callback(a, b);
  console.log('Result:', result);
  return result;
}
// Same function, different callbacks - demonstrating flexibility
calculate(5, 3, (x, y) => x + y); // Result: 8 (addition)
calculate(5, 3, (x, y) => x * y); // Result: 15 (multiplication)
calculate(5, 3, (x, y) => x ** y); // Result: 125 (exponentiation)
// This is the foundation of functional programming in JavaScript
\`\`\`

### Real-world Analogy
Think of ordering food at a restaurant:
1. You place an order (call a function)
2. You give the waiter your table number (pass a callback)
3. The kitchen prepares food (async operation)
4. Waiter brings food to your table (callback is executed)
You don't wait at the counter - you're free to do other things!

---

## SYNCHRONOUS VS ASYNCHRONOUS CALLBACKS
Understanding this difference is CRUCIAL for JavaScript interviews. It's the foundation of how JavaScript handles concurrency.

### Synchronous Callbacks
- Execute immediately, one after another
- Block the execution until complete
- Run on the main thread in the current call stack
- Examples: Array methods (map, filter, forEach, reduce)

### Asynchronous Callbacks
- Scheduled to execute later
- Don't block execution - code continues immediately
- Run after the current call stack is empty
- Examples: setTimeout, setInterval, fetch, event handlers, I/O operations

\`\`\`js
// SYNCHRONOUS CALLBACKS
console.log('Start');
[1, 2, 3].forEach(num => console.log(num)); // Sync callback - runs immediately
console.log('End');
// Output: Start, 1, 2, 3, End (in exact order)
// The forEach callback executes synchronously - the loop completes before 'End' prints

// ASYNCHRONOUS CALLBACKS
console.log('Start');
setTimeout(() => console.log('Timeout'), 0); // Async - even with 0ms delay!
console.log('End');
// Output: Start, End, Timeout
// Even with 0ms delay, setTimeout callback goes to the task queue
// It only executes AFTER the current synchronous code completes

// Detailed comparison showing the execution flow
function syncOperation(callback) {
  console.log('Before callback');
  callback(); // Executes RIGHT NOW, in this exact spot
  console.log('After callback');
}
function asyncOperation(callback) {
  console.log('Before callback');
  setTimeout(callback, 0); // Schedules for LATER, continues immediately
  console.log('After callback');
}
// Sync: Before -> Callback -> After (callback in the middle)
syncOperation(() => console.log('Sync callback'));
// Async: Before -> After -> Callback (callback at the end)
asyncOperation(() => console.log('Async callback'));
\`\`\`

**Why this matters for interviews:** This is the foundation of the JavaScript Event Loop. Understanding this helps you predict code output and debug timing issues.

---

## ERROR-FIRST CALLBACK PATTERN (NODE.JS CONVENTION)
This is the standard pattern used throughout Node.js and many JS libraries.

**Convention:** callback(error, data)
- First parameter is ALWAYS the error (null if no error)
- Second parameter is the result data
- This allows consistent error handling across all async operations

\`\`\`js
function readFile(path, callback) {
  // Simulating async file reading with setTimeout
  setTimeout(() => {
    // Error case: invalid path
    if (!path || path === 'invalid') {
      // Pass error as FIRST argument, data as null
      callback(new Error('File not found'), null);
    } else {
      // Success case: null error, data as SECOND argument
      callback(null, 'File content: Hello World');
    }
  }, 100);
}
// Proper error handling with error-first pattern
readFile('valid.txt', (err, data) => {
  // ALWAYS check for error first
  if (err) {
    console.error('Error:', err.message);
    return; // Early return prevents executing success code
  }
  // Only process data if no error
  console.log('Data:', data);
});
\`\`\`

### Why Error-First?
1. **Consistency** - every callback has the same signature
2. **Forces error handling** - you can't forget to check errors
3. **try/catch doesn't work** with async callbacks
4. **Allows for generic** error handling utilities

\`\`\`js
// More complex example with multiple error conditions
function writeFile(path, content, callback) {
  setTimeout(() => {
    // Validate inputs and provide specific error messages
    if (!path) {
      callback(new Error('Path is required'));
      return; // Always return after calling callback with error
    }
    if (!content) {
      callback(new Error('Content is required'));
      return;
    }
    if (path.includes('..')) {
      callback(new Error('Invalid path: directory traversal not allowed'));
      return;
    }
    // Success - null error, result object
    callback(null, { 
      success: true, 
      bytesWritten: content.length,
      timestamp: Date.now()
    });
  }, 100);
}
writeFile('test.txt', 'Hello', (err, result) => {
  if (err) return console.error(err.message);
  console.log('Written:', result.bytesWritten, 'bytes');
});
\`\`\`

### Common Mistake
Forgetting to return after error callback causes success code to run even after an error!

\`\`\`js
// BAD:
if (err) { callback(err); } // Missing return!
callback(null, data); // This still runs!

// GOOD:
if (err) { return callback(err); } // Return stops execution
callback(null, data); // Only runs if no error
\`\`\`

---

## CALLBACK HELL - THE PROBLEM
Callback Hell (also called "Pyramid of Doom") occurs when we have multiple asynchronous operations that depend on each other's results. Each nested callback adds indentation, making code hard to read and maintain.

\`\`\`js
// Setting up our async functions that simulate API calls
function getUser(id, callback) {
  setTimeout(() => {
    console.log('Fetched user');
    callback({ id, name: 'John', email: 'john@example.com' });
  }, 100);
}
function getPosts(userId, callback) {
  setTimeout(() => {
    console.log('Fetched posts');
    callback([
      { id: 1, title: 'Post 1', userId },
      { id: 2, title: 'Post 2', userId }
    ]);
  }, 100);
}
function getComments(postId, callback) {
  setTimeout(() => {
    console.log('Fetched comments');
    callback([
      { id: 1, text: 'Great post!', postId },
      { id: 2, text: 'Thanks for sharing', postId }
    ]);
  }, 100);
}
function getLikes(commentId, callback) {
  setTimeout(() => {
    console.log('Fetched likes');
    callback({ count: 42, commentId });
  }, 100);
}

// THE PYRAMID OF DOOM - Classic callback hell
// Each operation depends on the previous one's result
// Notice how the code moves more RIGHT than DOWN
getUser(1, (user) => {
  console.log('User:', user.name);
  getPosts(user.id, (posts) => {
    console.log('Posts:', posts.length);
    getComments(posts[0].id, (comments) => {
      console.log('Comments:', comments.length);
      getLikes(comments[0].id, (likes) => {
        console.log('Likes:', likes.count);
        // Imagine adding more levels...
        // The indentation keeps growing
        // Error handling would make this even worse
        // Debugging becomes a nightmare
      });
    });
  });
});
\`\`\`

### Problems with Callback Hell
1. **READABILITY**: Hard to follow the flow of logic
2. **MAINTAINABILITY**: Adding/removing steps requires restructuring
3. **ERROR HANDLING**: Where do errors go? How do we handle them consistently?
4. **REUSABILITY**: Can't easily reuse parts of this chain
5. **TESTING**: Difficult to test individual parts

\`\`\`js
// WITH ERROR HANDLING - The pyramid gets worse!
function getUserWithError(id, callback) {
  setTimeout(() => {
    if (!id) return callback(new Error('ID required'), null);
    callback(null, { id, name: 'John' });
  }, 100);
}
function getPostsWithError(userId, callback) {
  setTimeout(() => {
    if (!userId) return callback(new Error('User ID required'), null);
    callback(null, [{ id: 1, title: 'Post 1' }]);
  }, 100);
}
// Error handling makes callback hell even more painful
// Every level needs its own if (err) check
getUserWithError(1, (err, user) => {
  if (err) {
    console.error('User error:', err.message);
    return; // Must return to prevent continuing
  }
  getPostsWithError(user.id, (err, posts) => {
    if (err) {
      console.error('Posts error:', err.message);
      return;
    }
    getComments(posts[0].id, (comments) => {
      // Even more error handling...
      // The repetition is exhausting
      // Easy to forget error handling at any level
    });
  });
});
// This is why Promises and async/await were introduced!
\`\`\`

---

## SOLUTION 1: NAMED FUNCTIONS
The simplest solution: extract anonymous callbacks into named functions.

### Benefits
- Flattens the pyramid structure
- Functions have descriptive names showing their purpose
- Easier to debug (function names appear in stack traces)
- Functions can be reused elsewhere
- Easier to test individual functions

\`\`\`js
function handleLikes(likes) {
  console.log('Final likes count:', likes.count);
  // Processing is complete
  // In real code, you might update UI or call another callback here
}
function handleComments(comments) {
  console.log('Processing comments:', comments.length);
  // Each function calls the next in the chain
  getLikes(comments[0].id, handleLikes);
}
function handlePosts(posts) {
  console.log('Processing posts:', posts.length);
  getComments(posts[0].id, handleComments);
}
function handleUser(user) {
  console.log('Processing user:', user.name);
  getPosts(user.id, handlePosts);
}
// Now the entry point is clean and simple
getUser(1, handleUser);
// The code flows vertically, not horizontally
// Each function has a single responsibility
// Stack traces will show: handleLikes <- handleComments <- handlePosts <- handleUser
\`\`\`

**Drawback:** Functions are defined in reverse order of execution. You read the definitions bottom-to-top to understand the flow.

---

## SOLUTION 2: MODULARIZATION
Organize related callbacks into service objects or modules. This adds structure and separates concerns. Each service handles one type of entity (users, posts, comments).

\`\`\`js
const UserService = {
  get(id, callback) {
    setTimeout(() => {
      if (!id) return callback(new Error('ID required'), null);
      callback(null, { id, name: 'John', email: 'john@example.com' });
    }, 100);
  },
  update(id, data, callback) {
    setTimeout(() => callback(null, { ...data, id, updated: true }), 100);
  }
};
const PostService = {
  getByUser(userId, callback) {
    setTimeout(() => {
      callback(null, [
        { id: 1, title: 'Post 1', userId },
        { id: 2, title: 'Post 2', userId }
      ]);
    }, 100);
  },
  create(data, callback) {
    setTimeout(() => callback(null, { id: Date.now(), ...data }), 100);
  }
};
const CommentService = {
  getByPost(postId, callback) {
    setTimeout(() => {
      callback(null, [
        { id: 1, text: 'Great!', postId },
        { id: 2, text: 'Thanks!', postId }
      ]);
    }, 100);
  }
};
// Usage is cleaner with clear service names
UserService.get(1, (err, user) => {
  if (err) return console.error(err);
  PostService.getByUser(user.id, (err, posts) => {
    if (err) return console.error(err);
    console.log('Modular approach - User:', user.name, 'Posts:', posts.length);
  });
});
\`\`\`

### Benefits
- Code is organized by domain/feature
- Easy to find related functionality
- Services can be tested independently
- Clear separation of concerns

---

## SOLUTION 3: PROMISIFY CALLBACKS
Convert callback-based functions to Promises. This allows using .then() chains or async/await. Many libraries provide promisify utilities (util.promisify in Node.js).

\`\`\`js
// Generic promisify function for error-first callbacks
// This works with any function that follows the Node.js callback convention
function promisify(fn) {
  return function(...args) {
    return new Promise((resolve, reject) => {
      // Call the original function with a callback that resolves/rejects
      fn(...args, (err, result) => {
        if (err) reject(err);
        else resolve(result);
      });
    });
  };
}
// Example callback function following error-first pattern
function getUserCallback(id, callback) {
  setTimeout(() => {
    if (!id) callback(new Error('ID required'), null);
    else callback(null, { id, name: 'John' });
  }, 100);
}
// Promisify it
const getUserPromise = promisify(getUserCallback);
// Now we can use async/await - much cleaner!
async function fetchUserData() {
  try {
    const user = await getUserPromise(1);
    console.log('User via promise:', user);
    return user;
  } catch (err) {
    console.error('Error:', err.message);
    throw err;
  }
}
\`\`\`

### For Non-Error-First Callbacks
\`\`\`js
// For callbacks that don't use error-first pattern
// (just pass the result directly to callback)
function wrapAsPromise(fn) {
  return function(...args) {
    return new Promise(resolve => {
      fn(...args, resolve);
    });
  };
}
// Promisify our non-error-first callbacks
const getUserP = wrapAsPromise(getUser);
const getPostsP = wrapAsPromise(getPosts);
const getCommentsP = wrapAsPromise(getComments);
// Beautiful async/await code - reads like synchronous code!
async function fetchAll() {
  const user = await getUserP(1);
  const posts = await getPostsP(user.id);
  const comments = await getCommentsP(posts[0].id);
  console.log('Fetched all:', { user, posts, comments });
  return { user, posts, comments };
}
// Compare this to the pyramid of doom above
// Same functionality, infinitely more readable
\`\`\`

---

## SOLUTION 4: CONTROL FLOW PATTERNS
Sometimes we need to manage multiple async operations. These patterns help coordinate callbacks without promises.

### SERIES EXECUTION
Run tasks one after another in order. Each task completes before the next starts. Useful when order matters or tasks depend on previous results.

\`\`\`js
function series(tasks, finalCallback) {
  let index = 0;
  const results = [];
  function next(err, result) {
    if (err) return finalCallback(err);
    // Store result (skip first call which has no result)
    if (index > 0) results.push(result);
    // Check if all tasks complete
    if (index >= tasks.length) {
      return finalCallback(null, results);
    }
    // Execute next task, passing 'next' as the callback
    const task = tasks[index++];
    task(next);
  }
  next(); // Start the chain
}
// Usage - tasks run in order: First, then Second, then Third
series([
  (cb) => setTimeout(() => cb(null, 'First'), 100),
  (cb) => setTimeout(() => cb(null, 'Second'), 50),
  (cb) => setTimeout(() => cb(null, 'Third'), 75)
], (err, results) => {
  console.log('Series results:', results);
  // ['First', 'Second', 'Third'] - always in this order
  // Total time: 100 + 50 + 75 = 225ms
});
\`\`\`

### PARALLEL EXECUTION
Run all tasks simultaneously. Collect results when all complete. Useful for independent operations - faster than series!

\`\`\`js
function parallel(tasks, finalCallback) {
  let completed = 0;
  const results = new Array(tasks.length); // Pre-sized for correct order
  let hasError = false;
  if (tasks.length === 0) {
    return finalCallback(null, []);
  }
  tasks.forEach((task, index) => {
    task((err, result) => {
      // Ignore if already errored
      if (hasError) return;
      if (err) {
        hasError = true;
        return finalCallback(err);
      }
      // Store result at correct index (maintains order)
      results[index] = result;
      completed++;
      // Check if all complete
      if (completed === tasks.length) {
        finalCallback(null, results);
      }
    });
  });
}
// Usage - tasks run simultaneously, results maintain order
parallel([
  (cb) => setTimeout(() => cb(null, 'A'), 300), // Slowest
  (cb) => setTimeout(() => cb(null, 'B'), 100), // Fastest
  (cb) => setTimeout(() => cb(null, 'C'), 200)  // Middle
], (err, results) => {
  console.log('Parallel results:', results);
  // ['A', 'B', 'C'] - order preserved despite different timings
  // Total time: ~300ms (max of all, not sum)
});
\`\`\`

### WATERFALL
Run tasks in series, but pass each result to the next task. Each task receives the result of the previous task. Perfect for dependent operations.

\`\`\`js
function waterfall(tasks, finalCallback) {
  let index = 0;
  function next(err, ...args) {
    if (err) return finalCallback(err);
    // All tasks complete, pass final result
    if (index >= tasks.length) {
      return finalCallback(null, ...args);
    }
    // Run next task with previous results
    const task = tasks[index++];
    task(...args, next);
  }
  next(null); // Start with no initial arguments
}
// Usage - each task receives and transforms the previous result
waterfall([
  (cb) => cb(null, 1),           // Start with 1
  (num, cb) => cb(null, num + 1), // 1 + 1 = 2
  (num, cb) => cb(null, num * 2), // 2 * 2 = 4
  (num, cb) => cb(null, num ** 2) // 4 ** 2 = 16
], (err, result) => {
  console.log('Waterfall result:', result); // 16
});
// These patterns are what async.js library provides
// Now you understand how they work internally!
\`\`\`

---

## HIGHER-ORDER FUNCTIONS WITH CALLBACKS
Higher-order functions either:
1. Take a function as an argument (callbacks)
2. Return a function
3. Both

Array methods are the most common example of callbacks in JavaScript.

\`\`\`js
const numbers = [1, 2, 3, 4, 5];

// MAP - Transform each element using the callback
// Returns a NEW array with transformed values
// Original array is unchanged (immutable operation)
// Callback receives: (element, index, originalArray)
const doubled = numbers.map(function(num, index, arr) {
  // num: current element
  // index: current index
  // arr: the original array
  return num * 2; // Return value becomes the new element
});
console.log('Doubled:', doubled); // [2, 4, 6, 8, 10]
console.log('Original unchanged:', numbers); // [1, 2, 3, 4, 5]

// FILTER - Keep elements that pass a test
// Returns a NEW array with only elements where callback returns true
// Callback should return a boolean
const evens = numbers.filter(num => num % 2 === 0);
console.log('Evens:', evens); // [2, 4]

// More complex filter example
const users = [
  { name: 'John', age: 25, active: true },
  { name: 'Jane', age: 17, active: true },
  { name: 'Bob', age: 30, active: false }
];
const activeAdults = users.filter(user => user.active && user.age >= 18);
console.log('Active adults:', activeAdults); // [{ name: 'John', ... }]

// REDUCE - Accumulate all elements into a single value
// Most powerful array method - can implement map, filter, and more
// Callback receives: (accumulator, currentElement, index, array)
const sum = numbers.reduce((acc, num) => acc + num, 0);
// Step by step: 0+1=1, 1+2=3, 3+3=6, 6+4=10, 10+5=15
console.log('Sum:', sum); // 15

// Reduce to find max
const max = numbers.reduce((acc, num) => num > acc ? num : acc, -Infinity);
console.log('Max:', max); // 5

// Reduce to group items
const items = ['apple', 'banana', 'apple', 'cherry', 'banana', 'apple'];
const counts = items.reduce((acc, item) => {
  acc[item] = (acc[item] || 0) + 1;
  return acc;
}, {});
console.log('Counts:', counts); // { apple: 3, banana: 2, cherry: 1 }

// FIND - Return first element that passes test
// Returns the element itself, or undefined if not found
const firstEven = numbers.find(num => num % 2 === 0);
console.log('First even:', firstEven); // 2

// FINDINDEX - Return index of first element that passes test
// Returns -1 if not found
const firstEvenIndex = numbers.findIndex(num => num % 2 === 0);
console.log('First even index:', firstEvenIndex); // 1

// SOME - Check if at least one element passes test
// Returns true if ANY callback returns true, false otherwise
// Short-circuits: stops as soon as it finds a true
const hasEven = numbers.some(num => num % 2 === 0);
console.log('Has even:', hasEven); // true

// EVERY - Check if all elements pass test
// Returns true only if ALL callbacks return true
// Short-circuits: stops as soon as it finds a false
const allPositive = numbers.every(num => num > 0);
console.log('All positive:', allPositive); // true
const allEven = numbers.every(num => num % 2 === 0);
console.log('All even:', allEven); // false

// FOREACH - Iterate without returning anything
// Used for side effects (logging, updating external variables)
// Returns undefined - can't chain after forEach
numbers.forEach((num, i) => console.log(\`Index \${i}: \${num}\`));

// SORT - Sort array in place using comparison callback
// Comparison callback returns:
//   negative: a comes before b
//   positive: b comes before a
//   zero: order unchanged
const unsorted = [3, 1, 4, 1, 5, 9, 2, 6];
const sorted = [...unsorted].sort((a, b) => a - b); // Ascending
console.log('Sorted:', sorted); // [1, 1, 2, 3, 4, 5, 6, 9]
const descending = [...unsorted].sort((a, b) => b - a); // Descending
console.log('Descending:', descending); // [9, 6, 5, 4, 3, 2, 1, 1]
\`\`\`

---

## IMPLEMENT ARRAY METHODS FROM SCRATCH
Understanding how these work internally is crucial for interviews. It demonstrates deep understanding of callbacks and iteration.

### Custom MAP Implementation
Key points:
- Create new array (don't modify original)
- Call callback for each element
- Push callback's return value to result
- Handle sparse arrays with 'in' operator

\`\`\`js
function myMap(arr, callback) {
  const result = [];
  for (let i = 0; i < arr.length; i++) {
    // 'in' checks if index exists (handles sparse arrays)
    // [1, , 3] has no index 1, so we skip it
    if (i in arr) {
      result[i] = callback(arr[i], i, arr);
    }
  }
  return result;
}
console.log(myMap([1, 2, 3], x => x * 2)); // [2, 4, 6]
\`\`\`

### Custom FILTER Implementation
Key points:
- Only push elements where callback returns truthy value
- Result array may be smaller than original

\`\`\`js
function myFilter(arr, callback) {
  const result = [];
  for (let i = 0; i < arr.length; i++) {
    if (i in arr && callback(arr[i], i, arr)) {
      result.push(arr[i]);
    }
  }
  return result;
}
console.log(myFilter([1, 2, 3, 4], x => x % 2 === 0)); // [2, 4]
\`\`\`

### Custom REDUCE Implementation
Key points:
- Handle optional initial value
- If no initial value, use first element and start from index 1
- Throw error for empty array with no initial value

\`\`\`js
function myReduce(arr, callback, initialValue) {
  let accumulator;
  let startIndex;
  // Determine starting point and initial accumulator
  if (initialValue !== undefined) {
    accumulator = initialValue;
    startIndex = 0;
  } else {
    // No initial value - use first element
    if (arr.length === 0) {
      throw new TypeError('Reduce of empty array with no initial value');
    }
    accumulator = arr[0];
    startIndex = 1; // Skip first element since it's the initial value
  }
  for (let i = startIndex; i < arr.length; i++) {
    if (i in arr) {
      accumulator = callback(accumulator, arr[i], i, arr);
    }
  }
  return accumulator;
}
console.log(myReduce([1, 2, 3, 4], (a, b) => a + b, 0)); // 10
console.log(myReduce([1, 2, 3, 4], (a, b) => a + b)); // 10 (no initial value)
\`\`\`

### Custom FIND Implementation
Returns first matching element or undefined.

\`\`\`js
function myFind(arr, callback) {
  for (let i = 0; i < arr.length; i++) {
    if (i in arr && callback(arr[i], i, arr)) {
      return arr[i]; // Return immediately on first match
    }
  }
  return undefined; // No match found
}
console.log(myFind([1, 2, 3, 4], x => x > 2)); // 3
\`\`\`

### Custom FINDINDEX Implementation
Returns index of first match or -1.

\`\`\`js
function myFindIndex(arr, callback) {
  for (let i = 0; i < arr.length; i++) {
    if (i in arr && callback(arr[i], i, arr)) {
      return i; // Return index, not element
    }
  }
  return -1; // Convention: -1 means "not found"
}
console.log(myFindIndex([1, 2, 3, 4], x => x > 2)); // 2
\`\`\`

### Custom SOME Implementation
Returns true if any element passes, false otherwise.

\`\`\`js
function mySome(arr, callback) {
  for (let i = 0; i < arr.length; i++) {
    if (i in arr && callback(arr[i], i, arr)) {
      return true; // Short-circuit: found one, stop looking
    }
  }
  return false; // None matched
}
console.log(mySome([1, 2, 3], x => x > 2)); // true
\`\`\`

### Custom EVERY Implementation
Returns true only if ALL elements pass.

\`\`\`js
function myEvery(arr, callback) {
  for (let i = 0; i < arr.length; i++) {
    if (i in arr && !callback(arr[i], i, arr)) {
      return false; // Short-circuit: found failure, stop looking
    }
  }
  return true; // All passed
}
console.log(myEvery([1, 2, 3], x => x > 0)); // true
\`\`\`

### Custom FOREACH Implementation
No return value - just executes callback for each element.

\`\`\`js
function myForEach(arr, callback) {
  for (let i = 0; i < arr.length; i++) {
    if (i in arr) {
      callback(arr[i], i, arr);
    }
  }
  // Returns undefined implicitly
}
\`\`\`

### Custom FLAT Implementation
Flattens nested arrays to specified depth.

\`\`\`js
function myFlat(arr, depth = 1) {
  const result = [];
  function flatten(array, d) {
    for (let i = 0; i < array.length; i++) {
      if (Array.isArray(array[i]) && d > 0) {
        // Recursively flatten with reduced depth
        flatten(array[i], d - 1);
      } else {
        result.push(array[i]);
      }
    }
  }
  flatten(arr, depth);
  return result;
}
console.log(myFlat([1, [2, [3, [4]]]], 1)); // [1, 2, [3, [4]]]
console.log(myFlat([1, [2, [3, [4]]]], 2)); // [1, 2, 3, [4]]
console.log(myFlat([1, [2, [3, [4]]]], Infinity)); // [1, 2, 3, 4]
\`\`\`

### Custom FLATMAP Implementation
Map then flatten by 1 level - more efficient than map().flat().

\`\`\`js
function myFlatMap(arr, callback) {
  return myFlat(myMap(arr, callback), 1);
}
console.log(myFlatMap([1, 2, 3], x => [x, x * 2]));
// [1, 2, 2, 4, 3, 6]
\`\`\`

---

## CALLBACK COMPOSITION PATTERNS
Advanced patterns for combining and enhancing callbacks.

### COMPOSE - Chain Async Callbacks Together
Each callback's result feeds into the next. Similar to waterfall but creates a reusable composed function.

\`\`\`js
function compose(...callbacks) {
  return function(initialValue, finalCallback) {
    function executeNext(index, value) {
      // All callbacks executed, return final result
      if (index >= callbacks.length) {
        return finalCallback(null, value);
      }
      // Execute current callback with current value
      callbacks[index](value, (err, result) => {
        if (err) return finalCallback(err);
        // Move to next callback with this result
        executeNext(index + 1, result);
      });
    }
    executeNext(0, initialValue);
  };
}
// Define individual transformation callbacks
const addOne = (x, cb) => setTimeout(() => cb(null, x + 1), 50);
const double = (x, cb) => setTimeout(() => cb(null, x * 2), 50);
const square = (x, cb) => setTimeout(() => cb(null, x * x), 50);
// Compose them into a single function
const composed = compose(addOne, double, square);
// Use the composed function
composed(3, (err, result) => {
  console.log('Composed result:', result);
  // Step by step: 3 -> 4 (addOne) -> 8 (double) -> 64 (square)
});
\`\`\`

### RETRY PATTERN
Automatically retry failed operations with delay between attempts. Essential for handling flaky network requests or transient errors.

\`\`\`js
function retry(fn, retries, delay, callback) {
  fn((err, result) => {
    // Success - no need to retry
    if (!err) return callback(null, result);
    // Out of retries - return the error
    if (retries <= 0) return callback(err);
    // Retry after delay
    console.log(\`Retrying... \${retries} attempts left\`);
    setTimeout(() => {
      retry(fn, retries - 1, delay, callback);
    }, delay);
  });
}
// Simulate an unreliable operation that fails twice then succeeds
let attempts = 0;
const unreliableOperation = (cb) => {
  attempts++;
  console.log(\`Attempt \${attempts}\`);
  if (attempts < 3) {
    cb(new Error('Random failure'));
  } else {
    cb(null, 'Success!');
  }
};
retry(unreliableOperation, 5, 100, (err, result) => {
  console.log('Retry result:', err?.message || result);
  // Output: Attempt 1, Retry..., Attempt 2, Retry..., Attempt 3, Success!
});
\`\`\`

### TIMEOUT WRAPPER
Ensure callbacks complete within a time limit. Prevents hanging operations from blocking indefinitely.

\`\`\`js
function withTimeout(fn, timeout, callback) {
  let timedOut = false;
  // Set timeout to fire error
  const timer = setTimeout(() => {
    timedOut = true;
    callback(new Error(\`Operation timed out after \${timeout}ms\`));
  }, timeout);
  // Execute the function
  fn((err, result) => {
    // If already timed out, ignore this callback
    if (timedOut) return;
    // Clear timeout and return result
    clearTimeout(timer);
    callback(err, result);
  });
}
// Test with a slow operation
const slowOperation = (cb) => setTimeout(() => cb(null, 'Done'), 2000);
withTimeout(slowOperation, 1000, (err, result) => {
  console.log('Timeout test:', err?.message || result);
  // "Operation timed out after 1000ms" (operation takes 2000ms)
});
\`\`\`

---

## DEBOUNCE AND THROTTLE WITH CALLBACKS
Essential patterns for performance optimization. Often asked in interviews for front-end positions.

### DEBOUNCE
Delays execution until after a quiet period. Only the LAST call in a burst of calls will execute.

**Use case:** Search input - wait until user stops typing.

\`\`\`js
function debounce(callback, delay) {
  let timeoutId;
  return function(...args) {
    // Clear any existing timeout
    clearTimeout(timeoutId);
    // Set new timeout
    timeoutId = setTimeout(() => {
      callback.apply(this, args);
    }, delay);
  };
}
const debouncedSearch = debounce((query) => {
  console.log('Searching for:', query);
}, 300);
// Simulating rapid typing
debouncedSearch('h');    // Cancelled by next call
debouncedSearch('he');   // Cancelled by next call
debouncedSearch('hel');  // Cancelled by next call
debouncedSearch('hell'); // Cancelled by next call
debouncedSearch('hello'); // This one executes after 300ms
\`\`\`

### DEBOUNCE WITH IMMEDIATE OPTION
Execute immediately on first call, then debounce subsequent calls.

**Use case:** Submit button - prevent double-clicks but respond immediately.

\`\`\`js
function debounceImmediate(callback, delay, immediate = false) {
  let timeoutId;
  return function(...args) {
    const callNow = immediate && !timeoutId;
    clearTimeout(timeoutId);
    timeoutId = setTimeout(() => {
      timeoutId = null;
      if (!immediate) callback.apply(this, args);
    }, delay);
    // Execute immediately if requested and not in debounce period
    if (callNow) callback.apply(this, args);
  };
}
\`\`\`

### THROTTLE
Execute at most once per time interval. FIRST call in each interval executes, subsequent calls are ignored.

**Use case:** Scroll events - update position but not on every pixel.

\`\`\`js
function throttle(callback, limit) {
  let inThrottle;
  return function(...args) {
    if (!inThrottle) {
      callback.apply(this, args);
      inThrottle = true;
      setTimeout(() => inThrottle = false, limit);
    }
  };
}
const throttledScroll = throttle((position) => {
  console.log('Scroll position:', position);
}, 1000);
// Even with 100 calls, only executes once per second
for (let i = 0; i < 100; i++) {
  throttledScroll(i);
}
\`\`\`

### THROTTLE WITH TRAILING CALL
Execute first call, then queue the last call to execute when throttle ends. Ensures you always get the final state.

\`\`\`js
function throttleTrailing(callback, limit) {
  let lastArgs;
  let inThrottle;
  return function(...args) {
    if (!inThrottle) {
      callback.apply(this, args);
      inThrottle = true;
      setTimeout(() => {
        inThrottle = false;
        // Execute queued call if exists
        if (lastArgs) {
          callback.apply(this, lastArgs);
          lastArgs = null;
        }
      }, limit);
    } else {
      // Queue this call (overwrites previous queued call)
      lastArgs = args;
    }
  };
}
\`\`\`

---

## MEMOIZATION WITH CALLBACKS
Cache expensive async operation results. Avoid redundant computations or API calls.

\`\`\`js
function memoizeAsync(fn) {
  const cache = new Map();
  return function(arg, callback) {
    const key = JSON.stringify(arg);
    // Return cached result if available
    if (cache.has(key)) {
      console.log('Cache hit for:', arg);
      // Use setTimeout to keep it async (consistent behavior)
      return setTimeout(() => callback(null, cache.get(key)), 0);
    }
    // Execute function and cache result
    fn(arg, (err, result) => {
      if (!err) {
        cache.set(key, result);
        console.log('Cached result for:', arg);
      }
      callback(err, result);
    });
  };
}
const expensiveOperation = (n, cb) => {
  console.log('Computing expensive operation for:', n);
  setTimeout(() => cb(null, n * n), 500);
};
const memoized = memoizeAsync(expensiveOperation);
memoized(5, (e, r) => console.log('Result:', r)); // Computes (500ms)
// Later...
memoized(5, (e, r) => console.log('Result:', r)); // From cache (instant)
\`\`\`

---

## EVENT EMITTER PATTERN (Callback Based)
Pub/Sub pattern for decoupled communication. Callbacks are registered as event listeners. This is how Node.js EventEmitter works internally.

\`\`\`js
class EventEmitter {
  constructor() {
    this.events = {}; // Map of event name -> array of callbacks
  }
  // Register a callback for an event
  on(event, callback) {
    if (!this.events[event]) {
      this.events[event] = [];
    }
    this.events[event].push(callback);
    return this; // Allow chaining
  }
  // Remove a callback from an event
  off(event, callback) {
    if (!this.events[event]) return this;
    this.events[event] = this.events[event].filter(cb => cb !== callback);
    return this;
  }
  // Trigger an event - call all registered callbacks
  emit(event, ...args) {
    if (!this.events[event]) return false;
    this.events[event].forEach(callback => callback(...args));
    return true;
  }
  // Register a callback that only fires once
  once(event, callback) {
    const wrapper = (...args) => {
      callback(...args);
      this.off(event, wrapper); // Remove after first call
    };
    this.on(event, wrapper);
    return this;
  }
}
// Usage example
const emitter = new EventEmitter();
// Register event handlers
emitter.on('data', (data) => console.log('Received:', data));
emitter.on('data', (data) => console.log('Also received:', data));
emitter.once('connect', () => console.log('Connected!'));
// Emit events
emitter.emit('connect'); // "Connected!" - fires once
emitter.emit('connect'); // Nothing - once handler removed
emitter.emit('data', { id: 1 }); // Both handlers fire
\`\`\`

---

## COMMON INTERVIEW QUESTIONS

### Q1: What's the output? (Tests understanding of event loop)
\`\`\`js
console.log('Start');
setTimeout(() => console.log('Timeout 1'), 0);
Promise.resolve().then(() => console.log('Promise'));
setTimeout(() => console.log('Timeout 2'), 0);
console.log('End');
// Answer: Start, End, Promise, Timeout 1, Timeout 2
// Explanation:
// 1. Sync code runs first: "Start", "End"
// 2. Microtasks (Promises) run before macrotasks: "Promise"
// 3. Macrotasks (setTimeout) run in order: "Timeout 1", "Timeout 2"
\`\`\`

### Q2: Implement sequential async execution
\`\`\`js
function fetchSequentially(urls, callback) {
  const results = [];
  function fetchNext(index) {
    if (index >= urls.length) {
      return callback(null, results);
    }
    simulateFetch(urls[index], (err, data) => {
      if (err) return callback(err);
      results.push(data);
      fetchNext(index + 1); // Recursively fetch next
    });
  }
  fetchNext(0);
}
function simulateFetch(url, cb) {
  setTimeout(() => cb(null, \`Data from \${url}\`), 100);
}
\`\`\`

### Q3: Convert any callback function to Promise
\`\`\`js
function callbackToPromise(fn) {
  return (...args) => {
    return new Promise((resolve, reject) => {
      fn(...args, (err, result) => {
        if (err) reject(err);
        else resolve(result);
      });
    });
  };
}
\`\`\`

### Q4: Implement once() - function that only executes once
\`\`\`js
function once(fn) {
  let called = false;
  let result;
  return function(...args) {
    if (!called) {
      called = true;
      result = fn.apply(this, args);
    }
    return result; // Return cached result on subsequent calls
  };
}
const initOnce = once(() => {
  console.log('Initialized!');
  return 'done';
});
initOnce(); // "Initialized!", returns 'done'
initOnce(); // Returns 'done' (no log)
initOnce(); // Returns 'done' (no log)
\`\`\`

### Q5: Implement after() - callback fires after n invocations
\`\`\`js
function after(n, callback) {
  let count = 0;
  return function(...args) {
    count++;
    if (count >= n) {
      return callback.apply(this, args);
    }
  };
}
const afterThree = after(3, () => console.log('Called 3 times!'));
afterThree(); // Nothing (count = 1)
afterThree(); // Nothing (count = 2)
afterThree(); // "Called 3 times!" (count = 3)
afterThree(); // "Called 3 times!" (count = 4, still fires)
\`\`\`

### Q6: Implement before() - callback only fires first n times
\`\`\`js
function before(n, callback) {
  let count = 0;
  let result;
  return function(...args) {
    if (count < n) {
      result = callback.apply(this, args);
      count++;
    }
    return result;
  };
}
const beforeThree = before(3, (x) => x * 2);
console.log(beforeThree(5)); // 10 (fires)
console.log(beforeThree(10)); // 20 (fires)
console.log(beforeThree(15)); // 30 (fires)
console.log(beforeThree(20)); // 30 (returns last result)
\`\`\`

---

## QUICK REFERENCE CHEAT SHEET

| Pattern | Purpose | When to Use |
|---------|---------|-------------|
| Error-First | Consistent error handling | Node.js async operations |
| Named Functions | Flatten callback hell | Multiple nested callbacks |
| Promisify | Convert to Promises | Use async/await with callbacks |
| Series | Sequential execution | Order-dependent operations |
| Parallel | Concurrent execution | Independent operations |
| Waterfall | Pass results through chain | Dependent transformations |
| Debounce | Delay until quiet | Search inputs, resize events |
| Throttle | Limit frequency | Scroll events, rate limiting |
| Memoize | Cache results | Expensive computations |
| Event Emitter | Pub/Sub communication | Decoupled components |

---

## KEY TAKEAWAYS FOR INTERVIEWS

1. **Callbacks are foundational** - They're the basis for Promises and async/await
2. **Understand sync vs async** - This is the foundation of the event loop
3. **Error-first is standard** - Always use this pattern in Node.js
4. **Know how to escape callback hell** - Named functions, Promises, async/await
5. **Implement array methods** - Shows deep understanding of callbacks
6. **Master debounce/throttle** - Essential for front-end performance
7. **Understand event loop** - Predict output of async code
8. **Practice composition** - Combine callbacks effectively`,language:"javascript"},{id:"interview-prototypes",title:"Prototypes & Inheritance",content:`# Prototypes & Inheritance - Complete Interview Guide

## What is a Prototype?
Every JavaScript object has a hidden internal property called [[Prototype]] (accessed via __proto__ or Object.getPrototypeOf()) that references another object. This creates a chain of objects known as the prototype chain. When you access a property on an object, JavaScript first looks at the object itself, then walks up the prototype chain until it finds the property or reaches null.

## Why Prototypes Matter
JavaScript uses prototypal inheritance, not classical inheritance like Java or C++. Understanding prototypes is essential because:
- It's how JavaScript implements inheritance
- Methods are shared across instances (memory efficient)
- It's the foundation for ES6 classes (which are syntactic sugar)
- Many interview questions test this knowledge

## Key Concepts
1. **[[Prototype]]** - Internal hidden property linking objects
2. **__proto__** - Accessor property to get/set [[Prototype]] (deprecated but widely used)
3. **prototype** - Property on constructor functions, becomes __proto__ of instances
4. **Prototype Chain** - Linked list of objects for property lookup
5. **Object.create()** - Creates object with specified prototype
6. **Constructor Functions** - Functions used with 'new' to create objects
7. **ES6 Classes** - Syntactic sugar over prototype-based inheritance

## The Prototype Chain Lookup
When accessing a property:
1. Check the object itself (own property)
2. Check object's [[Prototype]]
3. Check [[Prototype]]'s [[Prototype]]
4. Continue until property found or reach null
5. Return undefined if not found

---

## PROTOTYPE BASICS
Every object in JavaScript has a prototype. The prototype is another object that the current object inherits properties and methods from. This creates a chain of inheritance.

\`\`\`js
// Creating an object with a prototype
// The 'animal' object will serve as a prototype for other objects
const animal = {
  eats: true,
  walk() {
    console.log('Animal walks');
  },
  sleep() {
    console.log('Animal sleeps');
  }
};

// Creating 'rabbit' with 'animal' as its prototype
// __proto__ is the accessor to set/get the [[Prototype]]
const rabbit = {
  jumps: true,
  __proto__: animal // Sets animal as rabbit's prototype
};

// Property lookup demonstration
console.log(rabbit.jumps); // true - own property (found on rabbit itself)
console.log(rabbit.eats);  // true - inherited from animal prototype
rabbit.walk(); // "Animal walks" - method inherited from animal

// The rabbit doesn't have 'walk' as its own property
// JavaScript looks up the prototype chain and finds it on animal
console.log(rabbit.hasOwnProperty('jumps')); // true - own property
console.log(rabbit.hasOwnProperty('eats'));  // false - inherited
console.log(rabbit.hasOwnProperty('walk'));  // false - inherited

// You can override inherited properties
rabbit.walk = function() {
  console.log('Rabbit hops');
};
rabbit.walk(); // "Rabbit hops" - now uses own property

// The original animal.walk is unchanged
animal.walk(); // "Animal walks"
\`\`\`

### How Property Lookup Works
When you access \`rabbit.eats\`:
1. JavaScript checks if \`rabbit\` has own property \`eats\`  No
2. JavaScript checks \`rabbit.__proto__\` (which is \`animal\`)  Found! Returns \`true\`

\`\`\`js
// Demonstrating the lookup process
const base = { 
  x: 10,
  getX() { return this.x; }
};
const derived = { 
  y: 20,
  __proto__: base 
};
const leaf = { 
  z: 30,
  __proto__: derived 
};

console.log(leaf.z); // 30 - own property
console.log(leaf.y); // 20 - from derived
console.log(leaf.x); // 10 - from base
console.log(leaf.getX()); // 10 - method from base, 'this' is leaf

// 'this' in inherited methods refers to the object that called the method
leaf.x = 100; // Creates own property, doesn't modify base.x
console.log(leaf.getX()); // 100 - now uses leaf.x
console.log(base.x); // 10 - unchanged
\`\`\`

---

## PROTOTYPE CHAIN
The prototype chain is a linked list of objects. Each object's [[Prototype]] points to another object, until the chain ends with null. Object.prototype is typically at the top of the chain (its [[Prototype]] is null).

\`\`\`js
// Building a prototype chain
const grandparent = { 
  a: 1,
  greet() { return 'Hello from grandparent'; }
};
const parent = { 
  b: 2, 
  __proto__: grandparent 
};
const child = { 
  c: 3, 
  __proto__: parent 
};

// Accessing properties through the chain
console.log(child.c); // 3 - own property
console.log(child.b); // 2 - from parent (1 step up)
console.log(child.a); // 1 - from grandparent (2 steps up)
console.log(child.greet()); // "Hello from grandparent"

// Checking the chain
console.log(child.__proto__ === parent); // true
console.log(parent.__proto__ === grandparent); // true
console.log(grandparent.__proto__ === Object.prototype); // true
console.log(Object.prototype.__proto__ === null); // true - end of chain

// The complete chain for 'child':
// child -> parent -> grandparent -> Object.prototype -> null
\`\`\`

### Visualizing the Prototype Chain
\`\`\`js
// Helper function to visualize the chain
function getPrototypeChain(obj) {
  const chain = [];
  let current = obj;
  while (current !== null) {
    chain.push(current);
    current = Object.getPrototypeOf(current);
  }
  chain.push(null);
  return chain;
}

const myObj = { name: 'test' };
console.log(getPrototypeChain(myObj));
// [{ name: 'test' }, Object.prototype, null]

// Arrays have an extra link in the chain
const myArr = [1, 2, 3];
console.log(getPrototypeChain(myArr));
// [[1, 2, 3], Array.prototype, Object.prototype, null]

// Functions also have their own prototype chain
function myFunc() {}
console.log(getPrototypeChain(myFunc));
// [myFunc, Function.prototype, Object.prototype, null]
\`\`\`

### Property Shadowing
When an object has an own property with the same name as a prototype property, the own property "shadows" the inherited one.

\`\`\`js
const proto = {
  value: 100,
  getValue() {
    return this.value;
  }
};

const obj = {
  __proto__: proto
};

console.log(obj.value); // 100 - inherited
console.log(obj.getValue()); // 100

// Creating an own property that shadows the inherited one
obj.value = 200;
console.log(obj.value); // 200 - own property (shadows proto.value)
console.log(proto.value); // 100 - unchanged
console.log(obj.getValue()); // 200 - 'this' refers to obj

// Deleting the own property reveals the inherited one again
delete obj.value;
console.log(obj.value); // 100 - back to inherited value
\`\`\`

---

## __proto__ VS prototype
This is one of the most confusing aspects of JavaScript and a common interview question. They are related but different!

### __proto__ (Dunder Proto)
- Every object has it
- Points to the object's prototype (the object it inherits from)
- Accessor property (getter/setter for [[Prototype]])
- Deprecated in favor of Object.getPrototypeOf() / Object.setPrototypeOf()

### prototype (Property)
- Only exists on functions
- Used when the function is called with 'new'
- Becomes the __proto__ of instances created by that constructor
- Not the function's own prototype (that's __proto__)

\`\`\`js
// Understanding the difference
function Person(name) {
  this.name = name;
}

// 'prototype' is a property on the Person function
// It's an object that will become __proto__ of instances
Person.prototype.greet = function() {
  return 'Hello, ' + this.name;
};

// Create an instance using 'new'
const john = new Person('John');

// john's __proto__ points to Person.prototype
console.log(john.__proto__ === Person.prototype); // true

// Person (the function) also has a __proto__
// It points to Function.prototype (because functions are objects too!)
console.log(Person.__proto__ === Function.prototype); // true

// The prototype object has a 'constructor' property pointing back
console.log(Person.prototype.constructor === Person); // true
console.log(john.constructor === Person); // true (inherited)

// Diagram:
// john (instance)
//    name: 'John' (own property)
//    __proto__  Person.prototype
//                          greet: function
//                          constructor  Person
//                          __proto__  Object.prototype
//                                                __proto__  null
\`\`\`

### Deep Dive: What Happens with 'new'
\`\`\`js
// When you call: new Person('John')
// JavaScript does approximately this:

function simulateNew(Constructor, ...args) {
  // 1. Create a new empty object
  const obj = {};
  
  // 2. Set its __proto__ to Constructor.prototype
  Object.setPrototypeOf(obj, Constructor.prototype);
  // Or: obj.__proto__ = Constructor.prototype;
  
  // 3. Execute Constructor with 'this' bound to new object
  const result = Constructor.apply(obj, args);
  
  // 4. Return the object (unless Constructor returns an object)
  return result instanceof Object ? result : obj;
}

// Usage
const jane = simulateNew(Person, 'Jane');
console.log(jane.name); // 'Jane'
console.log(jane.greet()); // 'Hello, Jane'
console.log(jane instanceof Person); // true
\`\`\`

### Common Confusion Points
\`\`\`js
function Dog(name) {
  this.name = name;
}

const buddy = new Dog('Buddy');

//  WRONG: Trying to access 'prototype' on an instance
console.log(buddy.prototype); // undefined - instances don't have 'prototype'

//  RIGHT: Access __proto__ on instance
console.log(buddy.__proto__ === Dog.prototype); // true

//  WRONG: Confusing function's __proto__ with prototype
console.log(Dog.__proto__ === Dog.prototype); // false!

//  RIGHT: Function's __proto__ is Function.prototype
console.log(Dog.__proto__ === Function.prototype); // true

// Function.prototype vs instance prototype
console.log(Dog.prototype); // { constructor: Dog } - for instances
console.log(Dog.__proto__); // Function.prototype - Dog's own prototype

// The prototype property is for instances, __proto__ is for the object itself
\`\`\`

### Modern Way: Object.getPrototypeOf / Object.setPrototypeOf
\`\`\`js
// __proto__ is deprecated, use these instead:

// Getting the prototype
const proto1 = Object.getPrototypeOf(buddy);
console.log(proto1 === Dog.prototype); // true

// Setting the prototype (not recommended for performance)
const newProto = {
  speak() { return 'Woof!'; }
};
Object.setPrototypeOf(buddy, newProto);
console.log(buddy.speak()); // 'Woof!'

// Check if prototype changed
console.log(Object.getPrototypeOf(buddy) === newProto); // true
console.log(Object.getPrototypeOf(buddy) === Dog.prototype); // false

// Warning: Changing prototype after object creation is slow!
// Prefer Object.create() for setting prototype at creation time
\`\`\`

---

## CONSTRUCTOR FUNCTIONS
Before ES6 classes, constructor functions were the primary way to create objects with shared behavior. Understanding them is crucial for interviews.

\`\`\`js
// A constructor function (by convention, starts with capital letter)
function Animal(name, species) {
  // 'this' refers to the newly created object
  this.name = name;
  this.species = species;
  this.isAlive = true;
  
  // Don't define methods inside constructor!
  // This creates a new function for each instance (inefficient)
  // this.speak = function() { ... } // BAD!
}

// Define methods on the prototype (shared across all instances)
Animal.prototype.speak = function() {
  console.log(this.name + ' makes a sound');
};

Animal.prototype.die = function() {
  this.isAlive = false;
  console.log(this.name + ' has died');
};

// Static method (on constructor, not prototype)
Animal.kingdom = 'Animalia';
Animal.isAnimal = function(obj) {
  return obj instanceof Animal;
};

// Create instances
const lion = new Animal('Leo', 'Lion');
const eagle = new Animal('Eddie', 'Eagle');

// Methods are shared (same function reference)
console.log(lion.speak === eagle.speak); // true - same function!

// Own properties are not shared
console.log(lion.name === eagle.name); // false

lion.speak(); // "Leo makes a sound"
eagle.speak(); // "Eddie makes a sound"

// Static method usage
console.log(Animal.kingdom); // 'Animalia'
console.log(Animal.isAnimal(lion)); // true
console.log(Animal.isAnimal({})); // false
\`\`\`

### Inheritance with Constructor Functions
This is how we implemented inheritance before ES6 classes. It's more verbose but understanding it helps you understand what classes do under the hood.

\`\`\`js
// Parent constructor
function Animal(name) {
  this.name = name;
  this.isAlive = true;
}

Animal.prototype.speak = function() {
  console.log(this.name + ' makes a sound');
};

Animal.prototype.eat = function() {
  console.log(this.name + ' is eating');
};

// Child constructor
function Dog(name, breed) {
  // Step 1: Call parent constructor with 'this' context
  // This sets up the parent's properties on the new object
  Animal.call(this, name);
  
  // Add child-specific properties
  this.breed = breed;
  this.legs = 4;
}

// Step 2: Set up prototype chain
// Create a new object with Animal.prototype as its prototype
// This becomes Dog.prototype
Dog.prototype = Object.create(Animal.prototype);

// Step 3: Fix the constructor property
// Object.create made Dog.prototype.constructor point to Animal
// We need to fix it to point to Dog
Dog.prototype.constructor = Dog;

// Step 4: Add child-specific methods
Dog.prototype.bark = function() {
  console.log(this.name + ' barks: Woof!');
};

// Step 5: Override parent methods (optional)
Dog.prototype.speak = function() {
  console.log(this.name + ' says: Woof woof!');
};

// Create a Dog instance
const buddy = new Dog('Buddy', 'Golden Retriever');

// Test own properties
console.log(buddy.name);  // 'Buddy' (from Animal via call)
console.log(buddy.breed); // 'Golden Retriever' (from Dog)
console.log(buddy.legs);  // 4 (from Dog)

// Test methods
buddy.speak(); // "Buddy says: Woof woof!" (overridden)
buddy.eat();   // "Buddy is eating" (inherited from Animal)
buddy.bark();  // "Buddy barks: Woof!" (Dog's own)

// Test prototype chain
console.log(buddy instanceof Dog);    // true
console.log(buddy instanceof Animal); // true
console.log(buddy instanceof Object); // true

// Verify constructor
console.log(buddy.constructor === Dog); // true
\`\`\`

### Why Each Step Matters
\`\`\`js
// Let's see what happens without each step

// Without Animal.call(this, name):
function BadDog1(name, breed) {
  // Forgot to call parent constructor!
  this.breed = breed;
}
BadDog1.prototype = Object.create(Animal.prototype);
const bad1 = new BadDog1('Rex', 'German Shepherd');
console.log(bad1.name); // undefined! Parent properties not set

// Without Object.create (wrong way):
function BadDog2(name, breed) {
  Animal.call(this, name);
  this.breed = breed;
}
BadDog2.prototype = Animal.prototype; // WRONG! Same object reference
BadDog2.prototype.bark = function() {
  console.log('Woof!');
};
// Now Animal.prototype also has bark method! We polluted the parent!
console.log(Animal.prototype.bark); // function! BAD!

// Without fixing constructor:
function BadDog3(name, breed) {
  Animal.call(this, name);
  this.breed = breed;
}
BadDog3.prototype = Object.create(Animal.prototype);
// Forgot: BadDog3.prototype.constructor = BadDog3;
const bad3 = new BadDog3('Max', 'Bulldog');
console.log(bad3.constructor === BadDog3); // false!
console.log(bad3.constructor === Animal);  // true (inherited)
\`\`\`

---

## OBJECT.CREATE()
Object.create() is a powerful method that creates a new object with a specified prototype. It's cleaner than manipulating __proto__ and is preferred for prototype-based programming.

\`\`\`js
// Basic usage - create object with specific prototype
const personProto = {
  greet() {
    return 'Hello, I am ' + this.name;
  },
  introduce() {
    return this.greet() + ', aged ' + this.age;
  }
};

// Create an object with personProto as its prototype
const john = Object.create(personProto);
john.name = 'John';
john.age = 30;

console.log(john.greet()); // "Hello, I am John"
console.log(john.introduce()); // "Hello, I am John, aged 30"

// Verify the prototype
console.log(Object.getPrototypeOf(john) === personProto); // true
console.log(john.__proto__ === personProto); // true
\`\`\`

### Object.create with Property Descriptors
The second argument allows you to define properties with full control over their attributes.

\`\`\`js
// Create object with property descriptors
const person = Object.create(personProto, {
  // Each property is defined with a descriptor object
  name: {
    value: 'Jane',
    writable: true,     // Can be changed
    enumerable: true,   // Shows up in for...in
    configurable: true  // Can be deleted/reconfigured
  },
  age: {
    value: 25,
    writable: true,
    enumerable: true,
    configurable: true
  },
  ssn: {
    value: '123-45-6789',
    writable: false,    // Cannot be changed
    enumerable: false,  // Hidden from for...in
    configurable: false // Cannot be deleted/reconfigured
  }
});

console.log(person.name); // 'Jane'
console.log(person.ssn);  // '123-45-6789'

// Test writable
person.name = 'Janet'; // Works
person.ssn = '000-00-0000'; // Silently fails (or throws in strict mode)
console.log(person.name); // 'Janet'
console.log(person.ssn);  // '123-45-6789' (unchanged)

// Test enumerable
console.log(Object.keys(person)); // ['name', 'age'] - ssn not included

for (let key in person) {
  if (person.hasOwnProperty(key)) {
    console.log(key); // 'name', 'age' - ssn hidden
  }
}

// Test configurable
delete person.ssn; // Silently fails
console.log(person.ssn); // '123-45-6789' (still exists)
\`\`\`

### Object.create(null) - Pure Dictionary
Creating an object with no prototype is useful for creating pure key-value stores without inherited properties.

\`\`\`js
// Normal object inherits from Object.prototype
const normalObj = {};
console.log(normalObj.toString); // function (inherited)
console.log(normalObj.hasOwnProperty); // function (inherited)
console.log('toString' in normalObj); // true

// Object with null prototype - pure dictionary
const pureDict = Object.create(null);
console.log(pureDict.toString); // undefined
console.log(pureDict.hasOwnProperty); // undefined
console.log('toString' in pureDict); // false

// Useful for:
// 1. Storing user-provided keys without collision with built-in methods
pureDict['toString'] = 'my value'; // Safe! No collision
pureDict['constructor'] = 'my constructor'; // Safe!

// 2. Slightly faster property access (no prototype chain to check)
// 3. JSON-like data structures

// Common use case: caching/memoization
function createCache() {
  const cache = Object.create(null);
  return {
    get(key) { return cache[key]; },
    set(key, value) { cache[key] = value; },
    has(key) { return key in cache; }
  };
}
\`\`\`

### Factory Pattern with Object.create
\`\`\`js
// Using Object.create for a factory pattern
const vehicleProto = {
  init(make, model) {
    this.make = make;
    this.model = model;
    return this;
  },
  start() {
    console.log(\`\${this.make} \${this.model} is starting\`);
  },
  stop() {
    console.log(\`\${this.make} \${this.model} is stopping\`);
  }
};

// Factory function
function createVehicle(make, model) {
  return Object.create(vehicleProto).init(make, model);
}

const car1 = createVehicle('Toyota', 'Camry');
const car2 = createVehicle('Honda', 'Accord');

car1.start(); // "Toyota Camry is starting"
car2.start(); // "Honda Accord is starting"

// Both share the same prototype
console.log(Object.getPrototypeOf(car1) === vehicleProto); // true
console.log(Object.getPrototypeOf(car2) === vehicleProto); // true
\`\`\`

---

## ES6 CLASSES
ES6 classes are syntactic sugar over prototype-based inheritance. They provide a cleaner, more familiar syntax for creating objects and implementing inheritance.

\`\`\`js
// Class declaration
class Vehicle {
  // Constructor method - called when 'new' is used
  constructor(make, model) {
    this.make = make;
    this.model = model;
    this.isRunning = false;
  }
  
  // Instance methods - added to Vehicle.prototype
  start() {
    this.isRunning = true;
    console.log(\`\${this.make} \${this.model} is starting...\`);
  }
  
  stop() {
    this.isRunning = false;
    console.log(\`\${this.make} \${this.model} has stopped.\`);
  }
  
  // Static method - on Vehicle itself, not prototype
  static compare(v1, v2) {
    return v1.make === v2.make && v1.model === v2.model;
  }
  
  // Static property (ES2022+)
  static category = 'Transportation';
  
  // Getter - accessed like a property
  get description() {
    return \`\${this.make} \${this.model}\`;
  }
  
  // Setter - assigned like a property
  set description(value) {
    const parts = value.split(' ');
    this.make = parts[0];
    this.model = parts[1];
  }
}

// Usage
const car = new Vehicle('Toyota', 'Camry');
car.start(); // "Toyota Camry is starting..."

console.log(car.description); // "Toyota Camry" (getter)
car.description = 'Honda Accord'; // setter
console.log(car.make); // "Honda"

// Static members
console.log(Vehicle.category); // "Transportation"
const car2 = new Vehicle('Honda', 'Accord');
console.log(Vehicle.compare(car, car2)); // true (both now Honda Accord)

// Classes are still functions!
console.log(typeof Vehicle); // "function"
console.log(Vehicle.prototype.start); // function
\`\`\`

### Class Inheritance with extends and super
\`\`\`js
class Vehicle {
  constructor(make, model) {
    this.make = make;
    this.model = model;
  }
  
  start() {
    console.log(\`\${this.make} \${this.model} starting...\`);
  }
  
  stop() {
    console.log(\`\${this.make} \${this.model} stopping...\`);
  }
  
  static isVehicle(obj) {
    return obj instanceof Vehicle;
  }
}

// Child class extending Vehicle
class Car extends Vehicle {
  constructor(make, model, doors) {
    // MUST call super() before using 'this' in derived class
    super(make, model); // Calls Vehicle constructor
    this.doors = doors;
    this.wheels = 4;
  }
  
  // Override parent method
  start() {
    super.start(); // Call parent's start method
    console.log('Engine revving...');
    console.log('Ready to drive!');
  }
  
  // Add new method
  honk() {
    console.log('Beep beep!');
  }
  
  // Override getter
  get description() {
    return \`\${this.make} \${this.model} with \${this.doors} doors\`;
  }
}

// Another child class
class Motorcycle extends Vehicle {
  constructor(make, model, type) {
    super(make, model);
    this.type = type; // 'sport', 'cruiser', etc.
    this.wheels = 2;
  }
  
  wheelie() {
    console.log(\`\${this.make} \${this.model} doing a wheelie!\`);
  }
}

// Usage
const myCar = new Car('Toyota', 'Camry', 4);
myCar.start();
// "Toyota Camry starting..."
// "Engine revving..."
// "Ready to drive!"

const myBike = new Motorcycle('Harley', 'Sportster', 'cruiser');
myBike.start(); // "Harley Sportster starting..." (inherited)
myBike.wheelie(); // "Harley Sportster doing a wheelie!"

// Inheritance checks
console.log(myCar instanceof Car);      // true
console.log(myCar instanceof Vehicle);  // true
console.log(myBike instanceof Car);     // false
console.log(Vehicle.isVehicle(myCar));  // true
console.log(Vehicle.isVehicle(myBike)); // true
\`\`\`

### Important: super() Rules
\`\`\`js
class Parent {
  constructor(name) {
    this.name = name;
  }
}

class Child extends Parent {
  constructor(name, age) {
    //  WRONG: Cannot use 'this' before super()
    // this.age = age; // ReferenceError!
    
    //  RIGHT: Call super first
    super(name);
    this.age = age;
  }
}

// If no constructor in child, it implicitly does this:
class ImplicitChild extends Parent {
  // Implicit constructor:
  // constructor(...args) {
  //   super(...args);
  // }
}

const child = new ImplicitChild('Test');
console.log(child.name); // 'Test'
\`\`\`

### Static Members Inheritance
\`\`\`js
class Animal {
  static kingdom = 'Animalia';
  
  static describe() {
    return \`All animals belong to kingdom \${this.kingdom}\`;
  }
}

class Dog extends Animal {
  static species = 'Canis familiaris';
  
  static describe() {
    // Call parent static method
    return super.describe() + \`, Dog species: \${this.species}\`;
  }
}

console.log(Animal.kingdom); // 'Animalia'
console.log(Dog.kingdom);    // 'Animalia' (inherited)
console.log(Dog.species);    // 'Canis familiaris'

console.log(Animal.describe()); 
// "All animals belong to kingdom Animalia"

console.log(Dog.describe());
// "All animals belong to kingdom Animalia, Dog species: Canis familiaris"
\`\`\`

---

## PRIVATE FIELDS AND METHODS (ES2022)
JavaScript now supports truly private class members using the # prefix.

\`\`\`js
class BankAccount {
  // Private fields (must be declared)
  #balance = 0;
  #accountNumber;
  #transactionHistory = [];
  
  // Public field
  ownerName;
  
  constructor(ownerName, accountNumber, initialDeposit = 0) {
    this.ownerName = ownerName;
    this.#accountNumber = accountNumber;
    this.#balance = initialDeposit;
    this.#logTransaction('OPEN', initialDeposit);
  }
  
  // Private method
  #logTransaction(type, amount) {
    this.#transactionHistory.push({
      type,
      amount,
      date: new Date(),
      balance: this.#balance
    });
  }
  
  // Public methods that use private fields
  deposit(amount) {
    if (amount <= 0) throw new Error('Invalid amount');
    this.#balance += amount;
    this.#logTransaction('DEPOSIT', amount);
    return this.#balance;
  }
  
  withdraw(amount) {
    if (amount <= 0) throw new Error('Invalid amount');
    if (amount > this.#balance) throw new Error('Insufficient funds');
    this.#balance -= amount;
    this.#logTransaction('WITHDRAW', amount);
    return this.#balance;
  }
  
  // Getter for private field (controlled access)
  get balance() {
    return this.#balance;
  }
  
  // Cannot set balance directly
  // No setter provided
  
  getStatement() {
    // Private fields accessible within class methods
    return {
      account: this.#maskAccountNumber(),
      owner: this.ownerName,
      balance: this.#balance,
      transactions: this.#transactionHistory.length
    };
  }
  
  #maskAccountNumber() {
    const str = String(this.#accountNumber);
    return '****' + str.slice(-4);
  }
  
  // Static private field
  static #bankName = 'MyBank';
  
  // Static private method
  static #generateId() {
    return Math.random().toString(36).substr(2, 9);
  }
  
  static getBankInfo() {
    return {
      name: BankAccount.#bankName,
      id: BankAccount.#generateId()
    };
  }
}

// Usage
const account = new BankAccount('John Doe', 1234567890, 1000);

console.log(account.ownerName);  // 'John Doe' (public)
console.log(account.balance);    // 1000 (via getter)

account.deposit(500);
console.log(account.balance);    // 1500

//  Cannot access private fields from outside
// console.log(account.#balance); // SyntaxError!
// account.#balance = 1000000;    // SyntaxError!
// account.#logTransaction();     // SyntaxError!

//  Private fields don't exist on the object externally
console.log(Object.keys(account)); // ['ownerName']
console.log('balance' in account); // true (the getter)
// console.log('#balance' in account); // SyntaxError

console.log(account.getStatement());
// { account: '****7890', owner: 'John Doe', balance: 1500, transactions: 2 }

console.log(BankAccount.getBankInfo());
// { name: 'MyBank', id: 'abc123xyz' }
\`\`\`

### Private Fields vs Closures
\`\`\`js
// Old way: Using closures for privacy
function createCounter() {
  let count = 0; // Private via closure
  
  return {
    increment() { return ++count; },
    decrement() { return --count; },
    getCount() { return count; }
  };
}

const counter = createCounter();
console.log(counter.getCount()); // 0
console.log(counter.increment()); // 1
// counter.count is undefined - truly private

// New way: Using private fields
class Counter {
  #count = 0;
  
  increment() { return ++this.#count; }
  decrement() { return --this.#count; }
  get count() { return this.#count; }
}

const counter2 = new Counter();
console.log(counter2.count); // 0
console.log(counter2.increment()); // 1
// counter2.#count is inaccessible
\`\`\`

---

## GETTERS AND SETTERS
Getters and setters allow you to define properties that are computed or validated when accessed or assigned.

\`\`\`js
class Temperature {
  constructor(celsius) {
    this._celsius = celsius; // Convention: underscore for "private"
  }
  
  // Getter - accessed like a property
  get celsius() {
    return this._celsius;
  }
  
  // Setter - assigned like a property
  set celsius(value) {
    if (value < -273.15) {
      throw new Error('Temperature below absolute zero!');
    }
    this._celsius = value;
  }
  
  // Computed property via getter
  get fahrenheit() {
    return this._celsius * 9/5 + 32;
  }
  
  set fahrenheit(value) {
    this._celsius = (value - 32) * 5/9;
  }
  
  get kelvin() {
    return this._celsius + 273.15;
  }
  
  set kelvin(value) {
    this._celsius = value - 273.15;
  }
}

const temp = new Temperature(25);

// Using getters (no parentheses - it's a property)
console.log(temp.celsius);    // 25
console.log(temp.fahrenheit); // 77
console.log(temp.kelvin);     // 298.15

// Using setters (assignment)
temp.fahrenheit = 100;
console.log(temp.celsius);    // 37.777...

temp.celsius = -300; // Error: Temperature below absolute zero!
\`\`\`

### Getters/Setters in Object Literals
\`\`\`js
const person = {
  firstName: 'John',
  lastName: 'Doe',
  
  // Getter
  get fullName() {
    return \`\${this.firstName} \${this.lastName}\`;
  },
  
  // Setter
  set fullName(value) {
    const parts = value.split(' ');
    this.firstName = parts[0];
    this.lastName = parts[1] || '';
  }
};

console.log(person.fullName); // "John Doe"
person.fullName = 'Jane Smith';
console.log(person.firstName); // "Jane"
console.log(person.lastName);  // "Smith"
\`\`\`

### Using Object.defineProperty for Getters/Setters
\`\`\`js
const obj = {
  _value: 0
};

Object.defineProperty(obj, 'value', {
  get() {
    console.log('Getting value');
    return this._value;
  },
  set(newValue) {
    console.log('Setting value to', newValue);
    this._value = newValue;
  },
  enumerable: true,
  configurable: true
});

obj.value = 10; // "Setting value to 10"
console.log(obj.value); // "Getting value" then 10
\`\`\`

---

## MIXINS
Mixins are a way to add functionality to classes without using inheritance. JavaScript doesn't support multiple inheritance, but mixins provide a workaround.

\`\`\`js
// Mixin objects containing reusable functionality
const canSwim = {
  swim() {
    console.log(\`\${this.name} is swimming\`);
  }
};

const canFly = {
  fly() {
    console.log(\`\${this.name} is flying\`);
  }
};

const canWalk = {
  walk() {
    console.log(\`\${this.name} is walking\`);
  }
};

// Base class
class Animal {
  constructor(name) {
    this.name = name;
  }
}

// Apply mixins using Object.assign
class Duck extends Animal {
  constructor(name) {
    super(name);
  }
  quack() {
    console.log(\`\${this.name} says: Quack!\`);
  }
}

// Add mixin methods to Duck's prototype
Object.assign(Duck.prototype, canSwim, canFly, canWalk);

const donald = new Duck('Donald');
donald.quack(); // "Donald says: Quack!"
donald.swim();  // "Donald is swimming"
donald.fly();   // "Donald is flying"
donald.walk();  // "Donald is walking"
\`\`\`

### Mixin Factory Function
\`\`\`js
// Function that creates mixins with options
function createTimestampMixin(options = {}) {
  const { autoUpdate = false } = options;
  
  return {
    createdAt: null,
    updatedAt: null,
    
    initTimestamps() {
      this.createdAt = new Date();
      this.updatedAt = new Date();
    },
    
    touch() {
      this.updatedAt = new Date();
    },
    
    getAge() {
      return Date.now() - this.createdAt.getTime();
    }
  };
}

// Serialization mixin
const serializableMixin = {
  toJSON() {
    return JSON.stringify(this);
  },
  
  toObject() {
    return { ...this };
  }
};

// Event mixin
const eventMixin = {
  _events: null,
  
  on(event, handler) {
    if (!this._events) this._events = {};
    if (!this._events[event]) this._events[event] = [];
    this._events[event].push(handler);
    return this;
  },
  
  off(event, handler) {
    if (!this._events?.[event]) return this;
    this._events[event] = this._events[event].filter(h => h !== handler);
    return this;
  },
  
  emit(event, ...args) {
    if (!this._events?.[event]) return this;
    this._events[event].forEach(handler => handler.apply(this, args));
    return this;
  }
};

// Usage
class User {
  constructor(name) {
    this.name = name;
    this.initTimestamps?.();
  }
}

Object.assign(User.prototype, 
  createTimestampMixin(),
  serializableMixin,
  eventMixin
);

const user = new User('John');
user.initTimestamps();

// Use timestamp methods
console.log(user.createdAt);
user.touch();
console.log(user.updatedAt);

// Use serialization
console.log(user.toJSON());

// Use events
user.on('change', (prop, value) => {
  console.log(\`Property \${prop} changed to \${value}\`);
});
user.emit('change', 'name', 'Jane');
\`\`\`

### Class-based Mixin Pattern
\`\`\`js
// Mixin as a function that takes a superclass
const TimestampMixin = (superclass) => class extends superclass {
  constructor(...args) {
    super(...args);
    this.createdAt = new Date();
    this.updatedAt = new Date();
  }
  
  touch() {
    this.updatedAt = new Date();
  }
};

const SerializableMixin = (superclass) => class extends superclass {
  toJSON() {
    return JSON.stringify({ ...this });
  }
};

// Base class
class Entity {
  constructor(id) {
    this.id = id;
  }
}

// Compose mixins
class User extends TimestampMixin(SerializableMixin(Entity)) {
  constructor(id, name) {
    super(id);
    this.name = name;
  }
}

const user = new User(1, 'John');
console.log(user.id);        // 1
console.log(user.name);      // 'John'
console.log(user.createdAt); // Date
console.log(user.toJSON());  // JSON string
\`\`\`

---

## INSTANCEOF AND TYPE CHECKING
Understanding how to check types and prototype relationships is crucial for interviews.

\`\`\`js
// instanceof checks if an object's prototype chain contains a constructor's prototype
class Animal {}
class Dog extends Animal {}
class Cat extends Animal {}

const buddy = new Dog();

console.log(buddy instanceof Dog);    // true
console.log(buddy instanceof Animal); // true
console.log(buddy instanceof Object); // true
console.log(buddy instanceof Cat);    // false

// How instanceof works internally
function myInstanceof(obj, Constructor) {
  let proto = Object.getPrototypeOf(obj);
  
  while (proto !== null) {
    if (proto === Constructor.prototype) {
      return true;
    }
    proto = Object.getPrototypeOf(proto);
  }
  
  return false;
}

console.log(myInstanceof(buddy, Dog));    // true
console.log(myInstanceof(buddy, Animal)); // true
console.log(myInstanceof(buddy, Cat));    // false
\`\`\`

### isPrototypeOf() Method
\`\`\`js
// isPrototypeOf checks if an object exists in another object's prototype chain
const animal = { eats: true };
const rabbit = Object.create(animal);
const whiteRabbit = Object.create(rabbit);

console.log(animal.isPrototypeOf(rabbit));      // true
console.log(animal.isPrototypeOf(whiteRabbit)); // true
console.log(rabbit.isPrototypeOf(whiteRabbit)); // true
console.log(rabbit.isPrototypeOf(animal));      // false

// With classes
console.log(Dog.prototype.isPrototypeOf(buddy));    // true
console.log(Animal.prototype.isPrototypeOf(buddy)); // true
\`\`\`

### Object.getPrototypeOf()
\`\`\`js
// Get the prototype of an object
const proto = Object.getPrototypeOf(buddy);
console.log(proto === Dog.prototype); // true

const grandProto = Object.getPrototypeOf(proto);
console.log(grandProto === Animal.prototype); // true

const greatGrandProto = Object.getPrototypeOf(grandProto);
console.log(greatGrandProto === Object.prototype); // true

console.log(Object.getPrototypeOf(greatGrandProto)); // null
\`\`\`

### Checking Types Properly
\`\`\`js
// typeof for primitives and functions
console.log(typeof 'hello');     // 'string'
console.log(typeof 42);          // 'number'
console.log(typeof true);        // 'boolean'
console.log(typeof undefined);   // 'undefined'
console.log(typeof null);        // 'object' (historical bug!)
console.log(typeof {});          // 'object'
console.log(typeof []);          // 'object' (arrays are objects)
console.log(typeof function(){}); // 'function'
console.log(typeof Symbol());    // 'symbol'
console.log(typeof 1n);          // 'bigint'

// Array.isArray for arrays
console.log(Array.isArray([]));           // true
console.log(Array.isArray({}));           // false
console.log(Array.isArray('array'));      // false

// Object.prototype.toString for detailed type
function getType(value) {
  return Object.prototype.toString.call(value).slice(8, -1);
}

console.log(getType('hello'));     // 'String'
console.log(getType(42));          // 'Number'
console.log(getType(true));        // 'Boolean'
console.log(getType(undefined));   // 'Undefined'
console.log(getType(null));        // 'Null'
console.log(getType({}));          // 'Object'
console.log(getType([]));          // 'Array'
console.log(getType(function(){})); // 'Function'
console.log(getType(/regex/));     // 'RegExp'
console.log(getType(new Date()));  // 'Date'
console.log(getType(new Map()));   // 'Map'
console.log(getType(new Set()));   // 'Set'
\`\`\`

---

## hasOwnProperty VS in OPERATOR
Understanding the difference between own properties and inherited properties is essential.

\`\`\`js
const parent = { inherited: true };
const child = Object.create(parent);
child.own = true;

// 'in' operator checks own AND prototype chain
console.log('own' in child);       // true (own property)
console.log('inherited' in child); // true (from prototype)
console.log('toString' in child);  // true (from Object.prototype)

// hasOwnProperty checks ONLY own properties
console.log(child.hasOwnProperty('own'));       // true
console.log(child.hasOwnProperty('inherited')); // false
console.log(child.hasOwnProperty('toString'));  // false

// Safe way to check own properties
// (in case hasOwnProperty is overridden or object has null prototype)
console.log(Object.prototype.hasOwnProperty.call(child, 'own')); // true
console.log(Object.hasOwn(child, 'own')); // true (ES2022+)
\`\`\`

### Iterating Own vs Inherited Properties
\`\`\`js
const proto = { inherited: 'from proto' };
const obj = Object.create(proto);
obj.own1 = 'own property 1';
obj.own2 = 'own property 2';

// for...in iterates own AND enumerable inherited properties
console.log('for...in:');
for (let key in obj) {
  console.log(key); // 'own1', 'own2', 'inherited'
}

// Filter to only own properties
console.log('for...in with hasOwnProperty:');
for (let key in obj) {
  if (obj.hasOwnProperty(key)) {
    console.log(key); // 'own1', 'own2'
  }
}

// Object.keys() returns only own enumerable properties
console.log('Object.keys:', Object.keys(obj)); // ['own1', 'own2']

// Object.values() returns values of own enumerable properties
console.log('Object.values:', Object.values(obj)); // ['own property 1', 'own property 2']

// Object.entries() returns [key, value] pairs
console.log('Object.entries:', Object.entries(obj));
// [['own1', 'own property 1'], ['own2', 'own property 2']]

// Object.getOwnPropertyNames() includes non-enumerable own properties
Object.defineProperty(obj, 'hidden', {
  value: 'non-enumerable',
  enumerable: false
});
console.log(Object.keys(obj)); // ['own1', 'own2']
console.log(Object.getOwnPropertyNames(obj)); // ['own1', 'own2', 'hidden']
\`\`\`

### Potential Pitfall: hasOwnProperty Override
\`\`\`js
// Someone might override hasOwnProperty (bad practice, but possible)
const malicious = {
  hasOwnProperty: function() {
    return false; // Always returns false!
  },
  realProperty: 'exists'
};

console.log(malicious.hasOwnProperty('realProperty')); // false (wrong!)

// Safe way: call from Object.prototype
console.log(Object.prototype.hasOwnProperty.call(malicious, 'realProperty')); // true

// Even safer: Object.hasOwn (ES2022+)
console.log(Object.hasOwn(malicious, 'realProperty')); // true

// Object with null prototype doesn't have hasOwnProperty at all
const nullProto = Object.create(null);
nullProto.foo = 'bar';
// nullProto.hasOwnProperty('foo'); // TypeError: not a function
console.log(Object.hasOwn(nullProto, 'foo')); // true
\`\`\`

---

## PROPERTY DESCRIPTORS
Every property has attributes (descriptors) that control its behavior.

\`\`\`js
const person = {
  name: 'John'
};

// Get descriptor of a property
const descriptor = Object.getOwnPropertyDescriptor(person, 'name');
console.log(descriptor);
// {
//   value: 'John',
//   writable: true,
//   enumerable: true,
//   configurable: true
// }

// Define property with custom descriptors
Object.defineProperty(person, 'ssn', {
  value: '123-45-6789',
  writable: false,     // Cannot change value
  enumerable: false,   // Won't show in for...in or Object.keys
  configurable: false  // Cannot delete or reconfigure
});

person.ssn = '000-00-0000'; // Fails silently (throws in strict mode)
console.log(person.ssn);    // '123-45-6789'

delete person.ssn;          // Fails silently
console.log(person.ssn);    // '123-45-6789'

console.log(Object.keys(person)); // ['name'] - ssn not included
\`\`\`

### Object.defineProperties
\`\`\`js
const product = {};

Object.defineProperties(product, {
  _price: {
    value: 0,
    writable: true,
    enumerable: false
  },
  price: {
    get() { return '$' + this._price.toFixed(2); },
    set(value) { this._price = parseFloat(value) || 0; },
    enumerable: true
  },
  id: {
    value: Date.now(),
    writable: false,
    enumerable: true,
    configurable: false
  }
});

product.price = 29.99;
console.log(product.price); // '$29.99'
console.log(product._price); // 29.99
console.log(Object.keys(product)); // ['price', 'id']
\`\`\`

### Object Prevention Methods
\`\`\`js
// Object.preventExtensions - can't add new properties
const obj1 = { a: 1 };
Object.preventExtensions(obj1);
obj1.b = 2; // Fails silently
console.log(obj1.b); // undefined
obj1.a = 10; // Works - can still modify existing
console.log(Object.isExtensible(obj1)); // false

// Object.seal - can't add/delete, but can modify existing
const obj2 = { a: 1 };
Object.seal(obj2);
obj2.b = 2; // Fails
delete obj2.a; // Fails
obj2.a = 10; // Works
console.log(Object.isSealed(obj2)); // true

// Object.freeze - can't add/delete/modify (shallow freeze)
const obj3 = { a: 1, nested: { b: 2 } };
Object.freeze(obj3);
obj3.a = 10; // Fails
obj3.b = 2;  // Fails
obj3.nested.b = 20; // Works! Freeze is shallow
console.log(Object.isFrozen(obj3)); // true

// Deep freeze helper
function deepFreeze(obj) {
  Object.keys(obj).forEach(key => {
    if (typeof obj[key] === 'object' && obj[key] !== null) {
      deepFreeze(obj[key]);
    }
  });
  return Object.freeze(obj);
}

const frozen = deepFreeze({ a: { b: { c: 1 } } });
frozen.a.b.c = 999; // Fails - deeply frozen
console.log(frozen.a.b.c); // 1
\`\`\`

---

## PROTOTYPE POLLUTION
Prototype pollution is a security vulnerability where attackers can modify Object.prototype, affecting all objects. Understanding this is important for interviews at security-conscious companies.

\`\`\`js
// NEVER modify Object.prototype in production!
// This is just to demonstrate the danger

//  BAD: Polluting Object.prototype
Object.prototype.polluted = 'gotcha';

const innocent = {};
console.log(innocent.polluted); // 'gotcha' - affected!

const arr = [];
console.log(arr.polluted); // 'gotcha' - even arrays!

// This can break code that checks for properties
for (let key in {}) {
  console.log(key); // 'polluted' - unexpected!
}

// How attackers exploit this (common vulnerability in old code)
function merge(target, source) {
  for (let key in source) {
    if (typeof source[key] === 'object') {
      target[key] = merge(target[key] || {}, source[key]);
    } else {
      target[key] = source[key];
    }
  }
  return target;
}

// Attacker sends malicious payload
const maliciousPayload = JSON.parse('{"__proto__": {"isAdmin": true}}');
merge({}, maliciousPayload);

// Now ALL objects have isAdmin!
const user = {};
console.log(user.isAdmin); // true (vulnerability!)

// Clean up
delete Object.prototype.polluted;
delete Object.prototype.isAdmin;
\`\`\`

### Preventing Prototype Pollution
\`\`\`js
// Safe merge function
function safeMerge(target, source) {
  for (let key in source) {
    // Skip __proto__ and constructor
    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {
      continue;
    }
    
    // Only copy own properties
    if (!source.hasOwnProperty(key)) continue;
    
    if (typeof source[key] === 'object' && source[key] !== null) {
      target[key] = safeMerge(target[key] || {}, source[key]);
    } else {
      target[key] = source[key];
    }
  }
  return target;
}

// Use Object.create(null) for dictionaries
const safeDict = Object.create(null);
safeDict.__proto__ = 'test'; // Just a regular property, not prototype!
console.log(Object.getPrototypeOf(safeDict)); // null

// Use Map instead of objects for user-provided keys
const userPrefs = new Map();
userPrefs.set('__proto__', 'safe'); // Just a key, no pollution
\`\`\`

---

## COMMON INTERVIEW QUESTIONS

### Q1: Explain the difference between __proto__ and prototype
\`\`\`js
// Answer:
// - prototype is a property on FUNCTIONS (specifically constructors)
// - __proto__ is a property on ALL OBJECTS pointing to their prototype

function Dog(name) {
  this.name = name;
}

const buddy = new Dog('Buddy');

// prototype is what instances will inherit from
console.log(Dog.prototype); // { constructor: Dog }

// __proto__ is the actual prototype of an instance
console.log(buddy.__proto__ === Dog.prototype); // true

// A function's own __proto__ is Function.prototype
console.log(Dog.__proto__ === Function.prototype); // true
\`\`\`

### Q2: Implement your own 'new' operator
\`\`\`js
function myNew(Constructor, ...args) {
  // 1. Create empty object with Constructor.prototype as its prototype
  const obj = Object.create(Constructor.prototype);
  
  // 2. Execute Constructor with 'this' bound to new object
  const result = Constructor.apply(obj, args);
  
  // 3. Return object (unless Constructor returns a different object)
  return result instanceof Object ? result : obj;
}

// Test
function Person(name, age) {
  this.name = name;
  this.age = age;
}
Person.prototype.greet = function() {
  return \`Hi, I'm \${this.name}\`;
};

const john = myNew(Person, 'John', 30);
console.log(john.name);    // 'John'
console.log(john.greet()); // "Hi, I'm John"
console.log(john instanceof Person); // true
\`\`\`

### Q3: Implement inheritance without ES6 classes
\`\`\`js
// Parent
function Animal(name) {
  this.name = name;
}
Animal.prototype.speak = function() {
  console.log(this.name + ' makes a sound');
};

// Child
function Dog(name, breed) {
  Animal.call(this, name); // Call parent constructor
  this.breed = breed;
}

// Set up prototype chain
Dog.prototype = Object.create(Animal.prototype);
Dog.prototype.constructor = Dog;

// Add child methods
Dog.prototype.bark = function() {
  console.log(this.name + ' barks');
};

// Test
const buddy = new Dog('Buddy', 'Lab');
buddy.speak(); // "Buddy makes a sound"
buddy.bark();  // "Buddy barks"
console.log(buddy instanceof Dog);    // true
console.log(buddy instanceof Animal); // true
\`\`\`

### Q4: What's the output?
\`\`\`js
function Parent() {
  this.name = 'Parent';
}
Parent.prototype.getName = function() {
  return this.name;
};

function Child() {
  this.name = 'Child';
}
Child.prototype = new Parent(); // Anti-pattern, but valid
Child.prototype.constructor = Child;

const child = new Child();
console.log(child.getName()); // 'Child'
console.log(child.hasOwnProperty('name')); // true
console.log(child.hasOwnProperty('getName')); // false

// Explanation:
// - child.name is 'Child' (set in Child constructor)
// - getName() uses 'this', which is child
// - name is own property, getName is inherited
\`\`\`

### Q5: Implement Object.create polyfill
\`\`\`js
if (typeof Object.create !== 'function') {
  Object.create = function(proto, propertiesObject) {
    if (typeof proto !== 'object' && typeof proto !== 'function') {
      throw new TypeError('Object prototype may only be an Object or null');
    }
    
    function F() {}
    F.prototype = proto;
    const obj = new F();
    
    if (propertiesObject !== undefined) {
      Object.defineProperties(obj, propertiesObject);
    }
    
    return obj;
  };
}

// Test
const parent = { greet() { return 'Hello'; } };
const child = Object.create(parent);
console.log(child.greet()); // 'Hello'
console.log(Object.getPrototypeOf(child) === parent); // true
\`\`\`

### Q6: Implement instanceof
\`\`\`js
function myInstanceof(obj, Constructor) {
  // Handle primitives
  if (obj === null || (typeof obj !== 'object' && typeof obj !== 'function')) {
    return false;
  }
  
  let proto = Object.getPrototypeOf(obj);
  
  while (proto !== null) {
    if (proto === Constructor.prototype) {
      return true;
    }
    proto = Object.getPrototypeOf(proto);
  }
  
  return false;
}

// Test
console.log(myInstanceof([], Array));   // true
console.log(myInstanceof([], Object));  // true
console.log(myInstanceof({}, Array));   // false
console.log(myInstanceof(null, Object)); // false
\`\`\`

### Q7: Class vs Function Constructor - What's the difference?
\`\`\`js
// ES6 Class
class PersonClass {
  constructor(name) {
    this.name = name;
  }
  greet() {
    return 'Hello ' + this.name;
  }
}

// Function Constructor
function PersonFunc(name) {
  this.name = name;
}
PersonFunc.prototype.greet = function() {
  return 'Hello ' + this.name;
};

// Differences:
// 1. Classes must be called with 'new'
new PersonClass('John'); // OK
// PersonClass('John'); // TypeError: Class constructor cannot be invoked without 'new'

PersonFunc('John'); // Works (but wrong - sets global.name)
new PersonFunc('John'); // OK

// 2. Class methods are non-enumerable by default
console.log(Object.keys(PersonClass.prototype)); // []
console.log(Object.keys(PersonFunc.prototype));  // ['greet']

// 3. Classes are in strict mode by default
// 4. Classes are not hoisted like function declarations
// 5. Class methods don't have [[Construct]] - can't be used with 'new'
\`\`\`

### Q8: Create a chain of prototype methods (fluent interface)
\`\`\`js
class Calculator {
  constructor(value = 0) {
    this.value = value;
  }
  
  add(n) {
    this.value += n;
    return this; // Return this for chaining
  }
  
  subtract(n) {
    this.value -= n;
    return this;
  }
  
  multiply(n) {
    this.value *= n;
    return this;
  }
  
  divide(n) {
    if (n === 0) throw new Error('Cannot divide by zero');
    this.value /= n;
    return this;
  }
  
  result() {
    return this.value;
  }
}

const result = new Calculator(10)
  .add(5)      // 15
  .multiply(2) // 30
  .subtract(5) // 25
  .divide(5)   // 5
  .result();

console.log(result); // 5
\`\`\`

---

## QUICK REFERENCE CHEAT SHEET

| Concept | Description | Example |
|---------|-------------|---------|
| \`__proto__\` | Object's internal prototype reference | \`obj.__proto__\` |
| \`prototype\` | Constructor's prototype for instances | \`Array.prototype\` |
| \`Object.create()\` | Create object with specific prototype | \`Object.create(proto)\` |
| \`Object.getPrototypeOf()\` | Get object's prototype | \`Object.getPrototypeOf(obj)\` |
| \`instanceof\` | Check prototype chain | \`obj instanceof Class\` |
| \`isPrototypeOf()\` | Check if object is in chain | \`proto.isPrototypeOf(obj)\` |
| \`hasOwnProperty()\` | Check own property | \`obj.hasOwnProperty('key')\` |
| \`Object.hasOwn()\` | Safe own property check (ES2022) | \`Object.hasOwn(obj, 'key')\` |
| \`extends\` | Class inheritance | \`class Child extends Parent\` |
| \`super\` | Call parent constructor/method | \`super(args)\` |

---

## KEY TAKEAWAYS FOR INTERVIEWS

1. **Understand the prototype chain** - Every object has a prototype, forming a chain to null
2. **Know __proto__ vs prototype** - __proto__ is on objects, prototype is on functions
3. **Master Object.create()** - Creates objects with specified prototype
4. **ES6 classes are sugar** - They compile down to prototype-based inheritance
5. **Private fields use #** - Truly private, not accessible outside class
6. **Use hasOwn for safety** - Object.hasOwn() is safer than hasOwnProperty()
7. **Beware prototype pollution** - Never modify Object.prototype in production
8. **Know how 'new' works** - Creates object, links prototype, calls constructor
9. **Understand instanceof** - Walks the prototype chain to find constructor.prototype
10. **Static vs instance** - Static on constructor, instance on prototype`,language:"javascript"},{id:"interview-objects",title:"Objects - Deep Dive",content:`# Objects - Complete Interview Guide

## What is an Object?
An object is a collection of key-value pairs (properties) where keys are strings (or Symbols) and values can be any type. Objects are the fundamental building blocks of JavaScript - almost everything in JS is an object or behaves like one.

## Why Objects Matter
Objects are central to JavaScript because:
- They store and organize data with meaningful keys
- They represent real-world entities
- Functions, arrays, dates, regex are all objects
- They enable OOP patterns
- They're the basis for JSON data exchange
- Understanding objects deeply is essential for interviews

## Object Creation Methods
1. **Object Literal** - Most common, simple syntax
2. **Constructor Function** - Pre-ES6 OOP pattern
3. **Object.create()** - Create with specific prototype
4. **ES6 Class** - Modern OOP syntax
5. **new Object()** - Constructor (rarely used)
6. **Object.assign()** - Create by merging

## Key Concepts
- Property descriptors (writable, enumerable, configurable)
- Getters and setters
- Computed property names
- Object destructuring
- Shallow vs deep cloning
- Object comparison
- Prototypal inheritance
- Immutability (freeze, seal)

---

## OBJECT CREATION
Multiple ways to create objects in JavaScript, each with different use cases.

### Object Literal
The most common and concise way to create objects.

\`\`\`js
// ========================================
// BASIC OBJECT LITERAL
// ========================================
const person = {
  firstName: 'John',
  lastName: 'Doe',
  age: 30,
  isEmployed: true,
  
  // Method
  getFullName() {
    return \`\${this.firstName} \${this.lastName}\`;
  }
};

console.log(person.firstName);     // 'John'
console.log(person.getFullName()); // 'John Doe'

// Empty object
const empty = {};

// Nested objects
const company = {
  name: 'TechCorp',
  address: {
    street: '123 Main St',
    city: 'New York',
    country: 'USA'
  },
  employees: [
    { name: 'John', role: 'Developer' },
    { name: 'Jane', role: 'Designer' }
  ]
};

console.log(company.address.city); // 'New York'
console.log(company.employees[0].name); // 'John'

// ========================================
// SHORTHAND PROPERTIES (ES6)
// ========================================
// When variable name matches property name
const name = 'John';
const age = 30;
const city = 'NYC';

// Old way
const oldPerson = {
  name: name,
  age: age,
  city: city
};

// Shorthand (ES6)
const newPerson = { name, age, city };
console.log(newPerson); // { name: 'John', age: 30, city: 'NYC' }

// ========================================
// METHOD SHORTHAND (ES6)
// ========================================
// Old way
const oldObj = {
  greet: function() {
    return 'Hello';
  }
};

// Shorthand
const newObj = {
  greet() {
    return 'Hello';
  },
  
  // Async method
  async fetchData() {
    return await fetch('/api/data');
  },
  
  // Generator method
  *generateIds() {
    let id = 1;
    while (true) yield id++;
  }
};

// ========================================
// COMPUTED PROPERTY NAMES (ES6)
// ========================================
const propName = 'dynamicKey';
const index = 5;

const computed = {
  [propName]: 'dynamic value',
  ['key_' + index]: 'key_5 value',
  ['method_' + propName]() {
    return this[propName];
  }
};

console.log(computed.dynamicKey);     // 'dynamic value'
console.log(computed.key_5);          // 'key_5 value'
console.log(computed.method_dynamicKey()); // 'dynamic value'

// Common use case: creating object from array
const keys = ['a', 'b', 'c'];
const values = [1, 2, 3];

const fromArrays = keys.reduce((obj, key, i) => {
  obj[key] = values[i];
  return obj;
}, {});
console.log(fromArrays); // { a: 1, b: 2, c: 3 }

// Symbol as property key
const uniqueKey = Symbol('unique');
const withSymbol = {
  [uniqueKey]: 'hidden value',
  visible: 'normal value'
};

console.log(withSymbol[uniqueKey]); // 'hidden value'
console.log(Object.keys(withSymbol)); // ['visible'] - Symbol not included!
\`\`\`

### Constructor Function
Pre-ES6 way to create objects with shared behavior.

\`\`\`js
// ========================================
// BASIC CONSTRUCTOR FUNCTION
// ========================================
function Person(firstName, lastName, age) {
  // 'this' refers to the new object being created
  this.firstName = firstName;
  this.lastName = lastName;
  this.age = age;
  
  // Method (not recommended - creates new function per instance)
  // this.greet = function() { return 'Hello, ' + this.firstName; };
}

// Add methods to prototype (shared across all instances)
Person.prototype.greet = function() {
  return \`Hello, I'm \${this.firstName}\`;
};

Person.prototype.getFullName = function() {
  return \`\${this.firstName} \${this.lastName}\`;
};

// Create instances with 'new'
const john = new Person('John', 'Doe', 30);
const jane = new Person('Jane', 'Smith', 25);

console.log(john.firstName);     // 'John'
console.log(john.greet());       // "Hello, I'm John"
console.log(jane.getFullName()); // 'Jane Smith'

// Methods are shared (same reference)
console.log(john.greet === jane.greet); // true

// Check instance
console.log(john instanceof Person); // true
console.log(john.constructor === Person); // true

// ========================================
// WHAT 'new' DOES
// ========================================
// When you call new Person('John', 'Doe', 30):
// 1. Creates empty object: {}
// 2. Sets prototype: Object.setPrototypeOf({}, Person.prototype)
// 3. Binds 'this' to new object and calls constructor
// 4. Returns the object (unless constructor returns different object)

function simulateNew(Constructor, ...args) {
  // Step 1 & 2: Create object with correct prototype
  const obj = Object.create(Constructor.prototype);
  
  // Step 3: Call constructor with 'this' bound to new object
  const result = Constructor.apply(obj, args);
  
  // Step 4: Return object (or constructor's return value if it's an object)
  return result instanceof Object ? result : obj;
}

const bob = simulateNew(Person, 'Bob', 'Johnson', 35);
console.log(bob.greet()); // "Hello, I'm Bob"

// ========================================
// CONSTRUCTOR WITHOUT 'new' (DANGEROUS)
// ========================================
// Without 'new', 'this' is undefined (strict mode) or global object
const wrong = Person('Wrong', 'Way', 99); // No 'new'!
console.log(wrong); // undefined
// In non-strict mode, this pollutes global scope!

// Protection pattern
function SafePerson(name) {
  if (!(this instanceof SafePerson)) {
    return new SafePerson(name);
  }
  this.name = name;
}

const safe1 = new SafePerson('John');
const safe2 = SafePerson('Jane'); // Also works!
console.log(safe2.name); // 'Jane'
\`\`\`

### Object.create()
Create an object with a specific prototype.

\`\`\`js
// ========================================
// BASIC OBJECT.CREATE
// ========================================
// Create object with specified prototype
const personProto = {
  greet() {
    return \`Hello, I'm \${this.name}\`;
  },
  introduce() {
    return \`\${this.name}, age \${this.age}\`;
  }
};

const john = Object.create(personProto);
john.name = 'John';
john.age = 30;

console.log(john.greet());     // "Hello, I'm John"
console.log(john.introduce()); // "John, age 30"

// Check prototype
console.log(Object.getPrototypeOf(john) === personProto); // true

// ========================================
// WITH PROPERTY DESCRIPTORS
// ========================================
const jane = Object.create(personProto, {
  name: {
    value: 'Jane',
    writable: true,
    enumerable: true,
    configurable: true
  },
  age: {
    value: 25,
    writable: true,
    enumerable: true,
    configurable: true
  },
  ssn: {
    value: '123-45-6789',
    writable: false,
    enumerable: false,  // Hidden from iteration
    configurable: false
  }
});

console.log(jane.name);           // 'Jane'
console.log(jane.ssn);            // '123-45-6789'
console.log(Object.keys(jane));   // ['name', 'age'] - ssn not included

// ========================================
// OBJECT.CREATE(NULL) - Pure Dictionary
// ========================================
// No prototype = no inherited properties
const pureDict = Object.create(null);
pureDict.key = 'value';

console.log(pureDict.toString);    // undefined (no inherited methods)
console.log(pureDict.hasOwnProperty); // undefined

// Safe to use any key
pureDict.constructor = 'safe';
pureDict.__proto__ = 'also safe';
pureDict.toString = 'no collision';

// Useful for:
// 1. Clean hash maps with user-provided keys
// 2. Avoiding prototype pollution
// 3. Slightly faster property access

// Compare with regular object
const regular = {};
console.log(regular.toString); // [Function: toString]
console.log('toString' in regular); // true

console.log(pureDict.toString); // 'no collision' (our value)
console.log('toString' in pureDict); // true (our property)

// ========================================
// FACTORY PATTERN WITH OBJECT.CREATE
// ========================================
const carProto = {
  start() {
    this.running = true;
    console.log(\`\${this.make} \${this.model} started\`);
  },
  stop() {
    this.running = false;
    console.log(\`\${this.make} \${this.model} stopped\`);
  }
};

function createCar(make, model, year) {
  const car = Object.create(carProto);
  car.make = make;
  car.model = model;
  car.year = year;
  car.running = false;
  return car;
}

const myCar = createCar('Toyota', 'Camry', 2020);
myCar.start(); // 'Toyota Camry started'
\`\`\`

### ES6 Class
Modern OOP syntax (syntactic sugar over prototypes).

\`\`\`js
// ========================================
// BASIC CLASS
// ========================================
class Person {
  // Constructor - called when using 'new'
  constructor(firstName, lastName, age) {
    this.firstName = firstName;
    this.lastName = lastName;
    this.age = age;
  }
  
  // Instance method (on prototype)
  greet() {
    return \`Hello, I'm \${this.firstName}\`;
  }
  
  getFullName() {
    return \`\${this.firstName} \${this.lastName}\`;
  }
  
  // Getter
  get info() {
    return \`\${this.getFullName()}, age \${this.age}\`;
  }
  
  // Setter
  set info(value) {
    const [name, age] = value.split(',');
    const [first, last] = name.trim().split(' ');
    this.firstName = first;
    this.lastName = last || '';
    this.age = parseInt(age) || this.age;
  }
  
  // Static method (on class itself, not instances)
  static species() {
    return 'Homo sapiens';
  }
  
  // Static property
  static count = 0;
}

const john = new Person('John', 'Doe', 30);
console.log(john.greet());      // "Hello, I'm John"
console.log(john.info);         // 'John Doe, age 30'
john.info = 'Jane Smith, 25';
console.log(john.firstName);    // 'Jane'
console.log(Person.species());  // 'Homo sapiens'

// ========================================
// PRIVATE FIELDS (ES2022)
// ========================================
class BankAccount {
  // Private fields (must be declared)
  #balance = 0;
  #accountNumber;
  #transactions = [];
  
  constructor(accountNumber, initialBalance = 0) {
    this.#accountNumber = accountNumber;
    this.#balance = initialBalance;
    this.#log('Account opened');
  }
  
  // Private method
  #log(message) {
    this.#transactions.push({
      message,
      timestamp: new Date()
    });
  }
  
  deposit(amount) {
    if (amount <= 0) throw new Error('Invalid amount');
    this.#balance += amount;
    this.#log(\`Deposited \${amount}\`);
    return this.#balance;
  }
  
  withdraw(amount) {
    if (amount <= 0) throw new Error('Invalid amount');
    if (amount > this.#balance) throw new Error('Insufficient funds');
    this.#balance -= amount;
    this.#log(\`Withdrew \${amount}\`);
    return this.#balance;
  }
  
  get balance() {
    return this.#balance;
  }
  
  // Cannot set balance directly
  
  getStatement() {
    return {
      account: this.#maskAccount(),
      balance: this.#balance,
      transactions: this.#transactions.length
    };
  }
  
  #maskAccount() {
    return '****' + String(this.#accountNumber).slice(-4);
  }
}

const account = new BankAccount(1234567890, 1000);
console.log(account.balance);     // 1000
account.deposit(500);
console.log(account.balance);     // 1500
// account.#balance = 1000000;    // SyntaxError - can't access private!
// console.log(account.#balance); // SyntaxError

// ========================================
// CLASS INHERITANCE
// ========================================
class Animal {
  constructor(name) {
    this.name = name;
  }
  
  speak() {
    console.log(\`\${this.name} makes a sound\`);
  }
  
  static kingdom = 'Animalia';
}

class Dog extends Animal {
  constructor(name, breed) {
    super(name); // Must call super first!
    this.breed = breed;
  }
  
  speak() {
    console.log(\`\${this.name} barks: Woof!\`);
  }
  
  fetch() {
    console.log(\`\${this.name} fetches the ball\`);
  }
}

const buddy = new Dog('Buddy', 'Golden Retriever');
buddy.speak();  // 'Buddy barks: Woof!'
buddy.fetch();  // 'Buddy fetches the ball'

console.log(buddy instanceof Dog);    // true
console.log(buddy instanceof Animal); // true
console.log(Dog.kingdom);             // 'Animalia' (inherited static)

// ========================================
// CLASS VS CONSTRUCTOR FUNCTION
// ========================================
// Classes are syntactic sugar, but with some differences:

// 1. Classes must be called with 'new'
// Person('John'); // TypeError with class

// 2. Class methods are non-enumerable
console.log(Object.keys(Person.prototype)); // []

// 3. Classes are always in strict mode

// 4. Classes are not hoisted
// const p = new MyClass(); // ReferenceError
// class MyClass {}

// 5. Class methods don't have [[Construct]]
// new john.greet(); // TypeError
\`\`\`

---

## OBJECT PROPERTIES

### Accessing Properties
\`\`\`js
const person = {
  firstName: 'John',
  lastName: 'Doe',
  'full-name': 'John Doe',  // Needs quotes (invalid identifier)
  123: 'numeric key',       // Numbers converted to strings
  [Symbol('id')]: 'symbol key'
};

// ========================================
// DOT NOTATION
// ========================================
console.log(person.firstName); // 'John'

// Limitations:
// - Property must be valid identifier
// - Cannot use variables
// - Cannot use reserved words as properties (old JS)

// ========================================
// BRACKET NOTATION
// ========================================
console.log(person['firstName']);   // 'John'
console.log(person['full-name']);   // 'John Doe'
console.log(person[123]);           // 'numeric key'
console.log(person['123']);         // 'numeric key' (same)

// Using variables
const prop = 'lastName';
console.log(person[prop]);          // 'Doe'

// Dynamic property access
function getProperty(obj, key) {
  return obj[key];
}
console.log(getProperty(person, 'firstName')); // 'John'

// ========================================
// OPTIONAL CHAINING (?.)
// ========================================
const user = {
  name: 'John',
  address: {
    city: 'New York'
  }
};

// Without optional chaining (verbose)
const zip1 = user && user.address && user.address.zipCode;
console.log(zip1); // undefined

// With optional chaining
const zip2 = user?.address?.zipCode;
console.log(zip2); // undefined (no error!)

// Deeply nested
const company = {
  departments: {
    engineering: {
      teams: {
        frontend: {
          lead: 'John'
        }
      }
    }
  }
};

const lead = company?.departments?.engineering?.teams?.frontend?.lead;
console.log(lead); // 'John'

const missing = company?.departments?.sales?.teams?.enterprise?.lead;
console.log(missing); // undefined (no error)

// With methods
const obj = {
  method() { return 'called'; }
};

console.log(obj.method?.());     // 'called'
console.log(obj.missing?.());    // undefined (no error)

// With arrays
const arr = [1, 2, 3];
console.log(arr?.[0]);           // 1
console.log(arr?.[100]);         // undefined

// ========================================
// NULLISH COALESCING (??)
// ========================================
// Returns right side only if left is null or undefined

const config = {
  timeout: 0,
  retries: null,
  debug: false,
  name: ''
};

// Using || (returns right if left is falsy)
console.log(config.timeout || 1000);  // 1000 (0 is falsy!)
console.log(config.debug || true);    // true (false is falsy!)
console.log(config.name || 'default'); // 'default' ('' is falsy!)

// Using ?? (returns right only if left is null/undefined)
console.log(config.timeout ?? 1000);  // 0 (0 is not nullish)
console.log(config.retries ?? 3);     // 3 (null is nullish)
console.log(config.debug ?? true);    // false (false is not nullish)
console.log(config.name ?? 'default'); // '' ('' is not nullish)
console.log(config.missing ?? 'default'); // 'default'

// Common pattern: default values
function greet(name) {
  const displayName = name ?? 'Guest';
  return \`Hello, \${displayName}!\`;
}

console.log(greet('John')); // 'Hello, John!'
console.log(greet(null));   // 'Hello, Guest!'
console.log(greet());       // 'Hello, Guest!'

// Combining with optional chaining
const data = { user: { settings: { theme: null } } };
const theme = data?.user?.settings?.theme ?? 'light';
console.log(theme); // 'light'
\`\`\`

### Adding, Modifying, and Deleting Properties
\`\`\`js
const obj = { a: 1 };

// ========================================
// ADDING PROPERTIES
// ========================================
obj.b = 2;          // Dot notation
obj['c'] = 3;       // Bracket notation
obj[Symbol('d')] = 4; // Symbol key

console.log(obj); // { a: 1, b: 2, c: 3, [Symbol(d)]: 4 }

// ========================================
// MODIFYING PROPERTIES
// ========================================
obj.a = 100;
console.log(obj.a); // 100

// ========================================
// DELETING PROPERTIES
// ========================================
delete obj.b;
console.log(obj.b); // undefined
console.log('b' in obj); // false

// Delete returns true even if property doesn't exist
console.log(delete obj.nonexistent); // true

// Cannot delete non-configurable properties
const frozen = Object.freeze({ x: 1 });
console.log(delete frozen.x); // false (strict mode throws)

// Cannot delete variables or function declarations
// delete someVariable; // Returns false or throws

// ========================================
// CHECKING PROPERTY EXISTENCE
// ========================================
const person = { name: 'John', age: undefined };

// 'in' operator - checks own AND prototype chain
console.log('name' in person);      // true
console.log('age' in person);       // true (exists, even if undefined)
console.log('toString' in person);  // true (inherited)
console.log('missing' in person);   // false

// hasOwnProperty - checks ONLY own properties
console.log(person.hasOwnProperty('name'));      // true
console.log(person.hasOwnProperty('toString')); // false

// Object.hasOwn (ES2022) - safer version
console.log(Object.hasOwn(person, 'name'));     // true
console.log(Object.hasOwn(person, 'toString')); // false

// Why Object.hasOwn is safer:
const badObj = Object.create(null); // No prototype
badObj.name = 'John';
// badObj.hasOwnProperty('name'); // TypeError!
console.log(Object.hasOwn(badObj, 'name')); // true - works!

// Checking for undefined vs non-existent
const check = { value: undefined };
console.log(check.value === undefined);    // true
console.log(check.missing === undefined);  // true (can't distinguish!)
console.log('value' in check);             // true
console.log('missing' in check);           // false (distinguishes!)
\`\`\`

---

## OBJECT METHODS

### Object.keys(), values(), entries()
\`\`\`js
const person = {
  name: 'John',
  age: 30,
  city: 'NYC'
};

// ========================================
// OBJECT.KEYS() - Get property names
// ========================================
const keys = Object.keys(person);
console.log(keys); // ['name', 'age', 'city']

// Only own enumerable properties
Object.defineProperty(person, 'ssn', {
  value: '123',
  enumerable: false
});
console.log(Object.keys(person)); // ['name', 'age', 'city'] - ssn excluded

// Use cases
// 1. Iterate over properties
Object.keys(person).forEach(key => {
  console.log(\`\${key}: \${person[key]}\`);
});

// 2. Count properties
console.log(Object.keys(person).length); // 3

// 3. Check if object is empty
const isEmpty = Object.keys({}).length === 0;
console.log(isEmpty); // true

// ========================================
// OBJECT.VALUES() - Get property values
// ========================================
const values = Object.values(person);
console.log(values); // ['John', 30, 'NYC']

// Sum numeric values
const nums = { a: 1, b: 2, c: 3 };
const sum = Object.values(nums).reduce((a, b) => a + b, 0);
console.log(sum); // 6

// ========================================
// OBJECT.ENTRIES() - Get [key, value] pairs
// ========================================
const entries = Object.entries(person);
console.log(entries);
// [['name', 'John'], ['age', 30], ['city', 'NYC']]

// Iterate with destructuring
for (const [key, value] of Object.entries(person)) {
  console.log(\`\${key}: \${value}\`);
}

// Transform object
const doubled = Object.fromEntries(
  Object.entries(nums).map(([key, value]) => [key, value * 2])
);
console.log(doubled); // { a: 2, b: 4, c: 6 }

// Filter object properties
const filtered = Object.fromEntries(
  Object.entries(person).filter(([key, value]) => typeof value === 'string')
);
console.log(filtered); // { name: 'John', city: 'NYC' }

// ========================================
// OBJECT.FROMENTRIES() - Create object from entries
// ========================================
// Convert Map to object
const map = new Map([['a', 1], ['b', 2], ['c', 3]]);
const objFromMap = Object.fromEntries(map);
console.log(objFromMap); // { a: 1, b: 2, c: 3 }

// Convert URLSearchParams
const params = new URLSearchParams('name=John&age=30');
const objFromParams = Object.fromEntries(params);
console.log(objFromParams); // { name: 'John', age: '30' }

// Convert array of pairs
const pairs = [['x', 10], ['y', 20], ['z', 30]];
const objFromPairs = Object.fromEntries(pairs);
console.log(objFromPairs); // { x: 10, y: 20, z: 30 }

// ========================================
// ITERATION COMPARISON
// ========================================
const obj = { a: 1, b: 2 };
Object.prototype.inherited = 'inherited';

// for...in (includes inherited enumerable)
for (const key in obj) {
  console.log(key); // 'a', 'b', 'inherited'
}

// for...in with hasOwn check
for (const key in obj) {
  if (Object.hasOwn(obj, key)) {
    console.log(key); // 'a', 'b'
  }
}

// Object.keys (only own enumerable)
Object.keys(obj).forEach(key => {
  console.log(key); // 'a', 'b'
});

// Cleanup
delete Object.prototype.inherited;
\`\`\`

### Object.assign()
\`\`\`js
// ========================================
// BASIC USAGE - Merge objects
// ========================================
const target = { a: 1, b: 2 };
const source1 = { b: 3, c: 4 };
const source2 = { c: 5, d: 6 };

// Merges into target (mutates it!)
const result = Object.assign(target, source1, source2);

console.log(target); // { a: 1, b: 3, c: 5, d: 6 }
console.log(result); // Same object as target
console.log(result === target); // true

// Later sources override earlier ones
// b: 2  3 (from source1)
// c: 4  5 (from source2)

// ========================================
// SHALLOW CLONE
// ========================================
const original = { a: 1, b: { c: 2 } };

// Clone (create new object)
const clone = Object.assign({}, original);

console.log(clone);           // { a: 1, b: { c: 2 } }
console.log(clone === original); // false (different objects)

// But nested objects are same reference (shallow!)
console.log(clone.b === original.b); // true!
clone.b.c = 999;
console.log(original.b.c);   // 999 (affected!)

// ========================================
// SPREAD OPERATOR ALTERNATIVE (ES2018)
// ========================================
const spreadClone = { ...original };
const spreadMerge = { ...target, ...source1, ...source2 };

// Spread is often cleaner and doesn't mutate
const immutableMerge = {
  ...{ a: 1 },
  ...{ b: 2 },
  ...{ a: 3 } // Override a
};
console.log(immutableMerge); // { a: 3, b: 2 }

// ========================================
// ONLY COPIES ENUMERABLE OWN PROPERTIES
// ========================================
const withDescriptors = {};
Object.defineProperty(withDescriptors, 'hidden', {
  value: 'secret',
  enumerable: false
});
withDescriptors.visible = 'shown';

const copied = Object.assign({}, withDescriptors);
console.log(copied); // { visible: 'shown' } - hidden not copied!

// ========================================
// COMMON PATTERNS
// ========================================
// Default options
function configure(options) {
  const defaults = {
    timeout: 1000,
    retries: 3,
    debug: false
  };
  const config = Object.assign({}, defaults, options);
  return config;
}

console.log(configure({ timeout: 5000 }));
// { timeout: 5000, retries: 3, debug: false }

// Spread version (preferred)
function configureSpread(options) {
  return {
    timeout: 1000,
    retries: 3,
    debug: false,
    ...options
  };
}

// Adding properties immutably
const user = { name: 'John', age: 30 };
const updatedUser = { ...user, age: 31, city: 'NYC' };
console.log(user);        // { name: 'John', age: 30 } - unchanged
console.log(updatedUser); // { name: 'John', age: 31, city: 'NYC' }

// Removing properties immutably
const { age, ...withoutAge } = user;
console.log(withoutAge); // { name: 'John' }
\`\`\`

### Object.freeze(), seal(), preventExtensions()
\`\`\`js
// ========================================
// OBJECT.FREEZE - Most restrictive
// ========================================
// Cannot: add, delete, or modify properties
const frozen = Object.freeze({
  name: 'John',
  nested: { value: 1 }
});

frozen.name = 'Jane';     // Fails silently (throws in strict mode)
frozen.age = 30;          // Fails silently
delete frozen.name;       // Fails silently

console.log(frozen.name); // 'John' - unchanged

// BUT: Nested objects are NOT frozen (shallow freeze)
frozen.nested.value = 999;
console.log(frozen.nested.value); // 999 - changed!

// Check if frozen
console.log(Object.isFrozen(frozen)); // true

// ========================================
// DEEP FREEZE (Recursive)
// ========================================
function deepFreeze(obj) {
  // Get all properties including non-enumerable
  Object.getOwnPropertyNames(obj).forEach(name => {
    const value = obj[name];
    if (value && typeof value === 'object') {
      deepFreeze(value);
    }
  });
  return Object.freeze(obj);
}

const deepFrozen = deepFreeze({
  level1: {
    level2: {
      level3: { value: 'deep' }
    }
  }
});

deepFrozen.level1.level2.level3.value = 'changed';
console.log(deepFrozen.level1.level2.level3.value); // 'deep' - unchanged!

// ========================================
// OBJECT.SEAL - Medium restrictive
// ========================================
// Cannot: add or delete properties
// CAN: modify existing properties
const sealed = Object.seal({
  name: 'John',
  age: 30
});

sealed.name = 'Jane';     // Works! Can modify
sealed.age = 31;          // Works!
sealed.city = 'NYC';      // Fails silently
delete sealed.name;       // Fails silently

console.log(sealed); // { name: 'Jane', age: 31 }

console.log(Object.isSealed(sealed)); // true

// ========================================
// OBJECT.PREVENTEXTENSIONS - Least restrictive
// ========================================
// Cannot: add new properties
// CAN: modify and delete existing properties
const noExtend = Object.preventExtensions({
  name: 'John',
  age: 30
});

noExtend.name = 'Jane';   // Works!
delete noExtend.age;      // Works!
noExtend.city = 'NYC';    // Fails silently

console.log(noExtend); // { name: 'Jane' }

console.log(Object.isExtensible(noExtend)); // false

// ========================================
// COMPARISON TABLE
// ========================================
/*
                    | preventExtensions | seal    | freeze
--------------------|-------------------|---------|--------
Add properties      |                 |       | 
Delete properties   |                 |       | 
Modify properties   |                 |       | 
*/

// ========================================
// USE CASES
// ========================================
// 1. Configuration objects
const CONFIG = Object.freeze({
  API_URL: 'https://api.example.com',
  TIMEOUT: 5000,
  MAX_RETRIES: 3
});

// 2. Enum-like objects
const STATUS = Object.freeze({
  PENDING: 'pending',
  ACTIVE: 'active',
  COMPLETED: 'completed'
});

// 3. Immutable default values
const DEFAULT_OPTIONS = Object.freeze({
  enabled: true,
  timeout: 1000
});

function process(options) {
  // Safe to spread frozen object
  const config = { ...DEFAULT_OPTIONS, ...options };
  // ...
}
\`\`\`

---

## PROPERTY DESCRIPTORS
Every property has hidden attributes that control its behavior.

\`\`\`js
// ========================================
// GET PROPERTY DESCRIPTOR
// ========================================
const obj = { name: 'John' };

const descriptor = Object.getOwnPropertyDescriptor(obj, 'name');
console.log(descriptor);
/*
{
  value: 'John',
  writable: true,     // Can change value
  enumerable: true,   // Shows in for...in, Object.keys
  configurable: true  // Can delete or change descriptor
}
*/

// Get all descriptors
console.log(Object.getOwnPropertyDescriptors(obj));

// ========================================
// DEFINE PROPERTY
// ========================================
const user = {};

Object.defineProperty(user, 'id', {
  value: 1,
  writable: false,      // Cannot change
  enumerable: false,    // Hidden from iteration
  configurable: false   // Cannot delete or reconfigure
});

user.id = 2;            // Fails silently
console.log(user.id);   // 1

delete user.id;         // Fails silently
console.log(user.id);   // 1

console.log(Object.keys(user)); // [] - id not included

// ========================================
// WRITABLE
// ========================================
const withWritable = {};

Object.defineProperty(withWritable, 'constant', {
  value: 'CANNOT_CHANGE',
  writable: false
});

withWritable.constant = 'NEW_VALUE';
console.log(withWritable.constant); // 'CANNOT_CHANGE'

// In strict mode, throws TypeError
// 'use strict';
// withWritable.constant = 'NEW_VALUE'; // TypeError!

// ========================================
// ENUMERABLE
// ========================================
const withEnumerable = { visible: true };

Object.defineProperty(withEnumerable, 'hidden', {
  value: 'secret',
  enumerable: false
});

console.log(Object.keys(withEnumerable));      // ['visible']
console.log(Object.values(withEnumerable));    // [true]
console.log(JSON.stringify(withEnumerable));   // '{"visible":true}'

// But still accessible directly
console.log(withEnumerable.hidden);            // 'secret'

// for...in also skips non-enumerable
for (const key in withEnumerable) {
  console.log(key); // Only 'visible'
}

// ========================================
// CONFIGURABLE
// ========================================
const withConfigurable = {};

Object.defineProperty(withConfigurable, 'locked', {
  value: 'initial',
  writable: true,
  configurable: false
});

// Can still write (writable is true)
withConfigurable.locked = 'changed';
console.log(withConfigurable.locked); // 'changed'

// Cannot delete
delete withConfigurable.locked; // Fails
console.log(withConfigurable.locked); // 'changed'

// Cannot redefine (even to same config!)
// Object.defineProperty(withConfigurable, 'locked', {
//   writable: false // TypeError: Cannot redefine property
// });

// ========================================
// DEFINE MULTIPLE PROPERTIES
// ========================================
const product = {};

Object.defineProperties(product, {
  id: {
    value: 1,
    writable: false,
    enumerable: true
  },
  name: {
    value: 'Widget',
    writable: true,
    enumerable: true
  },
  _price: {
    value: 99.99,
    writable: true,
    enumerable: false // "Private"
  }
});

// ========================================
// ACCESSOR DESCRIPTORS (Getters/Setters)
// ========================================
const account = {
  _balance: 0
};

Object.defineProperty(account, 'balance', {
  get() {
    return '$' + this._balance.toFixed(2);
  },
  set(value) {
    if (typeof value !== 'number' || value < 0) {
      throw new Error('Invalid balance');
    }
    this._balance = value;
  },
  enumerable: true,
  configurable: true
});

account.balance = 1000;
console.log(account.balance); // '$1000.00'
// account.balance = -100; // Error: Invalid balance

// Accessor descriptor structure:
/*
{
  get: function,       // Getter function
  set: function,       // Setter function
  enumerable: boolean,
  configurable: boolean
  // NO 'value' or 'writable' - mutually exclusive!
}
*/

// ========================================
// COPY WITH DESCRIPTORS
// ========================================
// Object.assign doesn't preserve descriptors
const original = {};
Object.defineProperty(original, 'readonly', {
  value: 'cannot change',
  writable: false
});

const normalCopy = Object.assign({}, original);
console.log(Object.getOwnPropertyDescriptor(normalCopy, 'readonly'));
// { value: 'cannot change', writable: true, ... } - writable changed!

// Use getOwnPropertyDescriptors for full copy
const fullCopy = Object.defineProperties(
  {},
  Object.getOwnPropertyDescriptors(original)
);
console.log(Object.getOwnPropertyDescriptor(fullCopy, 'readonly'));
// { value: 'cannot change', writable: false, ... } - preserved!
\`\`\`

---

## GETTERS AND SETTERS

\`\`\`js
// ========================================
// OBJECT LITERAL SYNTAX
// ========================================
const person = {
  firstName: 'John',
  lastName: 'Doe',
  
  // Getter - accessed like a property
  get fullName() {
    return \`\${this.firstName} \${this.lastName}\`;
  },
  
  // Setter - assigned like a property
  set fullName(value) {
    const parts = value.split(' ');
    this.firstName = parts[0] || '';
    this.lastName = parts[1] || '';
  }
};

// Use getter (no parentheses!)
console.log(person.fullName); // 'John Doe'

// Use setter
person.fullName = 'Jane Smith';
console.log(person.firstName); // 'Jane'
console.log(person.lastName);  // 'Smith'

// ========================================
// CLASS SYNTAX
// ========================================
class Temperature {
  constructor(celsius) {
    this._celsius = celsius;
  }
  
  // Getter for celsius
  get celsius() {
    return this._celsius;
  }
  
  // Setter for celsius
  set celsius(value) {
    if (value < -273.15) {
      throw new Error('Temperature below absolute zero!');
    }
    this._celsius = value;
  }
  
  // Computed property - fahrenheit from celsius
  get fahrenheit() {
    return this._celsius * 9/5 + 32;
  }
  
  set fahrenheit(value) {
    this._celsius = (value - 32) * 5/9;
  }
  
  get kelvin() {
    return this._celsius + 273.15;
  }
  
  set kelvin(value) {
    this._celsius = value - 273.15;
  }
}

const temp = new Temperature(25);
console.log(temp.celsius);    // 25
console.log(temp.fahrenheit); // 77
console.log(temp.kelvin);     // 298.15

temp.fahrenheit = 100;
console.log(temp.celsius);    // 37.78

// temp.celsius = -300; // Error!

// ========================================
// LAZY CALCULATION / CACHING
// ========================================
const data = {
  _items: [1, 2, 3, 4, 5],
  _sumCache: null,
  
  get sum() {
    if (this._sumCache === null) {
      console.log('Calculating sum...');
      this._sumCache = this._items.reduce((a, b) => a + b, 0);
    }
    return this._sumCache;
  },
  
  addItem(item) {
    this._items.push(item);
    this._sumCache = null; // Invalidate cache
  }
};

console.log(data.sum); // "Calculating sum..." 15
console.log(data.sum); // 15 (cached, no log)
data.addItem(6);
console.log(data.sum); // "Calculating sum..." 21

// ========================================
// VALIDATION
// ========================================
const user = {
  _email: '',
  
  get email() {
    return this._email;
  },
  
  set email(value) {
    const emailRegex = /^[^s@]+@[^s@]+.[^s@]+$/;
    if (!emailRegex.test(value)) {
      throw new Error('Invalid email format');
    }
    this._email = value.toLowerCase();
  }
};

user.email = 'JOHN@Example.COM';
console.log(user.email); // 'john@example.com'
// user.email = 'invalid'; // Error!

// ========================================
// DERIVED PROPERTIES
// ========================================
const rectangle = {
  width: 10,
  height: 5,
  
  get area() {
    return this.width * this.height;
  },
  
  get perimeter() {
    return 2 * (this.width + this.height);
  },
  
  get diagonal() {
    return Math.sqrt(this.width ** 2 + this.height ** 2);
  }
};

console.log(rectangle.area);      // 50
console.log(rectangle.perimeter); // 30
console.log(rectangle.diagonal);  // 11.18

rectangle.width = 20;
console.log(rectangle.area);      // 100 (automatically updated)

// ========================================
// PRIVATE BACKING FIELD WITH #
// ========================================
class Circle {
  #radius;
  
  constructor(radius) {
    this.#radius = radius;
  }
  
  get radius() {
    return this.#radius;
  }
  
  set radius(value) {
    if (value <= 0) throw new Error('Radius must be positive');
    this.#radius = value;
  }
  
  get diameter() {
    return this.#radius * 2;
  }
  
  get area() {
    return Math.PI * this.#radius ** 2;
  }
  
  get circumference() {
    return 2 * Math.PI * this.#radius;
  }
}

const circle = new Circle(5);
console.log(circle.radius);       // 5
console.log(circle.diameter);     // 10
console.log(circle.area);         // 78.54
// circle.#radius = 10;           // SyntaxError - truly private!
\`\`\`

---

## OBJECT CLONING

### Shallow Clone
\`\`\`js
const original = {
  name: 'John',
  age: 30,
  address: {
    city: 'NYC',
    zip: '10001'
  },
  hobbies: ['reading', 'gaming']
};

// ========================================
// METHOD 1: Spread operator (ES2018)
// ========================================
const clone1 = { ...original };

console.log(clone1);           // Same structure
console.log(clone1 === original); // false (different object)

// But nested objects are same reference!
console.log(clone1.address === original.address); // true!
clone1.address.city = 'LA';
console.log(original.address.city); // 'LA' - affected!

// ========================================
// METHOD 2: Object.assign
// ========================================
const clone2 = Object.assign({}, original);

// Same shallow behavior
console.log(clone2.hobbies === original.hobbies); // true

// ========================================
// METHOD 3: Object.fromEntries + Object.entries
// ========================================
const clone3 = Object.fromEntries(Object.entries(original));

// Also shallow
console.log(clone3.address === original.address); // true

// ========================================
// WHEN SHALLOW IS FINE
// ========================================
// When object has only primitives
const simple = { a: 1, b: 'two', c: true };
const simpleClone = { ...simple };
simpleClone.a = 999;
console.log(simple.a); // 1 - unaffected
\`\`\`

### Deep Clone
\`\`\`js
const original = {
  name: 'John',
  nested: {
    deep: {
      value: 'deeply nested'
    }
  },
  array: [1, [2, 3], { four: 4 }],
  date: new Date('2024-01-01'),
  regex: /test/gi,
  fn: function() { return 'hello'; }
};

// ========================================
// METHOD 1: JSON.parse/stringify (Limited!)
// ========================================
const jsonClone = JSON.parse(JSON.stringify(original));

console.log(jsonClone.nested.deep === original.nested.deep); // false - cloned!

// But has major limitations:
console.log(jsonClone.date);   // String! Not Date object
console.log(jsonClone.regex);  // {} Empty object!
console.log(jsonClone.fn);     // undefined! Functions lost!

// Also fails with:
// - undefined (becomes null in arrays, omitted in objects)
// - Symbols (omitted)
// - Infinity, NaN (become null)
// - Circular references (throws error!)

// ========================================
// METHOD 2: structuredClone (Modern - Node 17+, browsers)
// ========================================
const structuredCloneObj = {
  name: 'John',
  nested: { value: 1 },
  array: [1, 2, 3],
  date: new Date(),
  map: new Map([['a', 1]]),
  set: new Set([1, 2, 3]),
  buffer: new ArrayBuffer(8)
};

const structuredCopy = structuredClone(structuredCloneObj);

console.log(structuredCopy.date instanceof Date);   // true!
console.log(structuredCopy.map instanceof Map);     // true!
console.log(structuredCopy.nested === structuredCloneObj.nested); // false

// But still doesn't clone:
// - Functions
// - DOM nodes
// - Property descriptors
// - Prototype chain

// ========================================
// METHOD 3: Custom deep clone (Recursive)
// ========================================
function deepClone(obj, seen = new WeakMap()) {
  // Handle primitives and null
  if (obj === null || typeof obj !== 'object') {
    return obj;
  }
  
  // Handle circular references
  if (seen.has(obj)) {
    return seen.get(obj);
  }
  
  // Handle Date
  if (obj instanceof Date) {
    return new Date(obj.getTime());
  }
  
  // Handle RegExp
  if (obj instanceof RegExp) {
    return new RegExp(obj.source, obj.flags);
  }
  
  // Handle Array
  if (Array.isArray(obj)) {
    const arrCopy = [];
    seen.set(obj, arrCopy);
    obj.forEach((item, index) => {
      arrCopy[index] = deepClone(item, seen);
    });
    return arrCopy;
  }
  
  // Handle Map
  if (obj instanceof Map) {
    const mapCopy = new Map();
    seen.set(obj, mapCopy);
    obj.forEach((value, key) => {
      mapCopy.set(deepClone(key, seen), deepClone(value, seen));
    });
    return mapCopy;
  }
  
  // Handle Set
  if (obj instanceof Set) {
    const setCopy = new Set();
    seen.set(obj, setCopy);
    obj.forEach(value => {
      setCopy.add(deepClone(value, seen));
    });
    return setCopy;
  }
  
  // Handle Object
  const objCopy = Object.create(Object.getPrototypeOf(obj));
  seen.set(obj, objCopy);
  
  // Copy all own properties with their descriptors
  const descriptors = Object.getOwnPropertyDescriptors(obj);
  for (const key of Reflect.ownKeys(descriptors)) {
    const descriptor = descriptors[key];
    if ('value' in descriptor) {
      descriptor.value = deepClone(descriptor.value, seen);
    }
    Object.defineProperty(objCopy, key, descriptor);
  }
  
  return objCopy;
}

// Test with circular reference
const circular = { name: 'circular' };
circular.self = circular;

const circularClone = deepClone(circular);
console.log(circularClone.self === circularClone); // true (handled!)

// ========================================
// LIBRARY OPTIONS
// ========================================
// lodash.cloneDeep
// import cloneDeep from 'lodash/cloneDeep';
// const clone = cloneDeep(original);

// Ramda
// import { clone } from 'ramda';
// const clone = clone(original);
\`\`\`

---

## OBJECT COMPARISON

\`\`\`js
// ========================================
// REFERENCE COMPARISON
// ========================================
const obj1 = { a: 1 };
const obj2 = { a: 1 };
const obj3 = obj1;

console.log(obj1 === obj2); // false (different references)
console.log(obj1 === obj3); // true (same reference)
console.log(obj1 == obj2);  // false (== also compares reference)

// ========================================
// OBJECT.IS (Similar to ===, but handles edge cases)
// ========================================
console.log(Object.is(obj1, obj2)); // false
console.log(Object.is(obj1, obj3)); // true

// Difference from ===:
console.log(NaN === NaN);           // false
console.log(Object.is(NaN, NaN));   // true

console.log(0 === -0);              // true
console.log(Object.is(0, -0));      // false

// ========================================
// SHALLOW EQUALITY
// ========================================
function shallowEqual(obj1, obj2) {
  // Same reference?
  if (obj1 === obj2) return true;
  
  // Different types or null?
  if (typeof obj1 !== 'object' || typeof obj2 !== 'object') return false;
  if (obj1 === null || obj2 === null) return false;
  
  // Different number of keys?
  const keys1 = Object.keys(obj1);
  const keys2 = Object.keys(obj2);
  if (keys1.length !== keys2.length) return false;
  
  // All keys and values equal?
  for (const key of keys1) {
    if (!keys2.includes(key) || obj1[key] !== obj2[key]) {
      return false;
    }
  }
  
  return true;
}

console.log(shallowEqual({ a: 1, b: 2 }, { a: 1, b: 2 }));     // true
console.log(shallowEqual({ a: 1, b: 2 }, { a: 1, b: 3 }));     // false
console.log(shallowEqual({ a: { x: 1 } }, { a: { x: 1 } }));   // false (nested)

// ========================================
// DEEP EQUALITY
// ========================================
function deepEqual(obj1, obj2) {
  // Same reference?
  if (obj1 === obj2) return true;
  
  // Handle null
  if (obj1 === null || obj2 === null) return obj1 === obj2;
  
  // Different types?
  if (typeof obj1 !== typeof obj2) return false;
  
  // Primitives
  if (typeof obj1 !== 'object') return obj1 === obj2;
  
  // Arrays
  if (Array.isArray(obj1) !== Array.isArray(obj2)) return false;
  if (Array.isArray(obj1)) {
    if (obj1.length !== obj2.length) return false;
    return obj1.every((item, index) => deepEqual(item, obj2[index]));
  }
  
  // Objects
  const keys1 = Object.keys(obj1);
  const keys2 = Object.keys(obj2);
  
  if (keys1.length !== keys2.length) return false;
  
  return keys1.every(key => 
    keys2.includes(key) && deepEqual(obj1[key], obj2[key])
  );
}

const a = { x: 1, y: { z: [1, 2, 3] } };
const b = { x: 1, y: { z: [1, 2, 3] } };
const c = { x: 1, y: { z: [1, 2, 4] } };

console.log(deepEqual(a, b)); // true
console.log(deepEqual(a, c)); // false

// ========================================
// JSON.stringify COMPARISON (Quick & Dirty)
// ========================================
// Only works if:
// - Key order is same
// - No undefined, functions, Symbols
// - No circular references

const simple1 = { a: 1, b: 2 };
const simple2 = { a: 1, b: 2 };

console.log(JSON.stringify(simple1) === JSON.stringify(simple2)); // true

// Gotcha: key order matters!
const ordered1 = { a: 1, b: 2 };
const ordered2 = { b: 2, a: 1 };
console.log(JSON.stringify(ordered1) === JSON.stringify(ordered2)); // false!

// Fix: sort keys
const sortedStringify = (obj) => 
  JSON.stringify(obj, Object.keys(obj).sort());

console.log(sortedStringify(ordered1) === sortedStringify(ordered2)); // true
\`\`\`

---

## OBJECT ITERATION

\`\`\`js
const person = {
  name: 'John',
  age: 30,
  city: 'NYC'
};

// Add non-enumerable property
Object.defineProperty(person, 'ssn', {
  value: '123-45-6789',
  enumerable: false
});

// Add inherited property
Object.prototype.inherited = 'from prototype';

// ========================================
// FOR...IN (Own + Inherited Enumerable)
// ========================================
console.log('for...in:');
for (const key in person) {
  console.log(key);
  // name, age, city, inherited (not ssn - non-enumerable)
}

// Filter to own properties only
console.log('for...in with hasOwn:');
for (const key in person) {
  if (Object.hasOwn(person, key)) {
    console.log(key); // name, age, city
  }
}

// ========================================
// OBJECT.KEYS (Own Enumerable Only)
// ========================================
console.log('Object.keys:', Object.keys(person));
// ['name', 'age', 'city']

for (const key of Object.keys(person)) {
  console.log(\`\${key}: \${person[key]}\`);
}

// ========================================
// OBJECT.VALUES (Own Enumerable Values)
// ========================================
console.log('Object.values:', Object.values(person));
// ['John', 30, 'NYC']

// ========================================
// OBJECT.ENTRIES (Own Enumerable [key, value])
// ========================================
console.log('Object.entries:', Object.entries(person));
// [['name', 'John'], ['age', 30], ['city', 'NYC']]

for (const [key, value] of Object.entries(person)) {
  console.log(\`\${key}: \${value}\`);
}

// ========================================
// OBJECT.GETOWNPROPERTYNAMES (Own, including non-enumerable)
// ========================================
console.log('getOwnPropertyNames:', Object.getOwnPropertyNames(person));
// ['name', 'age', 'city', 'ssn'] - includes ssn!

// ========================================
// OBJECT.GETOWNPROPERTYSYMBOLS (Own Symbol keys)
// ========================================
const sym = Symbol('id');
person[sym] = 42;

console.log('getOwnPropertySymbols:', Object.getOwnPropertySymbols(person));
// [Symbol(id)]

// ========================================
// REFLECT.OWNKEYS (All Own Keys - strings + symbols)
// ========================================
console.log('Reflect.ownKeys:', Reflect.ownKeys(person));
// ['name', 'age', 'city', 'ssn', Symbol(id)]

// ========================================
// COMPARISON TABLE
// ========================================
/*
Method                      | Own | Inherited | Enumerable | Non-enum | Symbol
----------------------------|-----|-----------|------------|----------|-------
for...in                    |   |         |          |        | 
Object.keys()               |   |         |          |        | 
Object.values()             |   |         |          |        | 
Object.entries()            |   |         |          |        | 
Object.getOwnPropertyNames()|   |         |          |        | 
Object.getOwnPropertySymbols()| |         |          |        | 
Reflect.ownKeys()           |   |         |          |        | 
*/

// Cleanup
delete Object.prototype.inherited;
\`\`\`

---

## OBJECT DESTRUCTURING

\`\`\`js
// ========================================
// BASIC DESTRUCTURING
// ========================================
const person = {
  firstName: 'John',
  lastName: 'Doe',
  age: 30,
  city: 'NYC'
};

// Extract specific properties
const { firstName, lastName } = person;
console.log(firstName); // 'John'
console.log(lastName);  // 'Doe'

// ========================================
// RENAMING (Aliases)
// ========================================
const { firstName: fName, lastName: lName } = person;
console.log(fName); // 'John'
console.log(lName); // 'Doe'

// ========================================
// DEFAULT VALUES
// ========================================
const { firstName: first, country = 'USA' } = person;
console.log(first);   // 'John'
console.log(country); // 'USA' (default, not in person)

// Default only used if undefined (not null)
const { value = 'default' } = { value: null };
console.log(value); // null (not 'default')

// ========================================
// NESTED DESTRUCTURING
// ========================================
const company = {
  name: 'TechCorp',
  address: {
    street: '123 Main St',
    city: 'New York',
    coords: {
      lat: 40.7128,
      lng: -74.0060
    }
  }
};

const { 
  name: companyName,
  address: { 
    city,
    coords: { lat, lng }
  }
} = company;

console.log(companyName); // 'TechCorp'
console.log(city);        // 'New York'
console.log(lat);         // 40.7128

// ========================================
// REST PATTERN
// ========================================
const { firstName: fname, ...rest } = person;
console.log(fname); // 'John'
console.log(rest);  // { lastName: 'Doe', age: 30, city: 'NYC' }

// Useful for removing properties
const { password, ...safeUser } = { 
  name: 'John', 
  password: 'secret123' 
};
console.log(safeUser); // { name: 'John' }

// ========================================
// FUNCTION PARAMETERS
// ========================================
function greet({ firstName, lastName, greeting = 'Hello' }) {
  return \`\${greeting}, \${firstName} \${lastName}!\`;
}

console.log(greet(person)); // 'Hello, John Doe!'
console.log(greet({ firstName: 'Jane', lastName: 'Smith', greeting: 'Hi' }));
// 'Hi, Jane Smith!'

// With default for entire object
function configure({ timeout = 1000, retries = 3 } = {}) {
  return { timeout, retries };
}

console.log(configure());              // { timeout: 1000, retries: 3 }
console.log(configure({ timeout: 5000 })); // { timeout: 5000, retries: 3 }

// ========================================
// COMPUTED PROPERTY NAMES
// ========================================
const key = 'dynamicKey';
const { [key]: value } = { dynamicKey: 'found it!' };
console.log(value); // 'found it!'

// ========================================
// COMBINING WITH ARRAYS
// ========================================
const data = {
  users: [
    { id: 1, name: 'John' },
    { id: 2, name: 'Jane' }
  ]
};

const { users: [firstUser, secondUser] } = data;
console.log(firstUser);  // { id: 1, name: 'John' }
console.log(secondUser); // { id: 2, name: 'Jane' }

const { users: [{ name: firstName1 }, { name: firstName2 }] } = data;
console.log(firstName1); // 'John'
console.log(firstName2); // 'Jane'

// ========================================
// SWAPPING VARIABLES
// ========================================
let a = 1, b = 2;
[a, b] = [b, a];
console.log(a, b); // 2, 1

// ========================================
// ASSIGNMENT TO EXISTING VARIABLES
// ========================================
let x, y;
// Need parentheses when not declaring!
({ x, y } = { x: 10, y: 20 });
console.log(x, y); // 10, 20
\`\`\`

---

## COMMON PATTERNS AND UTILITIES

### Object Utility Functions
\`\`\`js
// ========================================
// PICK - Select specific properties
// ========================================
function pick(obj, keys) {
  return keys.reduce((result, key) => {
    if (key in obj) {
      result[key] = obj[key];
    }
    return result;
  }, {});
}

const user = { id: 1, name: 'John', email: 'john@test.com', password: 'secret' };
const publicUser = pick(user, ['id', 'name', 'email']);
console.log(publicUser); // { id: 1, name: 'John', email: 'john@test.com' }

// ========================================
// OMIT - Exclude specific properties
// ========================================
function omit(obj, keys) {
  const keysToOmit = new Set(keys);
  return Object.fromEntries(
    Object.entries(obj).filter(([key]) => !keysToOmit.has(key))
  );
}

const safeUser = omit(user, ['password']);
console.log(safeUser); // { id: 1, name: 'John', email: 'john@test.com' }

// ========================================
// GET NESTED VALUE SAFELY
// ========================================
function get(obj, path, defaultValue = undefined) {
  const keys = path.replace(/[(d+)]/g, '.$1').split('.');
  let result = obj;
  
  for (const key of keys) {
    if (result == null) return defaultValue;
    result = result[key];
  }
  
  return result === undefined ? defaultValue : result;
}

const data = { 
  users: [
    { name: 'John', address: { city: 'NYC' } }
  ] 
};

console.log(get(data, 'users[0].name'));           // 'John'
console.log(get(data, 'users[0].address.city'));   // 'NYC'
console.log(get(data, 'users[0].address.zip'));    // undefined
console.log(get(data, 'users[0].address.zip', 'N/A')); // 'N/A'
console.log(get(data, 'users[5].name'));           // undefined

// ========================================
// SET NESTED VALUE
// ========================================
function set(obj, path, value) {
  const keys = path.replace(/[(d+)]/g, '.$1').split('.');
  let current = obj;
  
  for (let i = 0; i < keys.length - 1; i++) {
    const key = keys[i];
    const nextKey = keys[i + 1];
    
    if (!(key in current)) {
      // Create array or object based on next key
      current[key] = /^d+$/.test(nextKey) ? [] : {};
    }
    current = current[key];
  }
  
  current[keys[keys.length - 1]] = value;
  return obj;
}

const obj = {};
set(obj, 'a.b.c', 42);
console.log(obj); // { a: { b: { c: 42 } } }

set(obj, 'users[0].name', 'John');
console.log(obj); // { a: { b: { c: 42 } }, users: [{ name: 'John' }] }

// ========================================
// MERGE DEEP
// ========================================
function mergeDeep(target, ...sources) {
  if (!sources.length) return target;
  const source = sources.shift();
  
  if (isObject(target) && isObject(source)) {
    for (const key in source) {
      if (isObject(source[key])) {
        if (!target[key]) Object.assign(target, { [key]: {} });
        mergeDeep(target[key], source[key]);
      } else {
        Object.assign(target, { [key]: source[key] });
      }
    }
  }
  
  return mergeDeep(target, ...sources);
}

function isObject(item) {
  return item && typeof item === 'object' && !Array.isArray(item);
}

const merged = mergeDeep(
  { a: 1, b: { c: 2, d: 3 } },
  { b: { c: 20, e: 4 }, f: 5 }
);
console.log(merged); // { a: 1, b: { c: 20, d: 3, e: 4 }, f: 5 }

// ========================================
// FLATTEN OBJECT
// ========================================
function flatten(obj, prefix = '') {
  return Object.keys(obj).reduce((acc, key) => {
    const pre = prefix.length ? prefix + '.' : '';
    
    if (typeof obj[key] === 'object' && obj[key] !== null && !Array.isArray(obj[key])) {
      Object.assign(acc, flatten(obj[key], pre + key));
    } else {
      acc[pre + key] = obj[key];
    }
    
    return acc;
  }, {});
}

const nested = {
  a: 1,
  b: {
    c: 2,
    d: {
      e: 3
    }
  }
};

console.log(flatten(nested));
// { 'a': 1, 'b.c': 2, 'b.d.e': 3 }

// ========================================
// UNFLATTEN OBJECT
// ========================================
function unflatten(obj) {
  const result = {};
  
  for (const key in obj) {
    const keys = key.split('.');
    let current = result;
    
    for (let i = 0; i < keys.length - 1; i++) {
      const k = keys[i];
      current[k] = current[k] || {};
      current = current[k];
    }
    
    current[keys[keys.length - 1]] = obj[key];
  }
  
  return result;
}

const flat = { 'a': 1, 'b.c': 2, 'b.d.e': 3 };
console.log(unflatten(flat));
// { a: 1, b: { c: 2, d: { e: 3 } } }

// ========================================
// INVERT OBJECT
// ========================================
function invert(obj) {
  return Object.fromEntries(
    Object.entries(obj).map(([key, value]) => [value, key])
  );
}

const original = { a: 1, b: 2, c: 3 };
console.log(invert(original)); // { 1: 'a', 2: 'b', 3: 'c' }

// ========================================
// MAP OBJECT VALUES
// ========================================
function mapValues(obj, fn) {
  return Object.fromEntries(
    Object.entries(obj).map(([key, value]) => [key, fn(value, key, obj)])
  );
}

const prices = { apple: 1, banana: 2, orange: 3 };
const doubled = mapValues(prices, v => v * 2);
console.log(doubled); // { apple: 2, banana: 4, orange: 6 }

// ========================================
// FILTER OBJECT
// ========================================
function filterObject(obj, predicate) {
  return Object.fromEntries(
    Object.entries(obj).filter(([key, value]) => predicate(value, key, obj))
  );
}

const nums = { a: 1, b: 2, c: 3, d: 4 };
const evens = filterObject(nums, v => v % 2 === 0);
console.log(evens); // { b: 2, d: 4 }
\`\`\`

---

## COMMON INTERVIEW QUESTIONS

### Q1: What's the difference between Object.freeze() and Object.seal()?
\`\`\`js
// freeze: Cannot add, delete, OR modify properties
const frozen = Object.freeze({ a: 1 });
frozen.a = 2;    // No effect
frozen.b = 2;    // No effect
delete frozen.a; // No effect
console.log(frozen); // { a: 1 }

// seal: Cannot add or delete, but CAN modify
const sealed = Object.seal({ a: 1 });
sealed.a = 2;    // Works!
sealed.b = 2;    // No effect
delete sealed.a; // No effect
console.log(sealed); // { a: 2 }

// Both are shallow - nested objects are not affected
\`\`\`

### Q2: How do you deep clone an object?
\`\`\`js
// Simple solution (limitations with functions, undefined, dates, etc.)
const clone = JSON.parse(JSON.stringify(original));

// Modern solution (Node 17+, modern browsers)
const clone = structuredClone(original);

// Custom recursive function for full control
// (See deep clone section above)

// Library: lodash.cloneDeep
\`\`\`

### Q3: How do you check if two objects are equal?
\`\`\`js
// Reference equality
obj1 === obj2

// Shallow equality
function shallowEqual(a, b) {
  const keysA = Object.keys(a);
  const keysB = Object.keys(b);
  if (keysA.length !== keysB.length) return false;
  return keysA.every(key => a[key] === b[key]);
}

// Deep equality (recursive)
function deepEqual(a, b) {
  if (a === b) return true;
  if (typeof a !== 'object' || typeof b !== 'object') return false;
  if (a === null || b === null) return false;
  
  const keysA = Object.keys(a);
  const keysB = Object.keys(b);
  if (keysA.length !== keysB.length) return false;
  
  return keysA.every(key => deepEqual(a[key], b[key]));
}
\`\`\`

### Q4: What's the difference between Object.keys() and for...in?
\`\`\`js
// Object.keys() - own enumerable properties only
// for...in - own AND inherited enumerable properties

const parent = { inherited: true };
const child = Object.create(parent);
child.own = true;

console.log(Object.keys(child)); // ['own']

for (const key in child) {
  console.log(key); // 'own', 'inherited'
}
\`\`\`

### Q5: How do you merge objects?
\`\`\`js
// Shallow merge
const merged = { ...obj1, ...obj2 };
const merged = Object.assign({}, obj1, obj2);

// Deep merge (custom function needed)
function deepMerge(target, source) {
  for (const key in source) {
    if (source[key] instanceof Object && key in target) {
      Object.assign(source[key], deepMerge(target[key], source[key]));
    }
  }
  return { ...target, ...source };
}
\`\`\`

### Q6: How do you create an object without a prototype?
\`\`\`js
const pureDict = Object.create(null);

console.log(pureDict.toString); // undefined
console.log('toString' in pureDict); // false

// Useful for:
// - Clean hash maps
// - Avoiding prototype pollution
// - User-provided keys
\`\`\`

### Q7: What's the output?
\`\`\`js
const obj = { a: 1 };
Object.defineProperty(obj, 'b', { value: 2 });
console.log(Object.keys(obj));
// ['a'] - 'b' is non-enumerable by default with defineProperty!

const obj2 = { a: 1 };
obj2.b = 2;
console.log(Object.keys(obj2));
// ['a', 'b'] - normal assignment is enumerable

// With defineProperty, defaults are:
// writable: false, enumerable: false, configurable: false
\`\`\`

### Q8: Implement Object.assign polyfill
\`\`\`js
if (typeof Object.assign !== 'function') {
  Object.assign = function(target, ...sources) {
    if (target == null) {
      throw new TypeError('Cannot convert undefined or null to object');
    }
    
    const to = Object(target);
    
    for (const source of sources) {
      if (source != null) {
        for (const key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            to[key] = source[key];
          }
        }
      }
    }
    
    return to;
  };
}
\`\`\`

### Q9: What is optional chaining and nullish coalescing?
\`\`\`js
// Optional chaining (?.) - safe property access
const name = user?.profile?.name; // undefined if any is null/undefined

// Nullish coalescing (??) - default only for null/undefined
const value = input ?? 'default';

// Difference from ||:
0 || 'default'  // 'default' (0 is falsy)
0 ?? 'default'  // 0 (0 is not nullish)

'' || 'default' // 'default' ('' is falsy)
'' ?? 'default' // '' ('' is not nullish)

// Combining them:
const theme = user?.preferences?.theme ?? 'light';
\`\`\`

### Q10: How do property descriptors work?
\`\`\`js
// Every property has 4 attributes:
// - value: the value
// - writable: can change value
// - enumerable: shows in for...in, Object.keys
// - configurable: can delete or change attributes

Object.defineProperty(obj, 'prop', {
  value: 42,
  writable: false,     // Cannot change
  enumerable: false,   // Hidden from iteration
  configurable: false  // Cannot delete or reconfigure
});

// Accessor properties have:
// - get: getter function
// - set: setter function
// - enumerable
// - configurable
// (No value or writable - they're mutually exclusive)
\`\`\`

---

## QUICK REFERENCE CHEAT SHEET

| Method/Property | Purpose |
|-----------------|---------|
| \`Object.keys()\` | Own enumerable keys |
| \`Object.values()\` | Own enumerable values |
| \`Object.entries()\` | Own enumerable [key, value] pairs |
| \`Object.fromEntries()\` | Create object from entries |
| \`Object.assign()\` | Shallow merge/clone |
| \`Object.freeze()\` | Make immutable |
| \`Object.seal()\` | Prevent add/delete |
| \`Object.preventExtensions()\` | Prevent adding |
| \`Object.isFrozen()\` | Check if frozen |
| \`Object.isSealed()\` | Check if sealed |
| \`Object.isExtensible()\` | Check if extensible |
| \`Object.create()\` | Create with prototype |
| \`Object.getPrototypeOf()\` | Get prototype |
| \`Object.setPrototypeOf()\` | Set prototype |
| \`Object.defineProperty()\` | Define single property |
| \`Object.defineProperties()\` | Define multiple properties |
| \`Object.getOwnPropertyDescriptor()\` | Get property descriptor |
| \`Object.getOwnPropertyDescriptors()\` | Get all descriptors |
| \`Object.getOwnPropertyNames()\` | All own string keys |
| \`Object.getOwnPropertySymbols()\` | All own symbol keys |
| \`Object.hasOwn()\` | Check own property (ES2022) |
| \`in\` operator | Check own + inherited |
| \`delete\` operator | Remove property |

---

## KEY TAKEAWAYS FOR INTERVIEWS

1. **Know creation methods** - Literal, constructor, Object.create, class
2. **Understand mutability** - freeze vs seal vs preventExtensions
3. **Master property descriptors** - writable, enumerable, configurable
4. **Deep vs shallow** - Know when each matters for cloning/comparison
5. **Optional chaining & nullish coalescing** - Modern safe access patterns
6. **Iteration methods** - keys, values, entries, for...in differences
7. **Destructuring** - With defaults, renaming, rest, nested
8. **Prototype relationship** - How objects inherit from prototypes
9. **Object.create(null)** - When and why to use pure dictionaries
10. **Common utilities** - pick, omit, get, set, merge, flatten`,language:"javascript"},{id:"interview-arrays",title:"Array Methods - Complete Reference",content:`# Array Methods - Complete Interview Guide
## What is an Array?
An array is an ordered collection of elements that can hold multiple values of any type. In JavaScript, arrays are objects with special behavior - they maintain element order and have a length property that automatically updates.
## Why Arrays Matter
Arrays are fundamental data structures used constantly in JavaScript:
- Storing collections of data
- Iterating and transforming data
- Implementing stacks, queues, and other structures
- Working with API responses
- DOM manipulation (NodeLists)
## Array Method Categories
### Mutating Methods (modify original array)
push, pop, shift, unshift, splice, sort, reverse, fill, copyWithin
### Non-Mutating Methods (return new array/value)
map, filter, reduce, slice, concat, flat, flatMap, toSorted, toReversed, toSpliced
### Search Methods
find, findIndex, findLast, findLastIndex, indexOf, lastIndexOf, includes, some, every
### Iteration Methods
forEach, map, filter, reduce, reduceRight, every, some, find, findIndex
## Key Concepts
- Mutability vs Immutability
- Callback functions in array methods
- Method chaining
- Sparse arrays
- Array-like objects
---
## CREATING ARRAYS
Multiple ways to create arrays in JavaScript.
\`\`\`js
// ========================================
// ARRAY LITERAL (Most common)
// ========================================
const arr1 = [1, 2, 3, 4, 5];
const arr2 = ['a', 'b', 'c'];
const mixed = [1, 'two', { three: 3 }, [4], true];
const empty = [];
// ========================================
// ARRAY CONSTRUCTOR
// ========================================
const arr3 = new Array(1, 2, 3); // [1, 2, 3]
const arr4 = new Array(5);       // [empty  5] - Creates sparse array!
const arr5 = new Array('5');     // ['5']
// Gotcha: Single number creates empty slots
console.log(new Array(3)); // [empty  3] - NOT [3]!
console.log(new Array(3).length); // 3
// ========================================
// ARRAY.OF() - Avoids the constructor gotcha
// ========================================
console.log(Array.of(1, 2, 3)); // [1, 2, 3]
console.log(Array.of(5));       // [5] - NOT [empty  5]!
console.log(Array.of());        // []
// ========================================
// ARRAY.FROM() - Create from iterables/array-like
// ========================================
// From string
console.log(Array.from('hello')); // ['h', 'e', 'l', 'l', 'o']
// From Set
console.log(Array.from(new Set([1, 2, 2, 3]))); // [1, 2, 3]
// From Map
const map = new Map([['a', 1], ['b', 2]]);
console.log(Array.from(map)); // [['a', 1], ['b', 2]]
console.log(Array.from(map.keys())); // ['a', 'b']
console.log(Array.from(map.values())); // [1, 2]
// From array-like object (has length and indexed elements)
const arrayLike = { 0: 'a', 1: 'b', 2: 'c', length: 3 };
console.log(Array.from(arrayLike)); // ['a', 'b', 'c']
// From NodeList
const divs = document.querySelectorAll('div');
const divsArray = Array.from(divs);
// With mapping function (second argument)
console.log(Array.from([1, 2, 3], x => x * 2)); // [2, 4, 6]
// Generate sequence
console.log(Array.from({ length: 5 }, (_, i) => i)); // [0, 1, 2, 3, 4]
console.log(Array.from({ length: 5 }, (_, i) => i + 1)); // [1, 2, 3, 4, 5]
// Generate range
const range = (start, end) => 
  Array.from({ length: end - start }, (_, i) => start + i);
console.log(range(5, 10)); // [5, 6, 7, 8, 9]
// ========================================
// SPREAD OPERATOR - Clone/Combine arrays
// ========================================
const original = [1, 2, 3];
const clone = [...original]; // Shallow clone
const combined = [...[1, 2], ...[3, 4]]; // [1, 2, 3, 4]
// Convert iterable to array
const str = 'hello';
console.log([...str]); // ['h', 'e', 'l', 'l', 'o']
// ========================================
// FILL - Create array with same value
// ========================================
console.log(new Array(5).fill(0)); // [0, 0, 0, 0, 0]
console.log(new Array(3).fill('x')); // ['x', 'x', 'x']
// Gotcha with objects - same reference!
const objArray = new Array(3).fill({});
objArray[0].name = 'John';
console.log(objArray); // [{name:'John'}, {name:'John'}, {name:'John'}]
// Fix: Use Array.from
const objArrayFixed = Array.from({ length: 3 }, () => ({}));
objArrayFixed[0].name = 'John';
console.log(objArrayFixed); // [{name:'John'}, {}, {}]
\`\`\`
---
## MUTATING METHODS
These methods modify the original array. Be careful when using them in functional programming!
### push() and pop() - End of Array
\`\`\`js
// ========================================
// PUSH - Add to end, returns new length
// ========================================
const arr = [1, 2, 3];
const newLength = arr.push(4);
console.log(arr);       // [1, 2, 3, 4]
console.log(newLength); // 4
// Push multiple values
arr.push(5, 6, 7);
console.log(arr); // [1, 2, 3, 4, 5, 6, 7]
// Push array elements (spread)
arr.push(...[8, 9]);
console.log(arr); // [1, 2, 3, 4, 5, 6, 7, 8, 9]
// Common mistake: push returns length, not array
const result = [1, 2].push(3); // result is 3 (length), not [1,2,3]
// ========================================
// POP - Remove from end, returns removed element
// ========================================
const arr2 = [1, 2, 3, 4, 5];
const removed = arr2.pop();
console.log(arr2);    // [1, 2, 3, 4]
console.log(removed); // 5
// Pop from empty array
console.log([].pop()); // undefined
// Stack implementation using push/pop
class Stack {
  constructor() {
    this.items = [];
  }
  push(item) { this.items.push(item); }
  pop() { return this.items.pop(); }
  peek() { return this.items[this.items.length - 1]; }
  isEmpty() { return this.items.length === 0; }
}
\`\`\`
### shift() and unshift() - Beginning of Array
\`\`\`js
// ========================================
// UNSHIFT - Add to beginning, returns new length
// ========================================
const arr = [3, 4, 5];
const newLength = arr.unshift(1, 2);
console.log(arr);       // [1, 2, 3, 4, 5]
console.log(newLength); // 5
// ========================================
// SHIFT - Remove from beginning, returns removed element
// ========================================
const arr2 = [1, 2, 3, 4, 5];
const removed = arr2.shift();
console.log(arr2);    // [2, 3, 4, 5]
console.log(removed); // 1
// Queue implementation using push/shift
class Queue {
  constructor() {
    this.items = [];
  }
  enqueue(item) { this.items.push(item); }
  dequeue() { return this.items.shift(); }
  front() { return this.items[0]; }
  isEmpty() { return this.items.length === 0; }
}
// Performance note:
// push/pop are O(1) - very fast
// shift/unshift are O(n) - must re-index all elements
\`\`\`
### splice() - The Swiss Army Knife
Splice can add, remove, and replace elements anywhere in the array. It modifies the original array and returns removed elements.
\`\`\`js
// Syntax: splice(startIndex, deleteCount, ...itemsToInsert)
const arr = [1, 2, 3, 4, 5];
// ========================================
// REMOVE ELEMENTS
// ========================================
// Remove 2 elements starting at index 1
const removed = arr.splice(1, 2);
console.log(arr);     // [1, 4, 5]
console.log(removed); // [2, 3]
// Remove 1 element at index 0
const arr2 = ['a', 'b', 'c'];
arr2.splice(0, 1);
console.log(arr2); // ['b', 'c']
// Remove all elements from index 2
const arr3 = [1, 2, 3, 4, 5];
arr3.splice(2);
console.log(arr3); // [1, 2]
// ========================================
// INSERT ELEMENTS (deleteCount = 0)
// ========================================
const arr4 = [1, 2, 5];
arr4.splice(2, 0, 3, 4); // At index 2, delete 0, insert 3 and 4
console.log(arr4); // [1, 2, 3, 4, 5]
// Insert at beginning
const arr5 = [2, 3];
arr5.splice(0, 0, 1);
console.log(arr5); // [1, 2, 3]
// ========================================
// REPLACE ELEMENTS
// ========================================
const arr6 = [1, 2, 3, 4, 5];
arr6.splice(2, 2, 'a', 'b', 'c'); // Remove 2, insert 3
console.log(arr6); // [1, 2, 'a', 'b', 'c', 5]
// ========================================
// NEGATIVE INDICES
// ========================================
const arr7 = [1, 2, 3, 4, 5];
arr7.splice(-2, 1); // Start 2 from end, remove 1
console.log(arr7); // [1, 2, 3, 5]
// ========================================
// COMMON PATTERNS
// ========================================
// Remove element by value
function removeByValue(arr, value) {
  const index = arr.indexOf(value);
  if (index !== -1) {
    arr.splice(index, 1);
  }
  return arr;
}
// Remove all occurrences
function removeAllByValue(arr, value) {
  for (let i = arr.length - 1; i >= 0; i--) {
    if (arr[i] === value) {
      arr.splice(i, 1);
    }
  }
  return arr;
}
// Insert at specific index
function insertAt(arr, index, ...items) {
  arr.splice(index, 0, ...items);
  return arr;
}
// Move element from one index to another
function moveElement(arr, fromIndex, toIndex) {
  const [element] = arr.splice(fromIndex, 1);
  arr.splice(toIndex, 0, element);
  return arr;
}
const arr8 = ['a', 'b', 'c', 'd'];
moveElement(arr8, 0, 2);
console.log(arr8); // ['b', 'c', 'a', 'd']
\`\`\`
### sort() - Sorting Arrays
\`\`\`js
// ========================================
// DEFAULT SORT (String comparison)
// ========================================
const letters = ['d', 'b', 'a', 'c'];
letters.sort(); // MUTATES!
console.log(letters); // ['a', 'b', 'c', 'd']
// GOTCHA: Numbers are converted to strings!
const numbers = [10, 2, 33, 4, 100];
numbers.sort();
console.log(numbers); // [10, 100, 2, 33, 4] - WRONG!
// ========================================
// NUMERIC SORT (Use compare function)
// ========================================
// Compare function: (a, b) => negative | 0 | positive
// negative: a comes before b
// positive: b comes before a
// 0: order unchanged
const nums = [10, 2, 33, 4, 100];
// Ascending
nums.sort((a, b) => a - b);
console.log(nums); // [2, 4, 10, 33, 100]
// Descending
nums.sort((a, b) => b - a);
console.log(nums); // [100, 33, 10, 4, 2]
// ========================================
// SORTING OBJECTS
// ========================================
const people = [
  { name: 'John', age: 30 },
  { name: 'Alice', age: 25 },
  { name: 'Bob', age: 35 }
];
// Sort by age (ascending)
people.sort((a, b) => a.age - b.age);
console.log(people.map(p => p.name)); // ['Alice', 'John', 'Bob']
// Sort by name (alphabetical)
people.sort((a, b) => a.name.localeCompare(b.name));
console.log(people.map(p => p.name)); // ['Alice', 'Bob', 'John']
// Sort by multiple criteria
const students = [
  { name: 'John', grade: 'A', age: 20 },
  { name: 'Jane', grade: 'B', age: 20 },
  { name: 'Bob', grade: 'A', age: 22 }
];
// Sort by grade, then by age
students.sort((a, b) => {
  if (a.grade !== b.grade) {
    return a.grade.localeCompare(b.grade);
  }
  return a.age - b.age;
});
// ========================================
// STABLE SORT
// ========================================
// As of ES2019, sort() is guaranteed to be stable
// Equal elements maintain their relative order
// ========================================
// NON-MUTATING SORT (toSorted - ES2023)
// ========================================
const original = [3, 1, 4, 1, 5];
const sorted = original.toSorted((a, b) => a - b);
console.log(original); // [3, 1, 4, 1, 5] - unchanged
console.log(sorted);   // [1, 1, 3, 4, 5]
// Polyfill for older environments
const sortedCopy = [...original].sort((a, b) => a - b);
// ========================================
// COMMON SORTING PATTERNS
// ========================================
// Random shuffle (Fisher-Yates)
function shuffle(arr) {
  const result = [...arr];
  for (let i = result.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [result[i], result[j]] = [result[j], result[i]];
  }
  return result;
}
// Don't use: arr.sort(() => Math.random() - 0.5)
// It's not uniformly random!
// Sort by property with null handling
const items = [
  { date: new Date('2024-01-01') },
  { date: null },
  { date: new Date('2023-06-15') }
];
items.sort((a, b) => {
  if (!a.date && !b.date) return 0;
  if (!a.date) return 1;  // nulls last
  if (!b.date) return -1;
  return a.date - b.date;
});
\`\`\`
### reverse() and fill()
\`\`\`js
// ========================================
// REVERSE - Reverses array in place
// ========================================
const arr = [1, 2, 3, 4, 5];
arr.reverse(); // MUTATES!
console.log(arr); // [5, 4, 3, 2, 1]
// Non-mutating reverse (toReversed - ES2023)
const original = [1, 2, 3];
const reversed = original.toReversed();
console.log(original); // [1, 2, 3] - unchanged
console.log(reversed); // [3, 2, 1]
// Polyfill
const reversedCopy = [...original].reverse();
// ========================================
// FILL - Fill array with static value
// ========================================
// Syntax: fill(value, startIndex?, endIndex?)
const arr2 = [1, 2, 3, 4, 5];
arr2.fill(0);
console.log(arr2); // [0, 0, 0, 0, 0]
const arr3 = [1, 2, 3, 4, 5];
arr3.fill(0, 2, 4); // Fill from index 2 to 4 (exclusive)
console.log(arr3); // [1, 2, 0, 0, 5]
const arr4 = [1, 2, 3, 4, 5];
arr4.fill(0, 2); // Fill from index 2 to end
console.log(arr4); // [1, 2, 0, 0, 0]
// Negative indices
const arr5 = [1, 2, 3, 4, 5];
arr5.fill(0, -3, -1);
console.log(arr5); // [1, 2, 0, 0, 5]
// Create array filled with value
const zeros = new Array(5).fill(0); // [0, 0, 0, 0, 0]
// GOTCHA: Same reference for objects!
const objArr = new Array(3).fill({ x: 0 });
objArr[0].x = 1;
console.log(objArr); // [{x:1}, {x:1}, {x:1}] - All changed!
// Fix with map
const objArrFixed = new Array(3).fill(null).map(() => ({ x: 0 }));
objArrFixed[0].x = 1;
console.log(objArrFixed); // [{x:1}, {x:0}, {x:0}]
\`\`\`
### copyWithin()
\`\`\`js
// copyWithin(targetIndex, startIndex, endIndex?)
// Copies part of array to another location in same array
const arr = [1, 2, 3, 4, 5];
// Copy elements 3-4 to position 0
arr.copyWithin(0, 3, 5);
console.log(arr); // [4, 5, 3, 4, 5]
const arr2 = [1, 2, 3, 4, 5];
arr2.copyWithin(0, 3); // Copy from index 3 to end, paste at 0
console.log(arr2); // [4, 5, 3, 4, 5]
const arr3 = [1, 2, 3, 4, 5];
arr3.copyWithin(2, 0, 2); // Copy 0-1, paste at 2
console.log(arr3); // [1, 2, 1, 2, 5]
// Negative indices
const arr4 = [1, 2, 3, 4, 5];
arr4.copyWithin(-2, 0, 2);
console.log(arr4); // [1, 2, 3, 1, 2]
// Use case: Efficient array rotation
function rotateLeft(arr, positions) {
  const n = arr.length;
  positions = positions % n;
  arr.copyWithin(0, positions);
  return arr;
}
\`\`\`
---
## NON-MUTATING TRANSFORMATION METHODS
These methods return a new array without modifying the original.
### map() - Transform Each Element
\`\`\`js
// map(callback(element, index, array))
// Returns a NEW array with transformed elements
const numbers = [1, 2, 3, 4, 5];
// ========================================
// BASIC TRANSFORMATION
// ========================================
const doubled = numbers.map(n => n * 2);
console.log(doubled);  // [2, 4, 6, 8, 10]
console.log(numbers);  // [1, 2, 3, 4, 5] - unchanged
// Square each number
const squared = numbers.map(n => n * n);
console.log(squared); // [1, 4, 9, 16, 25]
// ========================================
// WITH INDEX PARAMETER
// ========================================
const indexed = numbers.map((n, i) => ({ value: n, index: i }));
console.log(indexed);
// [{value:1, index:0}, {value:2, index:1}, ...]
// Multiply by index
const byIndex = numbers.map((n, i) => n * i);
console.log(byIndex); // [0, 2, 6, 12, 20]
// ========================================
// TRANSFORMING OBJECTS
// ========================================
const users = [
  { firstName: 'John', lastName: 'Doe', age: 30 },
  { firstName: 'Jane', lastName: 'Smith', age: 25 }
];
// Extract property
const names = users.map(user => user.firstName);
console.log(names); // ['John', 'Jane']
// Create new object structure
const transformed = users.map(user => ({
  fullName: \`\${user.firstName} \${user.lastName}\`,
  isAdult: user.age >= 18
}));
// Add new property
const withId = users.map((user, i) => ({
  ...user,
  id: i + 1
}));
// ========================================
// COMMON PATTERNS
// ========================================
// Parse numbers from strings
const strings = ['1', '2', '3', '4', '5'];
const nums = strings.map(Number);
console.log(nums); // [1, 2, 3, 4, 5]
// GOTCHA with parseInt
console.log(['1', '2', '3'].map(parseInt));
// [1, NaN, NaN] - Because map passes index as second argument!
// parseInt('1', 0) = 1
// parseInt('2', 1) = NaN (base 1 is invalid)
// parseInt('3', 2) = NaN (3 is not valid in base 2)
// Fix:
console.log(['1', '2', '3'].map(s => parseInt(s, 10))); // [1, 2, 3]
console.log(['1', '2', '3'].map(Number)); // [1, 2, 3]
// Convert to different format
const dates = ['2024-01-01', '2024-06-15', '2024-12-31'];
const formatted = dates.map(d => new Date(d).toLocaleDateString());
// Normalize data
const rawData = ['  HELLO ', 'World  ', '  TEST'];
const normalized = rawData.map(s => s.trim().toLowerCase());
console.log(normalized); // ['hello', 'world', 'test']
// ========================================
// MAP VS FOREACH
// ========================================
// map returns a new array, forEach returns undefined
// Use map when you need the transformed array
// Use forEach for side effects only
const result1 = [1, 2, 3].map(n => n * 2);    // [2, 4, 6]
const result2 = [1, 2, 3].forEach(n => n * 2); // undefined
// Don't use map for side effects (it's wasteful)
// BAD:
users.map(user => console.log(user.name)); // Creates useless array
// GOOD:
users.forEach(user => console.log(user.name));
\`\`\`
### filter() - Select Elements
\`\`\`js
// filter(callback(element, index, array))
// Returns NEW array with elements that pass the test
const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
// ========================================
// BASIC FILTERING
// ========================================
// Keep even numbers
const evens = numbers.filter(n => n % 2 === 0);
console.log(evens); // [2, 4, 6, 8, 10]
// Keep numbers greater than 5
const large = numbers.filter(n => n > 5);
console.log(large); // [6, 7, 8, 9, 10]
// Keep numbers between 3 and 8
const range = numbers.filter(n => n >= 3 && n <= 8);
console.log(range); // [3, 4, 5, 6, 7, 8]
// ========================================
// FILTERING OBJECTS
// ========================================
const products = [
  { name: 'Laptop', price: 999, inStock: true },
  { name: 'Phone', price: 699, inStock: false },
  { name: 'Tablet', price: 499, inStock: true },
  { name: 'Watch', price: 299, inStock: true }
];
// Filter by property
const inStock = products.filter(p => p.inStock);
console.log(inStock.length); // 3
// Filter by multiple conditions
const affordable = products.filter(p => p.price < 500 && p.inStock);
console.log(affordable.map(p => p.name)); // ['Tablet', 'Watch']
// ========================================
// REMOVING VALUES
// ========================================
// Remove falsy values
const mixed = [0, 1, '', 'hello', null, undefined, false, true, NaN];
const truthy = mixed.filter(Boolean);
console.log(truthy); // [1, 'hello', true]
// How it works:
// Boolean(0) = false, Boolean(1) = true, etc.
// Remove specific value
const withoutThree = numbers.filter(n => n !== 3);
console.log(withoutThree); // [1, 2, 4, 5, 6, 7, 8, 9, 10]
// Remove nulls and undefined
const data = [1, null, 2, undefined, 3, null];
const clean = data.filter(x => x != null); // Uses loose equality
console.log(clean); // [1, 2, 3]
// Or strict:
const cleanStrict = data.filter(x => x !== null && x !== undefined);
// ========================================
// UNIQUE VALUES
// ========================================
const duplicates = [1, 2, 2, 3, 3, 3, 4];
const unique = duplicates.filter((value, index, arr) => 
  arr.indexOf(value) === index
);
console.log(unique); // [1, 2, 3, 4]
// Better: Use Set
const uniqueSet = [...new Set(duplicates)];
console.log(uniqueSet); // [1, 2, 3, 4]
// Unique objects by property
const users = [
  { id: 1, name: 'John' },
  { id: 2, name: 'Jane' },
  { id: 1, name: 'John' } // Duplicate
];
const uniqueUsers = users.filter((user, index, arr) =>
  arr.findIndex(u => u.id === user.id) === index
);
// ========================================
// FILTER WITH INDEX
// ========================================
// Keep every other element
const everyOther = numbers.filter((_, i) => i % 2 === 0);
console.log(everyOther); // [1, 3, 5, 7, 9]
// Keep first 5 elements (prefer slice though)
const firstFive = numbers.filter((_, i) => i < 5);
// ========================================
// SEARCH/FILTER PATTERNS
// ========================================
// Search by partial match
const names = ['John', 'Jane', 'Bob', 'Alice', 'Johnny'];
const searchTerm = 'jo';
const matches = names.filter(name => 
  name.toLowerCase().includes(searchTerm.toLowerCase())
);
console.log(matches); // ['John', 'Johnny']
// Filter by array of allowed values
const allowedIds = [1, 3, 5];
const users2 = [
  { id: 1, name: 'A' },
  { id: 2, name: 'B' },
  { id: 3, name: 'C' }
];
const filtered = users2.filter(u => allowedIds.includes(u.id));
// Exclude by array of values
const excluded = users2.filter(u => !allowedIds.includes(u.id));
\`\`\`
### reduce() - Accumulate to Single Value
Reduce is the most powerful array method. It can implement map, filter, and more.
\`\`\`js
// reduce(callback(accumulator, currentValue, index, array), initialValue)
// Returns a single accumulated value
const numbers = [1, 2, 3, 4, 5];
// ========================================
// BASIC REDUCTION - Sum
// ========================================
const sum = numbers.reduce((acc, curr) => acc + curr, 0);
console.log(sum); // 15
// How it works:
// Initial: acc = 0
// Step 1: acc = 0 + 1 = 1
// Step 2: acc = 1 + 2 = 3
// Step 3: acc = 3 + 3 = 6
// Step 4: acc = 6 + 4 = 10
// Step 5: acc = 10 + 5 = 15
// Without initial value (uses first element)
const sum2 = numbers.reduce((acc, curr) => acc + curr);
console.log(sum2); // 15
// IMPORTANT: Always provide initial value!
// Empty array without initial value throws error
// [].reduce((a, b) => a + b); // TypeError!
// [].reduce((a, b) => a + b, 0); // 0 - Safe
// ========================================
// COMMON REDUCTIONS
// ========================================
// Product
const product = numbers.reduce((acc, curr) => acc * curr, 1);
console.log(product); // 120
// Maximum
const max = numbers.reduce((acc, curr) => Math.max(acc, curr), -Infinity);
console.log(max); // 5
// Or simpler:
const max2 = numbers.reduce((a, b) => a > b ? a : b);
// Minimum
const min = numbers.reduce((a, b) => a < b ? a : b);
// Average
const avg = numbers.reduce((acc, curr, i, arr) => {
  acc += curr;
  if (i === arr.length - 1) {
    return acc / arr.length;
  }
  return acc;
}, 0);
// ========================================
// COUNT OCCURRENCES
// ========================================
const letters = ['a', 'b', 'a', 'c', 'b', 'a', 'd'];
const counts = letters.reduce((acc, letter) => {
  acc[letter] = (acc[letter] || 0) + 1;
  return acc;
}, {});
console.log(counts); // { a: 3, b: 2, c: 1, d: 1 }
// Count by property
const orders = [
  { status: 'pending' },
  { status: 'shipped' },
  { status: 'pending' },
  { status: 'delivered' }
];
const statusCounts = orders.reduce((acc, order) => {
  acc[order.status] = (acc[order.status] || 0) + 1;
  return acc;
}, {});
console.log(statusCounts); // { pending: 2, shipped: 1, delivered: 1 }
// ========================================
// GROUP BY
// ========================================
const people = [
  { name: 'John', age: 25, city: 'NYC' },
  { name: 'Jane', age: 30, city: 'LA' },
  { name: 'Bob', age: 25, city: 'NYC' },
  { name: 'Alice', age: 30, city: 'LA' }
];
// Group by age
const byAge = people.reduce((acc, person) => {
  const key = person.age;
  acc[key] = acc[key] || [];
  acc[key].push(person);
  return acc;
}, {});
console.log(byAge);
// { 25: [{name:'John'...}, {name:'Bob'...}], 30: [...] }
// Generic groupBy function
function groupBy(arr, keyFn) {
  return arr.reduce((acc, item) => {
    const key = typeof keyFn === 'function' ? keyFn(item) : item[keyFn];
    acc[key] = acc[key] || [];
    acc[key].push(item);
    return acc;
  }, {});
}
const byCity = groupBy(people, 'city');
const byDecade = groupBy(people, p => Math.floor(p.age / 10) * 10);
// Note: Object.groupBy() is now available in modern browsers (ES2024)
const grouped = Object.groupBy(people, p => p.city);
// ========================================
// FLATTEN ARRAY
// ========================================
const nested = [[1, 2], [3, 4], [5, 6]];
const flat = nested.reduce((acc, curr) => acc.concat(curr), []);
console.log(flat); // [1, 2, 3, 4, 5, 6]
// Or better: use flat()
const flat2 = nested.flat();
// ========================================
// IMPLEMENT MAP WITH REDUCE
// ========================================
const mapWithReduce = (arr, fn) => 
  arr.reduce((acc, curr, i) => {
    acc.push(fn(curr, i, arr));
    return acc;
  }, []);
console.log(mapWithReduce([1, 2, 3], x => x * 2)); // [2, 4, 6]
// ========================================
// IMPLEMENT FILTER WITH REDUCE
// ========================================
const filterWithReduce = (arr, fn) =>
  arr.reduce((acc, curr, i) => {
    if (fn(curr, i, arr)) {
      acc.push(curr);
    }
    return acc;
  }, []);
console.log(filterWithReduce([1, 2, 3, 4], x => x % 2 === 0)); // [2, 4]
// ========================================
// CHAINING OPERATIONS
// ========================================
// Instead of multiple passes:
const data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
// Multiple passes (less efficient)
const result1 = data
  .filter(n => n % 2 === 0)
  .map(n => n * 2)
  .reduce((sum, n) => sum + n, 0);
// Single pass with reduce (more efficient for large arrays)
const result2 = data.reduce((acc, n) => {
  if (n % 2 === 0) {
    acc += n * 2;
  }
  return acc;
}, 0);
// ========================================
// REDUCE RIGHT (Right to Left)
// ========================================
const arr = ['a', 'b', 'c'];
const leftToRight = arr.reduce((acc, curr) => acc + curr, '');
console.log(leftToRight); // 'abc'
const rightToLeft = arr.reduceRight((acc, curr) => acc + curr, '');
console.log(rightToLeft); // 'cba'
// Use case: Function composition (right to left)
const compose = (...fns) => x => 
  fns.reduceRight((acc, fn) => fn(acc), x);
// ========================================
// PIPELINE WITH REDUCE
// ========================================
const pipeline = (...fns) => initial =>
  fns.reduce((acc, fn) => fn(acc), initial);
const process = pipeline(
  x => x + 1,
  x => x * 2,
  x => x - 5
);
console.log(process(5)); // 7: ((5+1)*2)-5
\`\`\`
### slice() - Extract Portion
\`\`\`js
// slice(startIndex?, endIndex?)
// Returns NEW array with portion of original
// Does NOT mutate original
const arr = [1, 2, 3, 4, 5];
// ========================================
// BASIC SLICING
// ========================================
console.log(arr.slice(1, 3));  // [2, 3] - from 1 to 3 (exclusive)
console.log(arr.slice(2));     // [3, 4, 5] - from 2 to end
console.log(arr.slice());      // [1, 2, 3, 4, 5] - shallow copy!
// ========================================
// NEGATIVE INDICES
// ========================================
console.log(arr.slice(-2));    // [4, 5] - last 2 elements
console.log(arr.slice(-3, -1)); // [3, 4] - from 3rd last to 2nd last
console.log(arr.slice(1, -1)); // [2, 3, 4] - from 1 to second-to-last
// ========================================
// COMMON PATTERNS
// ========================================
// Get first N elements
const firstThree = arr.slice(0, 3); // [1, 2, 3]
// Get last N elements
const lastTwo = arr.slice(-2); // [4, 5]
// Remove first element (immutably)
const withoutFirst = arr.slice(1); // [2, 3, 4, 5]
// Remove last element (immutably)
const withoutLast = arr.slice(0, -1); // [1, 2, 3, 4]
// Shallow clone
const clone = arr.slice();
const clone2 = [...arr]; // Equivalent
// ========================================
// SLICE VS SPLICE
// ========================================
// slice: Non-mutating, returns extracted portion
// splice: Mutating, modifies original, returns removed elements
const test1 = [1, 2, 3, 4, 5];
const sliced = test1.slice(1, 3);
console.log(test1);   // [1, 2, 3, 4, 5] - unchanged
console.log(sliced);  // [2, 3]
const test2 = [1, 2, 3, 4, 5];
const spliced = test2.splice(1, 2);
console.log(test2);   // [1, 4, 5] - modified!
console.log(spliced); // [2, 3]
// ========================================
// TOOSPLICED (ES2023) - Non-mutating splice
// ========================================
const original = [1, 2, 3, 4, 5];
const modified = original.toSpliced(1, 2, 'a', 'b');
console.log(original); // [1, 2, 3, 4, 5] - unchanged
console.log(modified); // [1, 'a', 'b', 4, 5]
\`\`\`
### concat() and flat()
\`\`\`js
// ========================================
// CONCAT - Merge arrays
// ========================================
const arr1 = [1, 2];
const arr2 = [3, 4];
const arr3 = [5, 6];
// Concat two arrays
const merged = arr1.concat(arr2);
console.log(merged); // [1, 2, 3, 4]
// Concat multiple arrays
const all = arr1.concat(arr2, arr3);
console.log(all); // [1, 2, 3, 4, 5, 6]
// Concat with values
const withValues = arr1.concat(3, 4, [5, 6]);
console.log(withValues); // [1, 2, 3, 4, 5, 6]
// Original arrays unchanged
console.log(arr1); // [1, 2]
// Spread operator alternative (often preferred)
const spreadMerge = [...arr1, ...arr2, ...arr3];
console.log(spreadMerge); // [1, 2, 3, 4, 5, 6]
// ========================================
// FLAT - Flatten nested arrays
// ========================================
const nested = [1, [2, 3], [4, [5, 6]]];
// Flatten 1 level (default)
console.log(nested.flat()); // [1, 2, 3, 4, [5, 6]]
// Flatten 2 levels
console.log(nested.flat(2)); // [1, 2, 3, 4, 5, 6]
// Flatten all levels
const deepNested = [1, [2, [3, [4, [5]]]]];
console.log(deepNested.flat(Infinity)); // [1, 2, 3, 4, 5]
// Flat also removes empty slots
const sparse = [1, , 3, , 5];
console.log(sparse.flat()); // [1, 3, 5]
// ========================================
// FLATMAP - Map then flat(1)
// ========================================
// More efficient than .map().flat()
const sentences = ['Hello World', 'How are you'];
const words = sentences.flatMap(s => s.split(' '));
console.log(words); // ['Hello', 'World', 'How', 'are', 'you']
// Map would give: [['Hello', 'World'], ['How', 'are', 'you']]
// flatMap flattens one level
// Duplicate elements
const nums = [1, 2, 3];
const duplicated = nums.flatMap(n => [n, n]);
console.log(duplicated); // [1, 1, 2, 2, 3, 3]
// Filter and map in one
const data = [1, 2, 3, 4, 5];
const evenDoubled = data.flatMap(n => n % 2 === 0 ? [n * 2] : []);
console.log(evenDoubled); // [4, 8]
// Equivalent to:
const evenDoubled2 = data.filter(n => n % 2 === 0).map(n => n * 2);
\`\`\`
---
## SEARCH AND FIND METHODS
### find() and findIndex()
\`\`\`js
// find(callback) - Returns first element that matches
// findIndex(callback) - Returns index of first element that matches
const users = [
  { id: 1, name: 'John', role: 'admin' },
  { id: 2, name: 'Jane', role: 'user' },
  { id: 3, name: 'Bob', role: 'user' }
];
// ========================================
// FIND - Returns element or undefined
// ========================================
const admin = users.find(u => u.role === 'admin');
console.log(admin); // { id: 1, name: 'John', role: 'admin' }
const manager = users.find(u => u.role === 'manager');
console.log(manager); // undefined
// Find by id
const user = users.find(u => u.id === 2);
console.log(user.name); // 'Jane'
// ========================================
// FINDINDEX - Returns index or -1
// ========================================
const adminIndex = users.findIndex(u => u.role === 'admin');
console.log(adminIndex); // 0
const managerIndex = users.findIndex(u => u.role === 'manager');
console.log(managerIndex); // -1
// ========================================
// FINDLAST & FINDLASTINDEX (ES2023)
// ========================================
const numbers = [1, 2, 3, 4, 5, 4, 3, 2, 1];
const lastGreaterThan3 = numbers.findLast(n => n > 3);
console.log(lastGreaterThan3); // 4
const lastGreaterThan3Index = numbers.findLastIndex(n => n > 3);
console.log(lastGreaterThan3Index); // 5
// ========================================
// FIND VS FILTER
// ========================================
// find: Returns first match (single element)
// filter: Returns all matches (array)
const allUsers = users.filter(u => u.role === 'user');
console.log(allUsers.length); // 2
const firstUser = users.find(u => u.role === 'user');
console.log(firstUser.name); // 'Jane'
\`\`\`
### indexOf(), lastIndexOf(), includes()
\`\`\`js
const arr = [1, 2, 3, 4, 5, 3, 2, 1];
// ========================================
// INDEXOF - First occurrence
// ========================================
console.log(arr.indexOf(3));  // 2
console.log(arr.indexOf(10)); // -1 (not found)
// Start from index
console.log(arr.indexOf(3, 3)); // 5 (search from index 3)
// ========================================
// LASTINDEXOF - Last occurrence
// ========================================
console.log(arr.lastIndexOf(3)); // 5
console.log(arr.lastIndexOf(2)); // 6
// ========================================
// INCLUDES - Check existence (ES7)
// ========================================
console.log(arr.includes(3));  // true
console.log(arr.includes(10)); // false
// Start from index
console.log(arr.includes(3, 6)); // false (search from index 6)
// ========================================
// NaN HANDLING
// ========================================
const withNaN = [1, 2, NaN, 4];
// indexOf doesn't work with NaN
console.log(withNaN.indexOf(NaN)); // -1 (wrong!)
// includes handles NaN correctly
console.log(withNaN.includes(NaN)); // true
// ========================================
// CHECKING FOR ELEMENT
// ========================================
// Old way
if (arr.indexOf(3) !== -1) {
  console.log('Found!');
}
// Modern way (cleaner)
if (arr.includes(3)) {
  console.log('Found!');
}
// ========================================
// WITH OBJECTS
// ========================================
const users = [{ id: 1 }, { id: 2 }];
// indexOf/includes check reference, not value!
console.log(users.indexOf({ id: 1 })); // -1 (different reference)
console.log(users.includes({ id: 1 })); // false
// Use find instead for objects
const found = users.find(u => u.id === 1);
console.log(found); // { id: 1 }
\`\`\`
### some() and every()
\`\`\`js
// some() - At least ONE element passes test
// every() - ALL elements pass test
const numbers = [1, 2, 3, 4, 5];
// ========================================
// SOME - Returns true if ANY element matches
// ========================================
console.log(numbers.some(n => n > 3));  // true
console.log(numbers.some(n => n > 10)); // false
// Check if any user is admin
const users = [
  { name: 'John', role: 'user' },
  { name: 'Jane', role: 'admin' }
];
const hasAdmin = users.some(u => u.role === 'admin');
console.log(hasAdmin); // true
// Empty array
console.log([].some(n => n > 0)); // false (vacuous truth)
// ========================================
// EVERY - Returns true if ALL elements match
// ========================================
console.log(numbers.every(n => n > 0)); // true
console.log(numbers.every(n => n > 3)); // false
// Check if all items in stock
const products = [
  { name: 'A', inStock: true },
  { name: 'B', inStock: true },
  { name: 'C', inStock: false }
];
const allInStock = products.every(p => p.inStock);
console.log(allInStock); // false
// Empty array
console.log([].every(n => n > 100)); // true (vacuous truth)
// ========================================
// SHORT-CIRCUIT BEHAVIOR
// ========================================
// some: Stops when first true found
// every: Stops when first false found
const data = [1, 2, 3, 4, 5];
data.some(n => {
  console.log('Checking:', n);
  return n === 3;
});
// Logs: Checking: 1, Checking: 2, Checking: 3 (stops early)
data.every(n => {
  console.log('Checking:', n);
  return n < 3;
});
// Logs: Checking: 1, Checking: 2, Checking: 3 (stops at first fail)
// ========================================
// PRACTICAL PATTERNS
// ========================================
// Validation
const isValidForm = [
  { field: 'name', value: 'John' },
  { field: 'email', value: 'john@example.com' }
].every(f => f.value.length > 0);
// Check array intersection
const arr1 = [1, 2, 3];
const arr2 = [3, 4, 5];
const hasCommon = arr1.some(x => arr2.includes(x));
console.log(hasCommon); // true
// Check if array is subset
const isSubset = arr1.every(x => [1, 2, 3, 4, 5].includes(x));
console.log(isSubset); // true
\`\`\`
---
## ITERATION METHODS
### forEach()
\`\`\`js
// forEach(callback(element, index, array))
// Executes callback for each element
// Returns undefined - can't chain!
const numbers = [1, 2, 3, 4, 5];
// ========================================
// BASIC USAGE
// ========================================
numbers.forEach(n => console.log(n));
// 1, 2, 3, 4, 5
// With index
numbers.forEach((n, i) => console.log(\`\${i}: \${n}\`));
// 0: 1, 1: 2, 2: 3, 3: 4, 4: 5
// ========================================
// SIDE EFFECTS
// ========================================
// forEach is for side effects (logging, updating external state)
let sum = 0;
numbers.forEach(n => sum += n);
console.log(sum); // 15
// Update DOM
document.querySelectorAll('.item').forEach((el, i) => {
  el.textContent = \`Item \${i + 1}\`;
});
// ========================================
// CANNOT BREAK OUT OF FOREACH
// ========================================
// return only skips current iteration, doesn't break
numbers.forEach(n => {
  if (n === 3) return; // Doesn't stop loop!
  console.log(n);
}); // 1, 2, 4, 5
// To break early, use:
// 1. for...of with break
for (const n of numbers) {
  if (n === 3) break;
  console.log(n);
} // 1, 2
// 2. some() (returns true to stop)
numbers.some(n => {
  if (n === 3) return true; // Stops iteration
  console.log(n);
  return false;
}); // 1, 2
// 3. Regular for loop
for (let i = 0; i < numbers.length; i++) {
  if (numbers[i] === 3) break;
  console.log(numbers[i]);
}
// ========================================
// ASYNC GOTCHA
// ========================================
// forEach doesn't wait for async callbacks!
// WRONG:
async function processItems(items) {
  items.forEach(async (item) => {
    await processItem(item); // Doesn't wait!
  });
  console.log('Done'); // Runs immediately!
}
// RIGHT: Use for...of
async function processItemsCorrect(items) {
  for (const item of items) {
    await processItem(item);
  }
  console.log('Done'); // Runs after all processed
}
// Or use Promise.all for parallel:
async function processItemsParallel(items) {
  await Promise.all(items.map(item => processItem(item)));
  console.log('Done');
}
// ========================================
// THISARG PARAMETER
// ========================================
const obj = {
  multiplier: 2,
  multiply(arr) {
    const result = [];
    arr.forEach(function(n) {
      result.push(n * this.multiplier);
    }, this); // Pass 'this' as second argument
    return result;
  }
};
console.log(obj.multiply([1, 2, 3])); // [2, 4, 6]
// Or just use arrow function (inherits this)
const obj2 = {
  multiplier: 2,
  multiply(arr) {
    const result = [];
    arr.forEach(n => {
      result.push(n * this.multiplier);
    });
    return result;
  }
};
\`\`\`
### entries(), keys(), values()
\`\`\`js
const arr = ['a', 'b', 'c'];
// ========================================
// ENTRIES - [index, value] pairs
// ========================================
const entries = arr.entries();
console.log([...entries]); // [[0,'a'], [1,'b'], [2,'c']]
for (const [index, value] of arr.entries()) {
  console.log(\`\${index}: \${value}\`);
}
// 0: a
// 1: b
// 2: c
// ========================================
// KEYS - Indices
// ========================================
const keys = arr.keys();
console.log([...keys]); // [0, 1, 2]
for (const index of arr.keys()) {
  console.log(index);
} // 0, 1, 2
// ========================================
// VALUES - Values (default iterator)
// ========================================
const values = arr.values();
console.log([...values]); // ['a', 'b', 'c']
for (const value of arr.values()) {
  console.log(value);
} // a, b, c
// Same as:
for (const value of arr) {
  console.log(value);
}
\`\`\`
---
## STATIC ARRAY METHODS
\`\`\`js
// ========================================
// ARRAY.ISARRAY()
// ========================================
console.log(Array.isArray([1, 2, 3]));    // true
console.log(Array.isArray('hello'));       // false
console.log(Array.isArray({ length: 3 })); // false
console.log(Array.isArray(new Array()));   // true
// Why not use instanceof?
// instanceof fails across different JavaScript contexts (iframes)
const iframe = document.createElement('iframe');
document.body.appendChild(iframe);
const iframeArray = iframe.contentWindow.Array;
const arr = new iframeArray(1, 2, 3);
console.log(arr instanceof Array);  // false (different Array constructor)
console.log(Array.isArray(arr));    // true (works correctly)
// ========================================
// ARRAY.FROM() - See earlier section
// ========================================
// ========================================
// ARRAY.OF() - See earlier section
// ========================================
\`\`\`
---
## IMPLEMENT ARRAY METHODS FROM SCRATCH
Understanding the internals helps in interviews and deepens understanding.
### Implement map()
\`\`\`js
Array.prototype.myMap = function(callback, thisArg) {
  // Handle null/undefined 'this'
  if (this == null) {
    throw new TypeError('Cannot read properties of null/undefined');
  }
  // Ensure callback is a function
  if (typeof callback !== 'function') {
    throw new TypeError(callback + ' is not a function');
  }
  const result = [];
  const arr = Object(this); // Convert to object
  const len = arr.length >>> 0; // Ensure non-negative integer
  for (let i = 0; i < len; i++) {
    // Check if index exists (handles sparse arrays)
    if (i in arr) {
      result[i] = callback.call(thisArg, arr[i], i, arr);
    }
  }
  return result;
};
// Test
console.log([1, 2, 3].myMap(x => x * 2)); // [2, 4, 6]
console.log([1, , 3].myMap(x => x * 2)); // [2, empty, 6] - sparse
\`\`\`
### Implement filter()
\`\`\`js
Array.prototype.myFilter = function(callback, thisArg) {
  if (this == null) {
    throw new TypeError('Cannot read properties of null/undefined');
  }
  if (typeof callback !== 'function') {
    throw new TypeError(callback + ' is not a function');
  }
  const result = [];
  const arr = Object(this);
  const len = arr.length >>> 0;
  for (let i = 0; i < len; i++) {
    if (i in arr) {
      const value = arr[i];
      // Only push if callback returns truthy
      if (callback.call(thisArg, value, i, arr)) {
        result.push(value);
      }
    }
  }
  return result;
};
// Test
console.log([1, 2, 3, 4, 5].myFilter(x => x % 2 === 0)); // [2, 4]
\`\`\`
### Implement reduce()
\`\`\`js
Array.prototype.myReduce = function(callback, initialValue) {
  if (this == null) {
    throw new TypeError('Cannot read properties of null/undefined');
  }
  if (typeof callback !== 'function') {
    throw new TypeError(callback + ' is not a function');
  }
  const arr = Object(this);
  const len = arr.length >>> 0;
  let accumulator;
  let startIndex = 0;
  // Check if initialValue provided
  if (arguments.length >= 2) {
    accumulator = initialValue;
  } else {
    // Find first existing index for initial value
    let found = false;
    while (startIndex < len && !found) {
      if (startIndex in arr) {
        accumulator = arr[startIndex];
        found = true;
      }
      startIndex++;
    }
    if (!found) {
      throw new TypeError('Reduce of empty array with no initial value');
    }
  }
  for (let i = startIndex; i < len; i++) {
    if (i in arr) {
      accumulator = callback(accumulator, arr[i], i, arr);
    }
  }
  return accumulator;
};
// Test
console.log([1, 2, 3, 4].myReduce((a, b) => a + b, 0)); // 10
console.log([1, 2, 3, 4].myReduce((a, b) => a + b));    // 10
\`\`\`
### Implement find()
\`\`\`js
Array.prototype.myFind = function(callback, thisArg) {
  if (this == null) {
    throw new TypeError('Cannot read properties of null/undefined');
  }
  if (typeof callback !== 'function') {
    throw new TypeError(callback + ' is not a function');
  }
  const arr = Object(this);
  const len = arr.length >>> 0;
  for (let i = 0; i < len; i++) {
    if (i in arr) {
      const value = arr[i];
      if (callback.call(thisArg, value, i, arr)) {
        return value; // Return first matching element
      }
    }
  }
  return undefined; // Not found
};
// Test
console.log([1, 2, 3, 4].myFind(x => x > 2)); // 3
console.log([1, 2, 3, 4].myFind(x => x > 10)); // undefined
\`\`\`
### Implement flat()
\`\`\`js
Array.prototype.myFlat = function(depth = 1) {
  if (this == null) {
    throw new TypeError('Cannot read properties of null/undefined');
  }
  const arr = Object(this);
  const result = [];
  function flatten(arr, d) {
    for (let i = 0; i < arr.length; i++) {
      if (i in arr) {
        const value = arr[i];
        if (Array.isArray(value) && d > 0) {
          flatten(value, d - 1);
        } else {
          result.push(value);
        }
      }
    }
  }
  flatten(arr, depth);
  return result;
};
// Test
console.log([1, [2, [3, [4]]]].myFlat(1)); // [1, 2, [3, [4]]]
console.log([1, [2, [3, [4]]]].myFlat(2)); // [1, 2, 3, [4]]
console.log([1, [2, [3, [4]]]].myFlat(Infinity)); // [1, 2, 3, 4]
\`\`\`
### Implement some() and every()
\`\`\`js
Array.prototype.mySome = function(callback, thisArg) {
  if (this == null) throw new TypeError();
  if (typeof callback !== 'function') throw new TypeError();
  const arr = Object(this);
  const len = arr.length >>> 0;
  for (let i = 0; i < len; i++) {
    if (i in arr && callback.call(thisArg, arr[i], i, arr)) {
      return true; // Short-circuit on first true
    }
  }
  return false;
};
Array.prototype.myEvery = function(callback, thisArg) {
  if (this == null) throw new TypeError();
  if (typeof callback !== 'function') throw new TypeError();
  const arr = Object(this);
  const len = arr.length >>> 0;
  for (let i = 0; i < len; i++) {
    if (i in arr && !callback.call(thisArg, arr[i], i, arr)) {
      return false; // Short-circuit on first false
    }
  }
  return true;
};
// Test
console.log([1, 2, 3].mySome(x => x > 2));  // true
console.log([1, 2, 3].myEvery(x => x > 0)); // true
\`\`\`
---
## COMMON INTERVIEW QUESTIONS
### Q1: What's the difference between map() and forEach()?
\`\`\`js
// forEach:
// - Returns undefined
// - Used for side effects
// - Cannot chain
// map:
// - Returns new array
// - Used for transformation
// - Can chain
const arr = [1, 2, 3];
const forEachResult = arr.forEach(x => x * 2);
console.log(forEachResult); // undefined
const mapResult = arr.map(x => x * 2);
console.log(mapResult); // [2, 4, 6]
// Chaining
arr.map(x => x * 2).filter(x => x > 2); // Works
// arr.forEach(x => x * 2).filter(x => x > 2); // Error!
\`\`\`
### Q2: What's the difference between slice() and splice()?
\`\`\`js
// slice: NON-MUTATING, returns portion
// splice: MUTATING, modifies original
const arr1 = [1, 2, 3, 4, 5];
const sliced = arr1.slice(1, 3);
console.log(arr1);   // [1, 2, 3, 4, 5] - unchanged
console.log(sliced); // [2, 3]
const arr2 = [1, 2, 3, 4, 5];
const spliced = arr2.splice(1, 2);
console.log(arr2);   // [1, 4, 5] - modified!
console.log(spliced); // [2, 3] - removed elements
\`\`\`
### Q3: How do you remove duplicates from an array?
\`\`\`js
const arr = [1, 2, 2, 3, 3, 3, 4];
// Method 1: Set (most common)
const unique1 = [...new Set(arr)];
console.log(unique1); // [1, 2, 3, 4]
// Method 2: filter with indexOf
const unique2 = arr.filter((value, index) => 
  arr.indexOf(value) === index
);
// Method 3: reduce
const unique3 = arr.reduce((acc, value) => {
  if (!acc.includes(value)) acc.push(value);
  return acc;
}, []);
// For objects - use Map or custom logic
const users = [
  { id: 1, name: 'John' },
  { id: 2, name: 'Jane' },
  { id: 1, name: 'John' }
];
const uniqueUsers = [...new Map(users.map(u => [u.id, u])).values()];
\`\`\`
### Q4: How do you flatten an array?
\`\`\`js
const nested = [1, [2, [3, [4]]]];
// Method 1: flat()
console.log(nested.flat(Infinity)); // [1, 2, 3, 4]
// Method 2: reduce + recursion
function flatten(arr) {
  return arr.reduce((acc, val) => {
    return acc.concat(Array.isArray(val) ? flatten(val) : val);
  }, []);
}
// Method 3: Stack-based (no recursion)
function flattenIterative(arr) {
  const stack = [...arr];
  const result = [];
  while (stack.length) {
    const next = stack.pop();
    if (Array.isArray(next)) {
      stack.push(...next);
    } else {
      result.unshift(next);
    }
  }
  return result;
}
\`\`\`
### Q5: Find the intersection of two arrays
\`\`\`js
const arr1 = [1, 2, 3, 4, 5];
const arr2 = [3, 4, 5, 6, 7];
// Method 1: filter + includes
const intersection = arr1.filter(x => arr2.includes(x));
console.log(intersection); // [3, 4, 5]
// Method 2: Set (more efficient for large arrays)
const set2 = new Set(arr2);
const intersection2 = arr1.filter(x => set2.has(x));
// Find union
const union = [...new Set([...arr1, ...arr2])];
console.log(union); // [1, 2, 3, 4, 5, 6, 7]
// Find difference (in arr1 but not in arr2)
const difference = arr1.filter(x => !arr2.includes(x));
console.log(difference); // [1, 2]
\`\`\`
### Q6: Find the most frequent element
\`\`\`js
const arr = ['a', 'b', 'a', 'c', 'a', 'b'];
function mostFrequent(arr) {
  const counts = arr.reduce((acc, val) => {
    acc[val] = (acc[val] || 0) + 1;
    return acc;
  }, {});
  return Object.entries(counts).reduce((a, b) => 
    b[1] > a[1] ? b : a
  )[0];
}
console.log(mostFrequent(arr)); // 'a'
\`\`\`
### Q7: Chunk an array into smaller arrays
\`\`\`js
function chunk(arr, size) {
  const result = [];
  for (let i = 0; i < arr.length; i += size) {
    result.push(arr.slice(i, i + size));
  }
  return result;
}
console.log(chunk([1, 2, 3, 4, 5], 2));
// [[1, 2], [3, 4], [5]]
// Using reduce
function chunkReduce(arr, size) {
  return arr.reduce((acc, _, i) => {
    if (i % size === 0) {
      acc.push(arr.slice(i, i + size));
    }
    return acc;
  }, []);
}
\`\`\`
### Q8: Rotate an array
\`\`\`js
// Rotate right by k positions
function rotateRight(arr, k) {
  const n = arr.length;
  k = k % n; // Handle k > n
  return [...arr.slice(-k), ...arr.slice(0, -k)];
}
console.log(rotateRight([1, 2, 3, 4, 5], 2)); // [4, 5, 1, 2, 3]
// Rotate left by k positions
function rotateLeft(arr, k) {
  const n = arr.length;
  k = k % n;
  return [...arr.slice(k), ...arr.slice(0, k)];
}
console.log(rotateLeft([1, 2, 3, 4, 5], 2)); // [3, 4, 5, 1, 2]
\`\`\`
### Q9: What's the output?
\`\`\`js
// Question 1
console.log(['1', '2', '3'].map(parseInt));
// Answer: [1, NaN, NaN]
// Why: map passes (value, index), parseInt uses index as radix
// parseInt('1', 0) = 1, parseInt('2', 1) = NaN, parseInt('3', 2) = NaN
// Question 2
const arr = [1, 2, 3];
arr[10] = 11;
console.log(arr.length); // 11
console.log(arr.filter(x => x)); // [1, 2, 3, 11] - empty slots skipped
// Question 3
console.log([1, 2, 3].fill(4, 1, 2)); // [1, 4, 3]
// Question 4
console.log([...'hello']); // ['h', 'e', 'l', 'l', 'o']
// Question 5
const a = [1, 2, 3];
const b = a;
b.push(4);
console.log(a); // [1, 2, 3, 4] - same reference!
\`\`\`
---
## PERFORMANCE CONSIDERATIONS
\`\`\`js
// ========================================
// TIME COMPLEXITY
// ========================================
// push, pop: O(1)
// shift, unshift: O(n) - must re-index
// splice: O(n)
// slice: O(n)
// concat: O(n)
// indexOf, includes: O(n)
// find, findIndex: O(n)
// map, filter, reduce: O(n)
// sort: O(n log n)
// ========================================
// AVOID MULTIPLE ITERATIONS
// ========================================
// BAD: Multiple passes
const result = arr
  .filter(x => x > 0)
  .map(x => x * 2)
  .reduce((a, b) => a + b, 0);
// BETTER: Single pass with reduce
const result2 = arr.reduce((acc, x) => {
  if (x > 0) acc += x * 2;
  return acc;
}, 0);
// ========================================
// USE SET FOR LOOKUPS
// ========================================
// BAD: O(n) lookup with includes
const large = [/* thousands of items */];
arr.filter(x => large.includes(x)); // O(n*m)
// GOOD: O(1) lookup with Set
const largeSet = new Set(large);
arr.filter(x => largeSet.has(x)); // O(n)
// ========================================
// AVOID ARRAY MODIFICATIONS IN LOOPS
// ========================================
// BAD: Growing array in loop
let result3 = [];
for (const item of data) {
  result3 = result3.concat([item]); // Creates new array each time!
}
// GOOD: Push to existing array
const result4 = [];
for (const item of data) {
  result4.push(item);
}
\`\`\`
---
## QUICK REFERENCE CHEAT SHEET
| Method | Mutates | Returns | Purpose |
|--------|---------|---------|---------|
| push() | Yes | length | Add to end |
| pop() | Yes | element | Remove from end |
| shift() | Yes | element | Remove from start |
| unshift() | Yes | length | Add to start |
| splice() | Yes | removed[] | Add/remove anywhere |
| sort() | Yes | array | Sort in place |
| reverse() | Yes | array | Reverse in place |
| fill() | Yes | array | Fill with value |
| map() | No | array | Transform elements |
| filter() | No | array | Filter elements |
| reduce() | No | any | Accumulate to value |
| slice() | No | array | Extract portion |
| concat() | No | array | Merge arrays |
| flat() | No | array | Flatten nested |
| find() | No | element | First match |
| findIndex() | No | number | Index of first match |
| indexOf() | No | number | Index of value |
| includes() | No | boolean | Check existence |
| some() | No | boolean | Any match? |
| every() | No | boolean | All match? |
| forEach() | No | undefined | Iterate (side effects) |
---
## KEY TAKEAWAYS FOR INTERVIEWS
1. **Know which methods mutate** - splice, sort, reverse, push, pop, shift, unshift
2. **Use immutable patterns** - spread, slice, map, filter for React/Redux
3. **Understand reduce** - Can implement map, filter, and more
4. **Handle edge cases** - Empty arrays, sparse arrays, NaN
5. **Be able to implement methods** - Shows deep understanding
6. **Know performance** - shift/unshift are O(n), use Set for lookups
7. **Avoid common gotchas** - parseInt with map, sort without compare function
8. **Chain appropriately** - map/filter/reduce, not forEach
9. **ES2023 methods** - toSorted, toReversed, toSpliced, findLast
10. **Array.from** - Create arrays from iterables and array-likes`,language:"javascript"},{id:"interview-functions",title:"Functions - All Types",content:`# Functions - Complete Interview Guide
## What is a Function?
A function is a reusable block of code designed to perform a specific task. In JavaScript, functions are first-class citizens, meaning they can be assigned to variables, passed as arguments, returned from other functions, and have properties and methods.
## Why Functions Matter
Functions are fundamental to JavaScript because:
- They enable code reuse and modularity
- They create scope and closures
- They're the building blocks of functional programming
- They enable powerful patterns like callbacks, promises, and higher-order functions
- Understanding functions deeply is crucial for interviews
## Function Types in JavaScript
1. **Function Declaration** - Hoisted, named function
2. **Function Expression** - Not hoisted, can be anonymous
3. **Arrow Function** - Concise syntax, lexical 'this'
4. **IIFE** - Immediately Invoked Function Expression
5. **Generator Function** - Can pause and resume execution
6. **Async Function** - Built-in promise handling
## Key Concepts
- First-class functions (functions as values)
- Higher-order functions (functions operating on functions)
- Pure functions (no side effects, deterministic)
- Function composition (combining functions)
- Closures (functions remembering their scope)
- Currying and partial application
---
## FUNCTION DECLARATION
Function declarations are the most traditional way to define functions. They are hoisted, meaning you can call them before they appear in the code.
\`\`\`js
// Function Declaration - Hoisted to the top of its scope
// Can be called BEFORE the declaration appears in code
console.log(greet('John')); // "Hello, John!" - Works due to hoisting
function greet(name) {
  return 'Hello, ' + name + '!';
}
// Function declarations are hoisted completely
// Both the name AND the implementation are available
// This works:
sayHi(); // "Hi there!"
function sayHi() {
  console.log('Hi there!');
}
// Function declarations create a variable with the function name
// in the current scope
console.log(typeof greet); // "function"
// Hoisting example - what JavaScript actually does:
// JavaScript moves declarations to the top, like this:
// function greet(name) { return 'Hello, ' + name + '!'; }
// console.log(greet('John'));
\`\`\`
### Function Declaration in Blocks
\`\`\`js
// In strict mode, function declarations are block-scoped
'use strict';
if (true) {
  function blockFunction() {
    return 'Inside block';
  }
  console.log(blockFunction()); // "Inside block"
}
// console.log(blockFunction()); // ReferenceError in strict mode
// In non-strict mode, behavior varies by browser - avoid this pattern!
// Better approach: use function expressions
let myFunc;
if (true) {
  myFunc = function() {
    return 'Inside block';
  };
}
console.log(myFunc()); // "Inside block"
\`\`\`
---
## FUNCTION EXPRESSION
Function expressions assign a function to a variable. They are NOT hoisted, so you must define them before use.
\`\`\`js
// Function Expression - NOT hoisted
// console.log(greet2('John')); // TypeError: greet2 is not a function
const greet2 = function(name) {
  return 'Hello, ' + name;
};
console.log(greet2('John')); // "Hello, John" - Works after definition
// The variable declaration IS hoisted, but the assignment is not
// JavaScript sees it like this:
// var greet2; // hoisted (undefined)
// console.log(greet2('John')); // Error: greet2 is not a function
// greet2 = function(name) { ... }; // assigned later
// Anonymous function expression (no name after 'function')
const anonymous = function(x) {
  return x * 2;
};
// Named function expression - the name is only available inside
const factorial = function fact(n) {
  if (n <= 1) return 1;
  return n * fact(n - 1); // 'fact' can be used for recursion
};
console.log(factorial(5)); // 120
// console.log(fact(5)); // ReferenceError: fact is not defined
// Benefits of named function expressions:
// 1. Self-reference for recursion
// 2. Better stack traces for debugging
// 3. More descriptive code
\`\`\`
### Why Use Function Expressions?
\`\`\`js
// 1. Conditional function creation
let calculate;
if (useNewAlgorithm) {
  calculate = function(x) { return x * 2; };
} else {
  calculate = function(x) { return x + x; };
}
// 2. As arguments to other functions (callbacks)
setTimeout(function() {
  console.log('Delayed message');
}, 1000);
// 3. As object methods
const calculator = {
  add: function(a, b) { return a + b; },
  subtract: function(a, b) { return a - b; }
};
// 4. As IIFE (Immediately Invoked Function Expression)
const result = (function(x) {
  return x * 2;
})(5);
console.log(result); // 10
// 5. Creating closures
function createCounter() {
  let count = 0;
  return function() {
    return ++count;
  };
}
const counter = createCounter();
console.log(counter()); // 1
console.log(counter()); // 2
\`\`\`
---
## ARROW FUNCTIONS
Arrow functions provide a concise syntax and have lexical 'this' binding. Introduced in ES6, they're now widely used.
\`\`\`js
// Basic arrow function syntax
const greet = (name) => {
  return 'Hello, ' + name;
};
// Concise body - implicit return (no braces, no return keyword)
const greetShort = (name) => 'Hello, ' + name;
// Single parameter - parentheses optional
const double = x => x * 2;
// No parameters - empty parentheses required
const sayHello = () => 'Hello!';
// Multiple parameters - parentheses required
const add = (a, b) => a + b;
// Returning object literal - wrap in parentheses
// Without parens, braces are interpreted as function body
const createPerson = (name, age) => ({ name, age });
console.log(createPerson('John', 30)); // { name: 'John', age: 30 }
// Multi-line with explicit return
const calculate = (a, b, operation) => {
  const result = operation(a, b);
  console.log('Result:', result);
  return result;
};
// Arrow functions in array methods - very common pattern
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map(n => n * 2);
const evens = numbers.filter(n => n % 2 === 0);
const sum = numbers.reduce((acc, n) => acc + n, 0);
console.log(doubled); // [2, 4, 6, 8, 10]
console.log(evens);   // [2, 4]
console.log(sum);     // 15
\`\`\`
### Arrow Functions vs Regular Functions - Key Differences
This is a very common interview question. Understanding these differences is crucial.
\`\`\`js
// ========================================
// DIFFERENCE 1: 'this' BINDING
// ========================================
// Regular functions have their own 'this' based on HOW they're called
// Arrow functions inherit 'this' from their enclosing scope (lexical this)
const obj = {
  name: 'MyObject',
  // Regular function - 'this' is the object when called as method
  regularMethod: function() {
    console.log('Regular:', this.name); // 'MyObject'
    // Nested regular function - 'this' is undefined/global
    function nestedRegular() {
      console.log('Nested regular:', this.name); // undefined
    }
    nestedRegular();
    // Arrow function - inherits 'this' from regularMethod
    const nestedArrow = () => {
      console.log('Nested arrow:', this.name); // 'MyObject'
    };
    nestedArrow();
  },
  // Arrow method - 'this' is from enclosing scope (NOT the object!)
  arrowMethod: () => {
    console.log('Arrow:', this.name); // undefined (global scope)
  }
};
obj.regularMethod();
obj.arrowMethod();
// Common use case: Callbacks in methods
const timer = {
  seconds: 0,
  // WRONG: regular function loses 'this'
  startWrong: function() {
    setInterval(function() {
      this.seconds++; // 'this' is not timer!
      console.log(this.seconds); // NaN
    }, 1000);
  },
  // FIX 1: Save 'this' reference
  startWithThat: function() {
    const that = this;
    setInterval(function() {
      that.seconds++;
      console.log(that.seconds);
    }, 1000);
  },
  // FIX 2: Use bind
  startWithBind: function() {
    setInterval(function() {
      this.seconds++;
      console.log(this.seconds);
    }.bind(this), 1000);
  },
  // FIX 3: Arrow function (best approach)
  startWithArrow: function() {
    setInterval(() => {
      this.seconds++; // 'this' is timer
      console.log(this.seconds);
    }, 1000);
  }
};
// ========================================
// DIFFERENCE 2: NO 'arguments' OBJECT
// ========================================
function regularWithArgs() {
  console.log(arguments); // [1, 2, 3] - array-like object
  console.log(arguments[0]); // 1
}
regularWithArgs(1, 2, 3);
const arrowWithArgs = () => {
  // console.log(arguments); // ReferenceError: arguments is not defined
};
// Arrow functions can access arguments from enclosing regular function
function outer() {
  const inner = () => {
    console.log(arguments); // arguments from outer
  };
  inner();
}
outer(1, 2, 3); // [1, 2, 3]
// Use rest parameters instead
const arrowWithRest = (...args) => {
  console.log(args); // Real array: [1, 2, 3]
};
arrowWithRest(1, 2, 3);
// ========================================
// DIFFERENCE 3: CANNOT BE CONSTRUCTORS
// ========================================
function RegularPerson(name) {
  this.name = name;
}
const john = new RegularPerson('John'); // Works
console.log(john.name); // 'John'
const ArrowPerson = (name) => {
  this.name = name;
};
// const jane = new ArrowPerson('Jane'); // TypeError: ArrowPerson is not a constructor
// Arrow functions don't have [[Construct]] internal method
// They also don't have a 'prototype' property
console.log(RegularPerson.prototype); // { constructor: ... }
console.log(ArrowPerson.prototype);   // undefined
// ========================================
// DIFFERENCE 4: NO 'new.target'
// ========================================
function RegularConstructor() {
  console.log(new.target); // RegularConstructor when called with new
}
new RegularConstructor();
const ArrowConstructor = () => {
  // console.log(new.target); // SyntaxError
};
// ========================================
// DIFFERENCE 5: CANNOT HAVE DUPLICATE PARAMETERS
// ========================================
// Regular function (non-strict mode)
function duplicateParams(a, a) {
  return a; // Returns second 'a'
}
console.log(duplicateParams(1, 2)); // 2
// Arrow function - always error
// const arrowDuplicate = (a, a) => a; // SyntaxError
// ========================================
// DIFFERENCE 6: NO PROTOTYPE PROPERTY
// ========================================
function regularFunc() {}
console.log(regularFunc.prototype); // { constructor: regularFunc }
const arrowFunc = () => {};
console.log(arrowFunc.prototype); // undefined
\`\`\`
### When to Use Arrow Functions
\`\`\`js
//  USE Arrow Functions:
// 1. Short callbacks
array.map(x => x * 2);
array.filter(x => x > 5);
array.reduce((acc, x) => acc + x, 0);
// 2. Preserving 'this' in callbacks
class MyClass {
  constructor() {
    this.value = 42;
  }
  method() {
    setTimeout(() => {
      console.log(this.value); // 42 - 'this' preserved
    }, 100);
  }
}
// 3. Functional programming patterns
const compose = (f, g) => x => f(g(x));
const pipe = (...fns) => x => fns.reduce((v, f) => f(v), x);
// 4. Simple, single-expression functions
const isEven = n => n % 2 === 0;
const square = n => n * n;
//  AVOID Arrow Functions:
// 1. Object methods (when you need 'this' to be the object)
const obj = {
  value: 42,
  getValue: () => this.value // undefined! Use regular function
};
// 2. Constructors
const Person = (name) => { this.name = name; }; // Can't use 'new'
// 3. When you need 'arguments'
function sum() {
  return Array.from(arguments).reduce((a, b) => a + b, 0);
}
// 4. Event handlers that need 'this' to be the element
button.addEventListener('click', function() {
  this.classList.toggle('active'); // 'this' is the button
});
// 5. Prototype methods
function MyClass() {}
MyClass.prototype.method = function() {
  return this.value; // 'this' is the instance
};
// MyClass.prototype.method = () => this.value; // 'this' is not the instance!
\`\`\`
---
## IMMEDIATELY INVOKED FUNCTION EXPRESSION (IIFE)
An IIFE is a function that runs immediately after it's defined. It creates a private scope, avoiding global namespace pollution.
\`\`\`js
// Basic IIFE with function expression
(function() {
  console.log('I run immediately!');
  const privateVar = 'I am private';
  // privateVar is not accessible outside
})();
// The parentheses around the function make it an expression
// The () at the end immediately invokes it
// IIFE with arrow function
(() => {
  console.log('Arrow IIFE!');
})();
// IIFE with parameters
(function(name, age) {
  console.log(\`\${name} is \${age} years old\`);
})('John', 30);
// Arrow IIFE with parameters
((x, y) => {
  console.log('Sum:', x + y);
})(5, 3);
// IIFE that returns a value
const result = (function() {
  const a = 5;
  const b = 10;
  return a + b;
})();
console.log(result); // 15
// Named IIFE (useful for debugging)
(function myIIFE() {
  console.log('Named IIFE');
})();
// Alternative syntax (less common)
(function() {
  console.log('Alternative 1');
}());
!function() {
  console.log('Alternative 2 - using !');
}();
+function() {
  console.log('Alternative 3 - using +');
}();
\`\`\`
### IIFE Use Cases
\`\`\`js
// ========================================
// USE CASE 1: Creating Private Scope
// ========================================
// Avoid polluting global namespace
(function() {
  // These variables are private to this IIFE
  const apiKey = 'secret-key-123';
  const baseUrl = 'https://api.example.com';
  function makeRequest(endpoint) {
    return fetch(baseUrl + endpoint, {
      headers: { 'X-API-Key': apiKey }
    });
  }
  // Expose only what's needed
  window.myAPI = {
    getUsers: () => makeRequest('/users'),
    getPosts: () => makeRequest('/posts')
  };
})();
// apiKey and baseUrl are not accessible
// console.log(apiKey); // ReferenceError
// ========================================
// USE CASE 2: Module Pattern
// ========================================
const Counter = (function() {
  // Private state
  let count = 0;
  // Private function
  function logChange(action) {
    console.log(\`Count \${action}: \${count}\`);
  }
  // Public API
  return {
    increment() {
      count++;
      logChange('incremented');
      return count;
    },
    decrement() {
      count--;
      logChange('decremented');
      return count;
    },
    getCount() {
      return count;
    }
  };
})();
Counter.increment(); // "Count incremented: 1"
Counter.increment(); // "Count incremented: 2"
console.log(Counter.getCount()); // 2
// Counter.count is undefined - truly private
// ========================================
// USE CASE 3: Avoiding Variable Hoisting Issues
// ========================================
// Classic problem with var and loops
for (var i = 0; i < 3; i++) {
  setTimeout(function() {
    console.log(i); // 3, 3, 3 (all reference the same i)
  }, 100);
}
// IIFE solution (before 'let' existed)
for (var i = 0; i < 3; i++) {
  (function(j) {
    setTimeout(function() {
      console.log(j); // 0, 1, 2 (each has its own j)
    }, 100);
  })(i);
}
// Modern solution with let
for (let i = 0; i < 3; i++) {
  setTimeout(function() {
    console.log(i); // 0, 1, 2 (let creates block scope)
  }, 100);
}
// ========================================
// USE CASE 4: Initialization Code
// ========================================
const config = (function() {
  const env = process.env.NODE_ENV || 'development';
  const configs = {
    development: {
      apiUrl: 'http://localhost:3000',
      debug: true
    },
    production: {
      apiUrl: 'https://api.example.com',
      debug: false
    }
  };
  return configs[env];
})();
// ========================================
// USE CASE 5: Singleton Pattern
// ========================================
const Database = (function() {
  let instance = null;
  function createConnection() {
    return {
      host: 'localhost',
      port: 5432,
      query(sql) {
        console.log('Executing:', sql);
      }
    };
  }
  return {
    getInstance() {
      if (!instance) {
        instance = createConnection();
        console.log('New connection created');
      } else {
        console.log('Returning existing connection');
      }
      return instance;
    }
  };
})();
const db1 = Database.getInstance(); // "New connection created"
const db2 = Database.getInstance(); // "Returning existing connection"
console.log(db1 === db2); // true - same instance
\`\`\`
---
## GENERATOR FUNCTIONS
Generator functions can pause execution and resume later. They produce a sequence of values on-demand (lazy evaluation).
\`\`\`js
// Generator function declaration (note the *)
function* simpleGenerator() {
  console.log('Start');
  yield 1;
  console.log('After first yield');
  yield 2;
  console.log('After second yield');
  yield 3;
  console.log('End');
}
// Calling a generator function returns a Generator object
// The function body doesn't execute yet!
const gen = simpleGenerator();
console.log(gen.next()); // "Start" then { value: 1, done: false }
console.log(gen.next()); // "After first yield" then { value: 2, done: false }
console.log(gen.next()); // "After second yield" then { value: 3, done: false }
console.log(gen.next()); // "End" then { value: undefined, done: true }
// Generator expression (less common)
const genExp = function*() {
  yield 'a';
  yield 'b';
};
// Generators are iterable
function* letterGenerator() {
  yield 'a';
  yield 'b';
  yield 'c';
}
for (const letter of letterGenerator()) {
  console.log(letter); // 'a', 'b', 'c'
}
// Spread operator works too
console.log([...letterGenerator()]); // ['a', 'b', 'c']
\`\`\`
### Generator Features
\`\`\`js
// ========================================
// PASSING VALUES INTO GENERATORS
// ========================================
function* twoWayGenerator() {
  const x = yield 'First yield';
  console.log('Received:', x);
  const y = yield 'Second yield';
  console.log('Received:', y);
  return 'Done';
}
const gen = twoWayGenerator();
console.log(gen.next());        // { value: 'First yield', done: false }
console.log(gen.next('Hello')); // "Received: Hello" { value: 'Second yield', done: false }
console.log(gen.next('World')); // "Received: World" { value: 'Done', done: true }
// ========================================
// DELEGATING TO OTHER GENERATORS (yield*)
// ========================================
function* innerGenerator() {
  yield 'inner 1';
  yield 'inner 2';
}
function* outerGenerator() {
  yield 'outer 1';
  yield* innerGenerator(); // Delegate to inner
  yield 'outer 2';
}
console.log([...outerGenerator()]); 
// ['outer 1', 'inner 1', 'inner 2', 'outer 2']
// Works with any iterable
function* yieldArray() {
  yield* [1, 2, 3];
  yield* 'abc';
}
console.log([...yieldArray()]); // [1, 2, 3, 'a', 'b', 'c']
// ========================================
// ERROR HANDLING IN GENERATORS
// ========================================
function* errorGenerator() {
  try {
    yield 1;
    yield 2;
  } catch (e) {
    console.log('Caught:', e);
  }
  yield 3;
}
const errGen = errorGenerator();
console.log(errGen.next()); // { value: 1, done: false }
console.log(errGen.throw(new Error('Oops'))); // "Caught: Error: Oops" { value: 3, done: false }
// ========================================
// GENERATOR.return()
// ========================================
function* countUp() {
  let i = 0;
  while (true) {
    yield i++;
  }
}
const counter = countUp();
console.log(counter.next()); // { value: 0, done: false }
console.log(counter.next()); // { value: 1, done: false }
console.log(counter.return('Stopped')); // { value: 'Stopped', done: true }
console.log(counter.next()); // { value: undefined, done: true }
\`\`\`
### Practical Generator Use Cases
\`\`\`js
// ========================================
// USE CASE 1: Infinite Sequences
// ========================================
function* infiniteSequence() {
  let i = 0;
  while (true) {
    yield i++;
  }
}
function* fibonacciSequence() {
  let [prev, curr] = [0, 1];
  while (true) {
    yield curr;
    [prev, curr] = [curr, prev + curr];
  }
}
// Take only what you need (lazy evaluation)
function take(n, iterable) {
  const result = [];
  const iterator = iterable[Symbol.iterator]();
  for (let i = 0; i < n; i++) {
    const { value, done } = iterator.next();
    if (done) break;
    result.push(value);
  }
  return result;
}
console.log(take(5, fibonacciSequence())); // [1, 1, 2, 3, 5]
console.log(take(10, infiniteSequence())); // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
// ========================================
// USE CASE 2: ID Generator
// ========================================
function* idGenerator(prefix = 'id') {
  let id = 1;
  while (true) {
    yield \`\${prefix}_\${id++}\`;
  }
}
const userIds = idGenerator('user');
console.log(userIds.next().value); // 'user_1'
console.log(userIds.next().value); // 'user_2'
const orderIds = idGenerator('order');
console.log(orderIds.next().value); // 'order_1'
// ========================================
// USE CASE 3: Paginated Data
// ========================================
async function* fetchPages(url) {
  let page = 1;
  let hasMore = true;
  while (hasMore) {
    const response = await fetch(\`\${url}?page=\${page}\`);
    const data = await response.json();
    yield data.items;
    hasMore = data.hasNextPage;
    page++;
  }
}
// Usage
async function processAllPages() {
  for await (const items of fetchPages('/api/products')) {
    for (const item of items) {
      console.log(item);
    }
  }
}
// ========================================
// USE CASE 4: State Machine
// ========================================
function* trafficLight() {
  while (true) {
    yield 'green';
    yield 'yellow';
    yield 'red';
  }
}
const light = trafficLight();
console.log(light.next().value); // 'green'
console.log(light.next().value); // 'yellow'
console.log(light.next().value); // 'red'
console.log(light.next().value); // 'green' (cycles)
// ========================================
// USE CASE 5: Tree Traversal
// ========================================
function* traverseTree(node) {
  if (!node) return;
  yield node.value;
  yield* traverseTree(node.left);
  yield* traverseTree(node.right);
}
const tree = {
  value: 1,
  left: {
    value: 2,
    left: { value: 4 },
    right: { value: 5 }
  },
  right: {
    value: 3,
    right: { value: 6 }
  }
};
console.log([...traverseTree(tree)]); // [1, 2, 4, 5, 3, 6]
\`\`\`
---
## ASYNC FUNCTIONS
Async functions provide a cleaner way to work with Promises. They make asynchronous code look synchronous.
\`\`\`js
// Async function declaration
async function fetchUserData(userId) {
  // 'await' pauses execution until Promise resolves
  const response = await fetch(\`/api/users/\${userId}\`);
  const data = await response.json();
  return data; // Automatically wrapped in Promise
}
// Async function expression
const fetchPosts = async function(userId) {
  const response = await fetch(\`/api/users/\${userId}/posts\`);
  return response.json();
};
// Async arrow function
const fetchComments = async (postId) => {
  const response = await fetch(\`/api/posts/\${postId}/comments\`);
  return response.json();
};
// Async method in object
const api = {
  async getUser(id) {
    const response = await fetch(\`/api/users/\${id}\`);
    return response.json();
  }
};
// Async method in class
class UserService {
  async getUser(id) {
    const response = await fetch(\`/api/users/\${id}\`);
    return response.json();
  }
}
// Async functions ALWAYS return a Promise
async function returnValue() {
  return 42; // Same as: return Promise.resolve(42)
}
returnValue().then(value => console.log(value)); // 42
\`\`\`
### Error Handling in Async Functions
\`\`\`js
// ========================================
// try/catch for error handling
// ========================================
async function fetchWithErrorHandling(url) {
  try {
    const response = await fetch(url);
    if (!response.ok) {
      throw new Error(\`HTTP error! status: \${response.status}\`);
    }
    const data = await response.json();
    return data;
  } catch (error) {
    console.error('Fetch failed:', error.message);
    // Re-throw, return default, or handle as needed
    throw error;
  }
}
// ========================================
// Multiple await with shared error handling
// ========================================
async function fetchUserWithPosts(userId) {
  try {
    const user = await fetchUser(userId);
    const posts = await fetchPosts(userId);
    const comments = await fetchCommentsForPosts(posts);
    return { user, posts, comments };
  } catch (error) {
    // Catches errors from any of the awaits
    console.error('Error fetching user data:', error);
    return null;
  }
}
// ========================================
// Individual error handling
// ========================================
async function fetchWithFallback(userId) {
  let user;
  try {
    user = await fetchUser(userId);
  } catch (error) {
    user = { id: userId, name: 'Unknown' }; // Fallback
  }
  let posts;
  try {
    posts = await fetchPosts(userId);
  } catch (error) {
    posts = []; // Fallback to empty array
  }
  return { user, posts };
}
// ========================================
// Handling errors with .catch() on individual awaits
// ========================================
async function fetchWithInlineCatch(userId) {
  const user = await fetchUser(userId).catch(e => ({ id: userId, name: 'Unknown' }));
  const posts = await fetchPosts(userId).catch(e => []);
  return { user, posts };
}
\`\`\`
### Parallel vs Sequential Execution
\`\`\`js
// ========================================
// SEQUENTIAL (Slower) - Each await waits for previous
// ========================================
async function sequential() {
  console.time('sequential');
  const user = await fetchUser(1);       // Wait 1 second
  const posts = await fetchPosts(1);      // Wait 1 second
  const comments = await fetchComments(1); // Wait 1 second
  // Total: ~3 seconds
  console.timeEnd('sequential');
  return { user, posts, comments };
}
// ========================================
// PARALLEL (Faster) - All requests start together
// ========================================
async function parallel() {
  console.time('parallel');
  // Start all requests at once
  const userPromise = fetchUser(1);
  const postsPromise = fetchPosts(1);
  const commentsPromise = fetchComments(1);
  // Wait for all to complete
  const user = await userPromise;
  const posts = await postsPromise;
  const comments = await commentsPromise;
  // Total: ~1 second (max of all)
  console.timeEnd('parallel');
  return { user, posts, comments };
}
// ========================================
// PARALLEL with Promise.all (preferred)
// ========================================
async function parallelWithAll() {
  const [user, posts, comments] = await Promise.all([
    fetchUser(1),
    fetchPosts(1),
    fetchComments(1)
  ]);
  return { user, posts, comments };
}
// ========================================
// PARALLEL with Promise.allSettled (handle partial failures)
// ========================================
async function parallelWithSettled() {
  const results = await Promise.allSettled([
    fetchUser(1),
    fetchPosts(1),
    fetchComments(1)
  ]);
  return results.map((result, index) => {
    if (result.status === 'fulfilled') {
      return result.value;
    } else {
      console.error(\`Request \${index} failed:\`, result.reason);
      return null;
    }
  });
}
// ========================================
// Processing array items in parallel
// ========================================
async function fetchAllUsers(userIds) {
  //  WRONG: Sequential (each await waits)
  const users = [];
  for (const id of userIds) {
    const user = await fetchUser(id);
    users.push(user);
  }
  return users;
  //  RIGHT: Parallel with Promise.all
  return Promise.all(userIds.map(id => fetchUser(id)));
}
// ========================================
// Processing with concurrency limit
// ========================================
async function fetchWithLimit(urls, limit = 3) {
  const results = [];
  const executing = [];
  for (const url of urls) {
    const promise = fetch(url).then(r => r.json());
    results.push(promise);
    const e = promise.then(() => executing.splice(executing.indexOf(e), 1));
    executing.push(e);
    if (executing.length >= limit) {
      await Promise.race(executing);
    }
  }
  return Promise.all(results);
}
\`\`\`
---
## HIGHER-ORDER FUNCTIONS
A higher-order function is a function that takes one or more functions as arguments, returns a function, or both. This is a core concept in functional programming.
\`\`\`js
// ========================================
// FUNCTION AS ARGUMENT
// ========================================
function repeat(n, action) {
  for (let i = 0; i < n; i++) {
    action(i);
  }
}
repeat(3, console.log); // 0, 1, 2
repeat(3, i => console.log('Hello ' + i)); // Hello 0, Hello 1, Hello 2
// Array methods are higher-order functions
const numbers = [1, 2, 3, 4, 5];
// map - transform each element
const doubled = numbers.map(n => n * 2); // [2, 4, 6, 8, 10]
// filter - keep elements that pass test
const evens = numbers.filter(n => n % 2 === 0); // [2, 4]
// reduce - accumulate to single value
const sum = numbers.reduce((acc, n) => acc + n, 0); // 15
// find - first element that passes test
const firstEven = numbers.find(n => n % 2 === 0); // 2
// some - at least one passes
const hasEven = numbers.some(n => n % 2 === 0); // true
// every - all pass
const allPositive = numbers.every(n => n > 0); // true
// ========================================
// FUNCTION AS RETURN VALUE
// ========================================
function multiplier(factor) {
  // Returns a new function that "remembers" factor
  return function(number) {
    return number * factor;
  };
}
const double = multiplier(2);
const triple = multiplier(3);
console.log(double(5));  // 10
console.log(triple(5));  // 15
// Arrow function version
const multiplierArrow = factor => number => number * factor;
// ========================================
// BOTH: Takes and Returns Functions
// ========================================
function compose(f, g) {
  return function(x) {
    return f(g(x));
  };
}
const addOne = x => x + 1;
const square = x => x * x;
const addOneThenSquare = compose(square, addOne);
console.log(addOneThenSquare(4)); // 25: (4+1) = 25
const squareThenAddOne = compose(addOne, square);
console.log(squareThenAddOne(4)); // 17: 4 + 1 = 17
\`\`\`
### Creating Custom Higher-Order Functions
\`\`\`js
// ========================================
// once - Function that only runs once
// ========================================
function once(fn) {
  let called = false;
  let result;
  return function(...args) {
    if (!called) {
      called = true;
      result = fn.apply(this, args);
    }
    return result;
  };
}
const initialize = once(() => {
  console.log('Initializing...');
  return 'Initialized';
});
console.log(initialize()); // "Initializing..." "Initialized"
console.log(initialize()); // "Initialized" (no log, returns cached)
// ========================================
// after - Function that runs after n calls
// ========================================
function after(n, fn) {
  let count = 0;
  return function(...args) {
    count++;
    if (count >= n) {
      return fn.apply(this, args);
    }
  };
}
const afterThree = after(3, () => console.log('Third time!'));
afterThree(); // nothing
afterThree(); // nothing
afterThree(); // "Third time!"
// ========================================
// before - Function that only runs first n times
// ========================================
function before(n, fn) {
  let count = 0;
  let result;
  return function(...args) {
    if (count < n) {
      result = fn.apply(this, args);
      count++;
    }
    return result;
  };
}
const onlyThrice = before(3, () => console.log('Called!'));
onlyThrice(); // "Called!"
onlyThrice(); // "Called!"
onlyThrice(); // "Called!"
onlyThrice(); // (nothing, returns last result)
// ========================================
// delay - Delay function execution
// ========================================
function delay(fn, ms, ...args) {
  return new Promise(resolve => {
    setTimeout(() => {
      resolve(fn(...args));
    }, ms);
  });
}
await delay(console.log, 1000, 'Delayed message');
// ========================================
// retry - Retry failed function
// ========================================
async function retry(fn, retries = 3, delayMs = 1000) {
  for (let i = 0; i < retries; i++) {
    try {
      return await fn();
    } catch (error) {
      if (i === retries - 1) throw error;
      console.log(\`Retry \${i + 1}/\${retries}...\`);
      await new Promise(r => setTimeout(r, delayMs));
    }
  }
}
// ========================================
// wrap - Wrap function with before/after logic
// ========================================
function wrap(fn, wrapper) {
  return function(...args) {
    return wrapper.call(this, fn, ...args);
  };
}
const greet = name => console.log('Hello, ' + name);
const loggedGreet = wrap(greet, function(original, name) {
  console.log('Before:', name);
  original(name);
  console.log('After:', name);
});
loggedGreet('John');
// "Before: John"
// "Hello, John"
// "After: John"
\`\`\`
---
## FUNCTION COMPOSITION
Function composition combines simple functions to build more complex ones. It's a fundamental concept in functional programming.
\`\`\`js
// Simple functions to compose
const add10 = x => x + 10;
const multiply2 = x => x * 2;
const subtract5 = x => x - 5;
const square = x => x * x;
// ========================================
// MANUAL COMPOSITION (Nested calls)
// ========================================
const result = subtract5(multiply2(add10(5)));
// Step by step: add10(5)=15, multiply2(15)=30, subtract5(30)=25
console.log(result); // 25
// Hard to read when deeply nested!
// ========================================
// COMPOSE FUNCTION (Right to Left)
// ========================================
// compose(f, g, h)(x) = f(g(h(x)))
// Last function is called first
const compose = (...fns) => (x) => 
  fns.reduceRight((acc, fn) => fn(acc), x);
const composed = compose(subtract5, multiply2, add10);
console.log(composed(5)); // 25: 5  15  30  25
// With more functions
const complex = compose(subtract5, square, multiply2, add10);
console.log(complex(5)); // 895: 5  15  30  900  895
// ========================================
// PIPE FUNCTION (Left to Right)
// ========================================
// pipe(f, g, h)(x) = h(g(f(x)))
// First function is called first (more intuitive)
const pipe = (...fns) => (x) => 
  fns.reduce((acc, fn) => fn(acc), x);
const piped = pipe(add10, multiply2, subtract5);
console.log(piped(5)); // 25: 5  15  30  25
// Reading left to right matches the data flow
const transform = pipe(
  x => x + 10,    // First: add 10
  x => x * 2,     // Then: multiply by 2
  x => x - 5      // Finally: subtract 5
);
// ========================================
// ASYNC COMPOSITION
// ========================================
const pipeAsync = (...fns) => (x) =>
  fns.reduce(
    (promise, fn) => promise.then(fn),
    Promise.resolve(x)
  );
const fetchAndProcess = pipeAsync(
  userId => fetch(\`/api/users/\${userId}\`),
  response => response.json(),
  user => user.name.toUpperCase(),
  name => \`Hello, \${name}!\`
);
const greeting = await fetchAndProcess(1);
console.log(greeting); // "Hello, JOHN!"
\`\`\`
### Practical Composition Examples
\`\`\`js
// ========================================
// Data transformation pipeline
// ========================================
const users = [
  { name: 'John', age: 25, active: true },
  { name: 'Jane', age: 30, active: false },
  { name: 'Bob', age: 35, active: true },
  { name: 'Alice', age: 28, active: true }
];
// Composable utility functions
const filter = predicate => array => array.filter(predicate);
const map = fn => array => array.map(fn);
const sort = compareFn => array => [...array].sort(compareFn);
const take = n => array => array.slice(0, n);
const prop = key => obj => obj[key];
// Build transformation pipeline
const getActiveUserNames = pipe(
  filter(user => user.active),
  map(prop('name')),
  sort((a, b) => a.localeCompare(b))
);
console.log(getActiveUserNames(users)); // ['Alice', 'Bob', 'John']
// Another pipeline
const getTop2ActiveByAge = pipe(
  filter(user => user.active),
  sort((a, b) => b.age - a.age),
  take(2),
  map(user => \`\${user.name} (\${user.age})\`)
);
console.log(getTop2ActiveByAge(users)); // ['Bob (35)', 'Alice (28)']
// ========================================
// String transformation
// ========================================
const trim = str => str.trim();
const toLowerCase = str => str.toLowerCase();
const split = separator => str => str.split(separator);
const join = separator => arr => arr.join(separator);
const replace = (pattern, replacement) => str => str.replace(pattern, replacement);
const slugify = pipe(
  trim,
  toLowerCase,
  replace(/[^ws-]/g, ''),
  replace(/s+/g, '-'),
  replace(/-+/g, '-')
);
console.log(slugify('  Hello World! This is a Test  ')); // 'hello-world-this-is-a-test'
// ========================================
// Validation pipeline
// ========================================
const validate = (...validators) => (value) => {
  for (const validator of validators) {
    const result = validator(value);
    if (result !== true) return result;
  }
  return true;
};
const required = value => 
  value !== '' || 'Field is required';
const minLength = min => value => 
  value.length >= min || \`Minimum length is \${min}\`;
const maxLength = max => value => 
  value.length <= max || \`Maximum length is \${max}\`;
const pattern = (regex, message) => value => 
  regex.test(value) || message;
const validatePassword = validate(
  required,
  minLength(8),
  maxLength(20),
  pattern(/[A-Z]/, 'Must contain uppercase'),
  pattern(/[a-z]/, 'Must contain lowercase'),
  pattern(/[0-9]/, 'Must contain number')
);
console.log(validatePassword('')); // 'Field is required'
console.log(validatePassword('short')); // 'Minimum length is 8'
console.log(validatePassword('ValidPass123')); // true
\`\`\`
---
## PURE FUNCTIONS
A pure function always produces the same output for the same input and has no side effects. Understanding pure functions is essential for functional programming and predictable code.
\`\`\`js
// ========================================
// PURE FUNCTIONS
// ========================================
// Same input  Same output, no side effects
//  PURE: Only depends on inputs
function add(a, b) {
  return a + b;
}
console.log(add(2, 3)); // Always 5
//  PURE: Creates new array, doesn't mutate
function appendPure(arr, item) {
  return [...arr, item];
}
const original = [1, 2, 3];
const newArr = appendPure(original, 4);
console.log(original); // [1, 2, 3] (unchanged)
console.log(newArr);   // [1, 2, 3, 4]
//  PURE: Object transformation
function updateAge(person, newAge) {
  return { ...person, age: newAge };
}
// ========================================
// IMPURE FUNCTIONS
// ========================================
//  IMPURE: Depends on external state
let multiplier = 2;
function impureMultiply(x) {
  return x * multiplier; // Different if multiplier changes
}
console.log(impureMultiply(5)); // 10
multiplier = 3;
console.log(impureMultiply(5)); // 15 (different result!)
//  IMPURE: Modifies input (side effect)
function impureAppend(arr, item) {
  arr.push(item); // Mutates the original array!
  return arr;
}
const myArr = [1, 2, 3];
impureAppend(myArr, 4);
console.log(myArr); // [1, 2, 3, 4] (mutated!)
//  IMPURE: Has side effects
let total = 0;
function impureAdd(x) {
  total += x; // Modifies external state
  return total;
}
//  IMPURE: Depends on random/time
function impureRandom(max) {
  return Math.floor(Math.random() * max);
}
function impureTimestamp() {
  return Date.now();
}
//  IMPURE: Console output is a side effect
function impureLog(message) {
  console.log(message); // Side effect
  return message;
}
\`\`\`
### Benefits of Pure Functions
\`\`\`js
// ========================================
// 1. TESTABILITY
// ========================================
// Pure functions are easy to test - predictable!
function calculateTax(amount, rate) {
  return amount * rate;
}
// Easy to test
console.assert(calculateTax(100, 0.1) === 10);
console.assert(calculateTax(200, 0.2) === 40);
// ========================================
// 2. MEMOIZATION
// ========================================
// Since same input = same output, we can cache results
function memoize(fn) {
  const cache = new Map();
  return function(...args) {
    const key = JSON.stringify(args);
    if (cache.has(key)) {
      console.log('Cache hit!');
      return cache.get(key);
    }
    const result = fn.apply(this, args);
    cache.set(key, result);
    return result;
  };
}
// Expensive pure function
function fibonacci(n) {
  if (n <= 1) return n;
  return fibonacci(n - 1) + fibonacci(n - 2);
}
const memoizedFib = memoize(fibonacci);
console.log(memoizedFib(10)); // Calculates
console.log(memoizedFib(10)); // "Cache hit!" - returns cached
// ========================================
// 3. REFERENTIAL TRANSPARENCY
// ========================================
// Can replace function call with its result
const double = x => x * 2;
const add = (a, b) => a + b;
// These are equivalent:
const result1 = add(double(5), double(10));
const result2 = add(10, 20);
const result3 = 30;
console.log(result1 === result2 && result2 === result3); // true
// ========================================
// 4. PARALLELIZATION
// ========================================
// Pure functions can run in parallel safely
const numbers = [1, 2, 3, 4, 5];
// These could run in parallel (conceptually)
const squared = numbers.map(n => n * n);
// No shared state to worry about!
// ========================================
// 5. DEBUGGING
// ========================================
// No hidden state means easier debugging
function processData(data) {
  const step1 = normalize(data);
  const step2 = validate(step1);
  const step3 = transform(step2);
  return step3;
}
// You can inspect each step independently
// Each function's output only depends on its input
\`\`\`
### Converting Impure to Pure
\`\`\`js
// ========================================
// IMPURE TO PURE PATTERNS
// ========================================
//  IMPURE: Mutates input
function impureSort(arr) {
  return arr.sort((a, b) => a - b); // Mutates original!
}
//  PURE: Returns new sorted array
function pureSort(arr) {
  return [...arr].sort((a, b) => a - b);
}
//  IMPURE: Depends on Date.now()
function impureCreateUser(name) {
  return {
    name,
    createdAt: Date.now() // Different each time
  };
}
//  PURE: Accept time as parameter
function pureCreateUser(name, timestamp) {
  return {
    name,
    createdAt: timestamp
  };
}
//  IMPURE: Makes HTTP request
async function impureFetchUser(id) {
  const response = await fetch(\`/api/users/\${id}\`);
  return response.json();
}
//  PURE: Accept fetch function as dependency (DI)
async function pureFetchUser(id, fetchFn) {
  const response = await fetchFn(\`/api/users/\${id}\`);
  return response.json();
}
//  IMPURE: Writes to database
async function impureSaveUser(user) {
  await db.users.insert(user);
}
//  Separate pure logic from side effects
function prepareUserForSave(user) {
  return {
    ...user,
    updatedAt: user.timestamp,
    normalized: user.name.toLowerCase()
  };
}
// Side effects at the edges of your application
async function saveUser(user, timestamp, db) {
  const prepared = prepareUserForSave({ ...user, timestamp });
  await db.users.insert(prepared);
}
\`\`\`
---
## DEFAULT PARAMETERS
Default parameters allow you to set default values for function parameters.
\`\`\`js
// ========================================
// BASIC DEFAULT PARAMETERS
// ========================================
function greet(name = 'Guest', greeting = 'Hello') {
  return \`\${greeting}, \${name}!\`;
}
console.log(greet());                 // "Hello, Guest!"
console.log(greet('John'));           // "Hello, John!"
console.log(greet('John', 'Hi'));     // "Hi, John!"
console.log(greet(undefined, 'Hey')); // "Hey, Guest!" (undefined triggers default)
console.log(greet(null, 'Hey'));      // "Hey, null!" (null doesn't trigger default)
// ========================================
// DEFAULT WITH EXPRESSIONS
// ========================================
function getDefaultName() {
  console.log('Getting default name...');
  return 'Default User';
}
function greetLazy(name = getDefaultName()) {
  return 'Hello, ' + name;
}
console.log(greetLazy('John')); // "Hello, John" (getDefaultName not called)
console.log(greetLazy());       // "Getting default name..." "Hello, Default User"
// ========================================
// DEFAULTS CAN REFERENCE EARLIER PARAMETERS
// ========================================
function createUser(name, role = 'user', id = \`\${role}_\${Date.now()}\`) {
  return { name, role, id };
}
console.log(createUser('John'));
// { name: 'John', role: 'user', id: 'user_1234567890' }
console.log(createUser('Admin', 'admin'));
// { name: 'Admin', role: 'admin', id: 'admin_1234567890' }
// ========================================
// DESTRUCTURING WITH DEFAULTS
// ========================================
function setupOptions({ 
  host = 'localhost', 
  port = 3000, 
  debug = false 
} = {}) {
  return { host, port, debug };
}
console.log(setupOptions());                    // { host: 'localhost', port: 3000, debug: false }
console.log(setupOptions({}));                  // { host: 'localhost', port: 3000, debug: false }
console.log(setupOptions({ port: 8080 }));      // { host: 'localhost', port: 8080, debug: false }
console.log(setupOptions({ host: 'example.com', debug: true })); 
// { host: 'example.com', port: 3000, debug: true }
// Note the = {} at the end - this allows calling with no argument
// Without it: setupOptions() would throw an error
// ========================================
// ARRAY DESTRUCTURING WITH DEFAULTS
// ========================================
function parseCoordinates([x = 0, y = 0, z = 0] = []) {
  return { x, y, z };
}
console.log(parseCoordinates());          // { x: 0, y: 0, z: 0 }
console.log(parseCoordinates([10]));      // { x: 10, y: 0, z: 0 }
console.log(parseCoordinates([10, 20]));  // { x: 10, y: 20, z: 0 }
console.log(parseCoordinates([10, 20, 30])); // { x: 10, y: 20, z: 30 }
\`\`\`
---
## REST PARAMETERS
Rest parameters allow you to represent an indefinite number of arguments as an array.
\`\`\`js
// ========================================
// BASIC REST PARAMETERS
// ========================================
function sum(...numbers) {
  return numbers.reduce((total, n) => total + n, 0);
}
console.log(sum(1, 2, 3));       // 6
console.log(sum(1, 2, 3, 4, 5)); // 15
console.log(sum());              // 0
// Rest parameter is a real array (unlike 'arguments')
function showType(...args) {
  console.log(Array.isArray(args)); // true
  console.log(args.length);
}
// ========================================
// REST MUST BE LAST PARAMETER
// ========================================
function formatMessage(template, ...values) {
  return values.reduce((msg, val, i) => 
    msg.replace(\`{\${i}}\`, val), template);
}
console.log(formatMessage('Hello {0}, you have {1} messages', 'John', 5));
// "Hello John, you have 5 messages"
function createTeam(leader, ...members) {
  return {
    leader,
    members,
    size: members.length + 1
  };
}
console.log(createTeam('John', 'Jane', 'Bob', 'Alice'));
// { leader: 'John', members: ['Jane', 'Bob', 'Alice'], size: 4 }
// ========================================
// REST VS ARGUMENTS
// ========================================
function oldWay() {
  // 'arguments' is array-like but not a real array
  console.log(arguments);             // { '0': 1, '1': 2, '2': 3 }
  console.log(Array.isArray(arguments)); // false
  // To use array methods, must convert
  const args = Array.from(arguments);
  // Or: const args = [...arguments];
  return args.reduce((a, b) => a + b, 0);
}
function newWay(...args) {
  // Rest params give you a real array
  console.log(args);                  // [1, 2, 3]
  console.log(Array.isArray(args));   // true
  return args.reduce((a, b) => a + b, 0);
}
// 'arguments' not available in arrow functions
const arrowFunc = () => {
  // console.log(arguments); // ReferenceError
};
// Rest parameters work in arrow functions
const arrowWithRest = (...args) => {
  console.log(args); // Works!
};
// ========================================
// DESTRUCTURING WITH REST
// ========================================
function processFirst(first, ...rest) {
  console.log('First:', first);
  console.log('Rest:', rest);
}
processFirst(1, 2, 3, 4, 5);
// First: 1
// Rest: [2, 3, 4, 5]
// In destructuring assignment
const [head, ...tail] = [1, 2, 3, 4, 5];
console.log(head); // 1
console.log(tail); // [2, 3, 4, 5]
const { name, ...otherProps } = { name: 'John', age: 30, city: 'NYC' };
console.log(name);       // 'John'
console.log(otherProps); // { age: 30, city: 'NYC' }
\`\`\`
---
## CURRYING
Currying transforms a function with multiple arguments into a sequence of functions each taking a single argument.
\`\`\`js
// ========================================
// BASIC CURRYING
// ========================================
// Non-curried function
function add(a, b, c) {
  return a + b + c;
}
console.log(add(1, 2, 3)); // 6
// Curried version - manually
function curriedAdd(a) {
  return function(b) {
    return function(c) {
      return a + b + c;
    };
  };
}
console.log(curriedAdd(1)(2)(3)); // 6
// Arrow function version (more concise)
const curriedAddArrow = a => b => c => a + b + c;
console.log(curriedAddArrow(1)(2)(3)); // 6
// ========================================
// PARTIAL APPLICATION WITH CURRYING
// ========================================
const addOne = curriedAdd(1);
const addOneAndTwo = addOne(2);
console.log(addOneAndTwo(3)); // 6
console.log(addOneAndTwo(10)); // 13
// Practical example: logging
const log = level => timestamp => message => 
  console.log(\`[\${level}] [\${timestamp}] \${message}\`);
const errorLog = log('ERROR');
const errorLogNow = errorLog(new Date().toISOString());
errorLogNow('Something went wrong');
// [ERROR] [2024-01-01T12:00:00.000Z] Something went wrong
// ========================================
// GENERIC CURRY FUNCTION
// ========================================
function curry(fn) {
  return function curried(...args) {
    if (args.length >= fn.length) {
      // All arguments received, call original function
      return fn.apply(this, args);
    } else {
      // Not enough arguments, return function that collects more
      return function(...moreArgs) {
        return curried.apply(this, args.concat(moreArgs));
      };
    }
  };
}
// Usage
function multiply(a, b, c) {
  return a * b * c;
}
const curriedMultiply = curry(multiply);
console.log(curriedMultiply(2)(3)(4));     // 24
console.log(curriedMultiply(2, 3)(4));     // 24
console.log(curriedMultiply(2)(3, 4));     // 24
console.log(curriedMultiply(2, 3, 4));     // 24
// ========================================
// PRACTICAL CURRYING EXAMPLES
// ========================================
// Filtering
const filter = predicate => array => array.filter(predicate);
const isGreaterThan = min => value => value > min;
const isGreaterThan10 = isGreaterThan(10);
const filterGreaterThan10 = filter(isGreaterThan10);
console.log(filterGreaterThan10([5, 10, 15, 20])); // [15, 20]
// Mapping
const map = fn => array => array.map(fn);
const multiply = factor => value => value * factor;
const double = multiply(2);
const doubleAll = map(double);
console.log(doubleAll([1, 2, 3])); // [2, 4, 6]
// String manipulation
const replace = pattern => replacement => str => str.replace(pattern, replacement);
const sanitize = replace(/[<>]/g)('');
console.log(sanitize('<script>alert("xss")<\/script>')); 
// 'scriptalert("xss")/script'
// API calls
const request = method => url => data => 
  fetch(url, { method, body: JSON.stringify(data) });
const post = request('POST');
const postToUsers = post('/api/users');
await postToUsers({ name: 'John' });
\`\`\`
---
## PARTIAL APPLICATION
Partial application creates a new function by pre-filling some arguments of an existing function.
\`\`\`js
// ========================================
// PARTIAL APPLICATION WITH bind()
// ========================================
function greet(greeting, punctuation, name) {
  return \`\${greeting}, \${name}\${punctuation}\`;
}
// Partially apply with bind
const sayHello = greet.bind(null, 'Hello', '!');
console.log(sayHello('John')); // "Hello, John!"
console.log(sayHello('Jane')); // "Hello, Jane!"
const askQuestion = greet.bind(null, 'How are you', '?');
console.log(askQuestion('John')); // "How are you, John?"
// ========================================
// CUSTOM PARTIAL FUNCTION
// ========================================
function partial(fn, ...presetArgs) {
  return function(...laterArgs) {
    return fn(...presetArgs, ...laterArgs);
  };
}
const add = (a, b, c) => a + b + c;
const add5 = partial(add, 5);
const add5And10 = partial(add, 5, 10);
console.log(add5(10, 15));    // 30 (5 + 10 + 15)
console.log(add5And10(15));   // 30 (5 + 10 + 15)
// ========================================
// PARTIAL WITH PLACEHOLDERS
// ========================================
const _ = Symbol('placeholder');
function partialWithPlaceholders(fn, ...args) {
  return function(...laterArgs) {
    let laterIndex = 0;
    const finalArgs = args.map(arg => 
      arg === _ ? laterArgs[laterIndex++] : arg
    );
    return fn(...finalArgs, ...laterArgs.slice(laterIndex));
  };
}
const divide = (a, b) => a / b;
// Normal partial: always divides by 2
const divideBy2 = partial(divide, _, 2);
// Wait, that doesn't work with normal partial!
// With placeholders: divide something by 2
const divideByTwo = partialWithPlaceholders(divide, _, 2);
console.log(divideByTwo(10)); // 5 (10 / 2)
// Divide 100 by something
const divide100By = partialWithPlaceholders(divide, 100, _);
console.log(divide100By(5)); // 20 (100 / 5)
// ========================================
// CURRYING VS PARTIAL APPLICATION
// ========================================
// Currying: Transforms f(a, b, c) into f(a)(b)(c)
// Always produces unary functions
// Partial: Pre-fills some arguments
// Can pre-fill any number at once
function original(a, b, c, d) {
  return a + b + c + d;
}
// Curried: must call one arg at a time
const curried = curry(original);
curried(1)(2)(3)(4); // Works
// curried(1, 2)(3, 4); // Also works with our curry implementation
// Partial: pre-fill whatever you want
const partial1 = partial(original, 1, 2);
partial1(3, 4); // 10
// ========================================
// PRACTICAL EXAMPLES
// ========================================
// Event handling
function handleEvent(eventType, handler, element) {
  element.addEventListener(eventType, handler);
}
const onClick = partial(handleEvent, 'click');
const onClickLog = partial(onClick, (e) => console.log('Clicked:', e.target));
// onClickLog(someButton); // Attaches click handler
// API configuration
function fetchWithConfig(baseUrl, headers, endpoint) {
  return fetch(baseUrl + endpoint, { headers });
}
const apiClient = partial(fetchWithConfig, 
  'https://api.example.com',
  { 'Authorization': 'Bearer token123' }
);
await apiClient('/users');
await apiClient('/posts');
\`\`\`
---
## MEMOIZATION
Memoization caches the results of expensive function calls and returns the cached result when the same inputs occur again.
\`\`\`js
// ========================================
// BASIC MEMOIZATION
// ========================================
function memoize(fn) {
  const cache = new Map();
  return function(...args) {
    const key = JSON.stringify(args);
    if (cache.has(key)) {
      console.log('Cache hit for:', key);
      return cache.get(key);
    }
    console.log('Computing for:', key);
    const result = fn.apply(this, args);
    cache.set(key, result);
    return result;
  };
}
// Expensive function
function fibonacci(n) {
  if (n <= 1) return n;
  return fibonacci(n - 1) + fibonacci(n - 2);
}
// Without memoization: fibonacci(40) takes seconds
// With memoization: instant after first call
const memoizedFib = memoize(function fib(n) {
  if (n <= 1) return n;
  return memoizedFib(n - 1) + memoizedFib(n - 2);
});
console.log(memoizedFib(40)); // Computes once
console.log(memoizedFib(40)); // Cache hit!
// ========================================
// MEMOIZATION WITH CUSTOM KEY FUNCTION
// ========================================
function memoizeWithKeyFn(fn, keyFn) {
  const cache = new Map();
  return function(...args) {
    const key = keyFn ? keyFn(...args) : JSON.stringify(args);
    if (cache.has(key)) {
      return cache.get(key);
    }
    const result = fn.apply(this, args);
    cache.set(key, result);
    return result;
  };
}
// For objects, we might want a custom key
const getUser = memoizeWithKeyFn(
  async function(query) {
    const response = await fetch(\`/api/users?\${new URLSearchParams(query)}\`);
    return response.json();
  },
  (query) => query.id // Use only id for cache key
);
// ========================================
// MEMOIZATION WITH TTL (Time To Live)
// ========================================
function memoizeWithTTL(fn, ttlMs) {
  const cache = new Map();
  return function(...args) {
    const key = JSON.stringify(args);
    const cached = cache.get(key);
    if (cached && Date.now() - cached.timestamp < ttlMs) {
      console.log('Cache hit (not expired)');
      return cached.value;
    }
    console.log('Computing (cache miss or expired)');
    const result = fn.apply(this, args);
    cache.set(key, { value: result, timestamp: Date.now() });
    return result;
  };
}
const getPrice = memoizeWithTTL(
  function(productId) {
    // Expensive API call
    return fetchProductPrice(productId);
  },
  60000 // Cache for 1 minute
);
// ========================================
// MEMOIZATION WITH MAX SIZE (LRU-like)
// ========================================
function memoizeWithMaxSize(fn, maxSize = 100) {
  const cache = new Map();
  return function(...args) {
    const key = JSON.stringify(args);
    if (cache.has(key)) {
      // Move to end (most recently used)
      const value = cache.get(key);
      cache.delete(key);
      cache.set(key, value);
      return value;
    }
    const result = fn.apply(this, args);
    if (cache.size >= maxSize) {
      // Delete oldest (first item)
      const firstKey = cache.keys().next().value;
      cache.delete(firstKey);
    }
    cache.set(key, result);
    return result;
  };
}
// ========================================
// WHEN TO USE MEMOIZATION
// ========================================
//  GOOD USE CASES:
// 1. Pure functions (same input = same output)
// 2. Expensive computations
// 3. Functions called frequently with same args
// 4. Recursive functions (like fibonacci)
//  BAD USE CASES:
// 1. Functions with side effects
// 2. Functions that return different values for same input (Date.now())
// 3. Functions with object/array args that change (use custom key fn)
// 4. When memory is limited
\`\`\`
---
## RECURSION
Recursion is when a function calls itself. It's essential for tree traversal, divide-and-conquer algorithms, and many other patterns.
\`\`\`js
// ========================================
// BASIC RECURSION
// ========================================
function factorial(n) {
  // Base case: stop recursion
  if (n <= 1) return 1;
  // Recursive case: call itself
  return n * factorial(n - 1);
}
console.log(factorial(5)); // 120 (5 * 4 * 3 * 2 * 1)
// How it works:
// factorial(5)
// 5 * factorial(4)
// 5 * 4 * factorial(3)
// 5 * 4 * 3 * factorial(2)
// 5 * 4 * 3 * 2 * factorial(1)
// 5 * 4 * 3 * 2 * 1
// 120
// ========================================
// TAIL RECURSION
// ========================================
// The recursive call is the LAST operation
// Some engines optimize this (Tail Call Optimization)
function factorialTail(n, accumulator = 1) {
  if (n <= 1) return accumulator;
  return factorialTail(n - 1, n * accumulator);
}
console.log(factorialTail(5)); // 120
// ========================================
// COMMON RECURSIVE PATTERNS
// ========================================
// 1. Sum array
function sumArray(arr, index = 0) {
  if (index >= arr.length) return 0;
  return arr[index] + sumArray(arr, index + 1);
}
console.log(sumArray([1, 2, 3, 4, 5])); // 15
// 2. Flatten nested arrays
function flatten(arr) {
  let result = [];
  for (const item of arr) {
    if (Array.isArray(item)) {
      result = result.concat(flatten(item));
    } else {
      result.push(item);
    }
  }
  return result;
}
console.log(flatten([1, [2, [3, [4]], 5]])); // [1, 2, 3, 4, 5]
// 3. Deep clone
function deepClone(obj) {
  if (obj === null || typeof obj !== 'object') {
    return obj;
  }
  if (Array.isArray(obj)) {
    return obj.map(item => deepClone(item));
  }
  const cloned = {};
  for (const key in obj) {
    if (obj.hasOwnProperty(key)) {
      cloned[key] = deepClone(obj[key]);
    }
  }
  return cloned;
}
// 4. Tree traversal
function traverseTree(node, callback) {
  if (!node) return;
  callback(node.value);
  traverseTree(node.left, callback);
  traverseTree(node.right, callback);
}
const tree = {
  value: 1,
  left: { value: 2, left: { value: 4 }, right: { value: 5 } },
  right: { value: 3, right: { value: 6 } }
};
const values = [];
traverseTree(tree, v => values.push(v));
console.log(values); // [1, 2, 4, 5, 3, 6]
// 5. Find in nested object
function findKey(obj, targetKey) {
  for (const key in obj) {
    if (key === targetKey) {
      return obj[key];
    }
    if (typeof obj[key] === 'object' && obj[key] !== null) {
      const result = findKey(obj[key], targetKey);
      if (result !== undefined) return result;
    }
  }
  return undefined;
}
const nested = { a: { b: { c: { target: 'found!' } } } };
console.log(findKey(nested, 'target')); // 'found!'
\`\`\`
### Avoiding Stack Overflow
\`\`\`js
// ========================================
// PROBLEM: Stack Overflow
// ========================================
function countDown(n) {
  if (n <= 0) return;
  console.log(n);
  countDown(n - 1);
}
// countDown(100000); // RangeError: Maximum call stack size exceeded
// ========================================
// SOLUTION 1: Convert to Iteration
// ========================================
function countDownIterative(n) {
  while (n > 0) {
    console.log(n);
    n--;
  }
}
countDownIterative(100000); // Works fine
// ========================================
// SOLUTION 2: Trampoline
// ========================================
function trampoline(fn) {
  return function trampolined(...args) {
    let result = fn.apply(this, args);
    while (typeof result === 'function') {
      result = result();
    }
    return result;
  };
}
// Wrap recursive function
function countDownTrampoline(n) {
  if (n <= 0) return 'done';
  console.log(n);
  // Return a function instead of calling recursively
  return () => countDownTrampoline(n - 1);
}
const safeCountDown = trampoline(countDownTrampoline);
safeCountDown(100000); // Works!
// ========================================
// SOLUTION 3: Continuation Passing Style (CPS)
// ========================================
function factorialCPS(n, continuation = (x) => x) {
  if (n <= 1) return continuation(1);
  return factorialCPS(n - 1, (result) => continuation(n * result));
}
// Still can overflow, but can be combined with trampoline
\`\`\`
---
## COMMON INTERVIEW QUESTIONS
### Q1: What's the difference between function declaration and expression?
\`\`\`js
// Declaration - Hoisted, can call before definition
sayHello(); // Works!
function sayHello() {
  console.log('Hello');
}
// Expression - NOT hoisted
// greet(); // TypeError: greet is not a function
const greet = function() {
  console.log('Greet');
};
greet(); // Works here
// Key differences:
// 1. Hoisting behavior
// 2. Named expressions have name only inside function
// 3. Declarations must have names
\`\`\`
### Q2: Explain 'this' in arrow functions
\`\`\`js
const obj = {
  name: 'Object',
  regular() {
    console.log(this.name); // 'Object'
  },
  arrow: () => {
    console.log(this.name); // undefined (from enclosing scope)
  },
  nested() {
    setTimeout(function() {
      console.log(this.name); // undefined
    }, 100);
    setTimeout(() => {
      console.log(this.name); // 'Object' (inherited from nested)
    }, 100);
  }
};
// Arrow functions don't have their own 'this'
// They inherit from enclosing lexical scope
\`\`\`
### Q3: Implement curry function
\`\`\`js
function curry(fn) {
  return function curried(...args) {
    if (args.length >= fn.length) {
      return fn.apply(this, args);
    }
    return function(...moreArgs) {
      return curried.apply(this, args.concat(moreArgs));
    };
  };
}
const add = (a, b, c) => a + b + c;
const curriedAdd = curry(add);
console.log(curriedAdd(1)(2)(3)); // 6
console.log(curriedAdd(1, 2)(3)); // 6
console.log(curriedAdd(1)(2, 3)); // 6
\`\`\`
### Q4: Implement compose and pipe
\`\`\`js
// compose: right to left
const compose = (...fns) => x => 
  fns.reduceRight((acc, fn) => fn(acc), x);
// pipe: left to right
const pipe = (...fns) => x => 
  fns.reduce((acc, fn) => fn(acc), x);
const add1 = x => x + 1;
const mult2 = x => x * 2;
console.log(compose(mult2, add1)(5)); // 12: (5+1)*2
console.log(pipe(add1, mult2)(5));    // 12: (5+1)*2
\`\`\`
### Q5: Implement memoize
\`\`\`js
function memoize(fn) {
  const cache = new Map();
  return function(...args) {
    const key = JSON.stringify(args);
    if (!cache.has(key)) {
      cache.set(key, fn.apply(this, args));
    }
    return cache.get(key);
  };
}
const expensiveOp = memoize((n) => {
  console.log('Computing...');
  return n * n;
});
console.log(expensiveOp(5)); // "Computing..." 25
console.log(expensiveOp(5)); // 25 (cached)
\`\`\`
### Q6: What's the output?
\`\`\`js
var a = 1;
function outer() {
  var a = 2;
  function inner() {
    console.log(a);
    var a = 3;
  }
  inner();
}
outer();
// Output: undefined
// Because 'var a = 3' is hoisted inside inner()
// So 'a' exists but is undefined when logged
\`\`\`
### Q7: Implement once function
\`\`\`js
function once(fn) {
  let called = false;
  let result;
  return function(...args) {
    if (!called) {
      called = true;
      result = fn.apply(this, args);
    }
    return result;
  };
}
const init = once(() => {
  console.log('Initializing...');
  return 'done';
});
console.log(init()); // "Initializing..." "done"
console.log(init()); // "done" (no log)
console.log(init()); // "done" (no log)
\`\`\`
### Q8: Explain IIFE and its use cases
\`\`\`js
// IIFE = Immediately Invoked Function Expression
(function() {
  // Private scope
  var secret = 'hidden';
})();
// Use cases:
// 1. Avoid global pollution
// 2. Module pattern
// 3. Initialization code
// 4. Creating closures in loops
const counter = (function() {
  let count = 0;
  return {
    increment: () => ++count,
    getCount: () => count
  };
})();
counter.increment();
console.log(counter.getCount()); // 1
\`\`\`
---
## QUICK REFERENCE CHEAT SHEET
| Type | Syntax | Hoisted | Has 'this' | Has 'arguments' |
|------|--------|---------|------------|-----------------|
| Declaration | \`function name() {}\` | Yes | Yes | Yes |
| Expression | \`const fn = function() {}\` | No | Yes | Yes |
| Arrow | \`const fn = () => {}\` | No | No (lexical) | No |
| Generator | \`function* gen() {}\` | Yes | Yes | Yes |
| Async | \`async function fn() {}\` | Yes | Yes | Yes |
---
## KEY TAKEAWAYS FOR INTERVIEWS
1. **Know all function types** - Declaration, expression, arrow, IIFE, generator, async
2. **Understand hoisting** - Declarations are hoisted, expressions are not
3. **Master arrow functions** - Lexical this, no arguments, can't be constructors
4. **Know this binding** - Regular functions vs arrow functions
5. **Understand closures** - Functions remember their lexical scope
6. **Pure functions matter** - Same input = same output, no side effects
7. **Higher-order functions** - Functions that take/return functions
8. **Composition patterns** - compose, pipe, curry, partial application
9. **Memoization** - Cache expensive computations
10. **Recursion** - Base case + recursive case, watch for stack overflow`,language:"javascript"},{id:"interview-currying",title:"Currying & Partial Application",content:`# Currying & Partial Application - Complete Interview Guide

## What is Currying?
Currying is transforming a function that takes multiple arguments into a sequence of functions, each taking one argument at a time. Instead of calling f(a, b, c), you call f(a)(b)(c).

## Simple Analogy
Think of ordering a custom pizza:
- **Normal function**: "I want a large pepperoni pizza with extra cheese" (all at once)
- **Curried function**: "I want large"  "pepperoni"  "extra cheese" (one choice at a time)

Each step returns a function waiting for the next piece of information!

## Why Do Interviewers Ask About Currying?
- Tests understanding of closures and higher-order functions
- Shows functional programming knowledge
- Common in libraries like Lodash, Ramda, and React (Redux)
- Demonstrates ability to write reusable, composable code

## Real-World Uses
- Configuration functions (logging, API calls)
- Event handlers with pre-set parameters
- Creating specialized functions from general ones
- Function composition and pipelines

---

# UNDERSTANDING CURRYING STEP BY STEP

## Regular Function vs Curried Function
\`\`\`js
// Regular function - takes all arguments at once
function regularAdd(a, b, c) {
  return a + b + c;
}
console.log(regularAdd(1, 2, 3)); // 6

// Curried function - takes one argument at a time
function curriedAdd(a) {
  return function(b) {
    return function(c) {
      return a + b + c;
    };
  };
}
console.log(curriedAdd(1)(2)(3)); // 6

// How it works step by step:
const step1 = curriedAdd(1);    // Returns function waiting for b
const step2 = step1(2);         // Returns function waiting for c
const step3 = step2(3);         // Returns 6
console.log(step1); // [Function]
console.log(step2); // [Function]
console.log(step3); // 6
\`\`\`

## Arrow Function Syntax (Cleaner!)
\`\`\`js
// Regular curried function (verbose)
function curriedAdd(a) {
  return function(b) {
    return function(c) {
      return a + b + c;
    };
  };
}

// Arrow function curried (concise)
const curriedAddArrow = a => b => c => a + b + c;

// Both work the same way
console.log(curriedAdd(1)(2)(3));      // 6
console.log(curriedAddArrow(1)(2)(3)); // 6

// Reading arrow curry: a => b => c => a + b + c
// "Takes a, returns function that takes b, 
//  returns function that takes c, returns a + b + c"
\`\`\`

## Why Does Currying Work? (Closures!)
\`\`\`js
// Currying works because of closures
// Each inner function "remembers" the outer variables

const curriedAdd = a => {
  // 'a' is captured in this closure
  return b => {
    // 'a' and 'b' are captured in this closure
    return c => {
      // 'a', 'b', and 'c' are all available here
      return a + b + c;
    };
  };
};

// When we call curriedAdd(1), it returns a function
// that has access to a=1 via closure

const add1 = curriedAdd(1);
// add1 has a=1 "baked in"

const add1and2 = add1(2);
// add1and2 has a=1, b=2 "baked in"

console.log(add1and2(3)); // 6 (1 + 2 + 3)
console.log(add1and2(10)); // 13 (1 + 2 + 10)
\`\`\`

---

# INTERVIEW FAVORITE: sum(1)(2)(3)

## Basic Implementation
\`\`\`js
// Question: Implement a function where sum(1)(2)(3) returns 6

// Solution 1: Fixed number of arguments
function sum(a) {
  return function(b) {
    return function(c) {
      return a + b + c;
    };
  };
}
console.log(sum(1)(2)(3)); // 6

// Solution 2: Arrow function
const sumArrow = a => b => c => a + b + c;
console.log(sumArrow(1)(2)(3)); // 6
\`\`\`

## Follow-up: Make It Work for Any Number of Arguments
\`\`\`js
// Question: What if we want sum(1)(2)(3)(4)(5)...?

// Solution 1: Call with empty () to get result
function infiniteSum(a) {
  return function(b) {
    if (b === undefined) {
      return a; // No more arguments, return sum
    }
    return infiniteSum(a + b); // Continue summing
  };
}

console.log(infiniteSum(1)(2)(3)(4)()); // 10
console.log(infiniteSum(5)(10)());       // 15

// How it works:
// infiniteSum(1) returns function, stores a=1
// (2) returns infiniteSum(3), stores a=3
// (3) returns infiniteSum(6), stores a=6
// (4) returns infiniteSum(10), stores a=10
// () calls with b=undefined, returns 10
\`\`\`

## Advanced: Using valueOf/toString
\`\`\`js
// Question: Make sum(1)(2)(3) work without final ()

// When JavaScript needs a primitive value (like in arithmetic),
// it calls valueOf() or toString()

function sum(a) {
  const innerFunc = function(b) {
    return sum(a + b);
  };
  
  // Called when JS needs a number
  innerFunc.valueOf = function() {
    return a;
  };
  
  // Called when JS needs a string
  innerFunc.toString = function() {
    return String(a);
  };
  
  return innerFunc;
}

// Works because valueOf is called when coercing to number
console.log(sum(1)(2)(3) + 0);  // 6
console.log(sum(1)(2)(3) == 6); // true
console.log(+sum(1)(2)(3));     // 6

// Works because toString is called
console.log(\`Result: \${sum(1)(2)(3)}\`); // "Result: 6"

// But direct comparison doesn't work (no coercion)
console.log(sum(1)(2)(3) === 6); // false (it's a function!)
console.log(typeof sum(1)(2)(3)); // "function"
\`\`\`

## Using Reduce for Cleaner Code
\`\`\`js
function sum(...args) {
  const total = args.reduce((acc, val) => acc + val, 0);
  
  const innerFunc = function(...moreArgs) {
    return sum(total, ...moreArgs);
  };
  
  innerFunc.valueOf = () => total;
  innerFunc.toString = () => String(total);
  
  return innerFunc;
}

// Now supports multiple arguments at each call!
console.log(sum(1, 2)(3, 4)(5) + 0); // 15
console.log(sum(1)(2)(3)(4)(5) + 0); // 15
\`\`\`

---

# GENERIC CURRY FUNCTION

## The Classic Interview Question
\`\`\`js
// Question: Implement a curry function that can curry any function

function curry(fn) {
  // Return a curried version of fn
  return function curried(...args) {
    // If we have enough arguments, call the original function
    if (args.length >= fn.length) {
      return fn.apply(this, args);
    }
    // Otherwise, return a function that waits for more arguments
    return function(...moreArgs) {
      return curried.apply(this, args.concat(moreArgs));
    };
  };
}

// fn.length gives the number of expected parameters
function add(a, b, c) {
  return a + b + c;
}
console.log(add.length); // 3

// Usage
const curriedAdd = curry(add);

// All these work!
console.log(curriedAdd(1)(2)(3));   // 6 - one at a time
console.log(curriedAdd(1, 2)(3));   // 6 - two then one
console.log(curriedAdd(1)(2, 3));   // 6 - one then two
console.log(curriedAdd(1, 2, 3));   // 6 - all at once
\`\`\`

## Step-by-Step Walkthrough
\`\`\`js
function curry(fn) {
  return function curried(...args) {
    console.log('Called with:', args, 'Need:', fn.length);
    
    if (args.length >= fn.length) {
      console.log('Enough args! Calling original function');
      return fn.apply(this, args);
    }
    
    console.log('Not enough args, returning new function');
    return function(...moreArgs) {
      console.log('More args:', moreArgs);
      return curried.apply(this, args.concat(moreArgs));
    };
  };
}

const add = (a, b, c) => a + b + c;
const curriedAdd = curry(add);

curriedAdd(1)(2)(3);
// Called with: [1] Need: 3
// Not enough args, returning new function
// More args: [2]
// Called with: [1, 2] Need: 3
// Not enough args, returning new function
// More args: [3]
// Called with: [1, 2, 3] Need: 3
// Enough args! Calling original function
// 6
\`\`\`

## Arrow Function Version
\`\`\`js
const curry = fn => {
  const curried = (...args) =>
    args.length >= fn.length
      ? fn(...args)
      : (...moreArgs) => curried(...args, ...moreArgs);
  return curried;
};

// Usage
const multiply = (a, b, c) => a * b * c;
const curriedMultiply = curry(multiply);

console.log(curriedMultiply(2)(3)(4)); // 24
\`\`\`

## Handling Edge Cases
\`\`\`js
function curry(fn) {
  // Handle functions with no parameters
  if (fn.length === 0) {
    return fn;
  }
  
  return function curried(...args) {
    // Handle extra arguments
    if (args.length >= fn.length) {
      return fn.apply(this, args.slice(0, fn.length));
    }
    return function(...moreArgs) {
      return curried.apply(this, args.concat(moreArgs));
    };
  };
}

// Edge case: function with default parameters
// Note: fn.length doesn't count parameters with defaults!
const withDefault = (a, b = 2) => a + b;
console.log(withDefault.length); // 1 (only counts 'a')

const curriedDefault = curry(withDefault);
console.log(curriedDefault(5)); // 7 (uses default b=2)

// Edge case: rest parameters
// fn.length doesn't count rest parameters
const withRest = (a, ...rest) => a + rest.length;
console.log(withRest.length); // 1 (only counts 'a')
\`\`\`

---

# PARTIAL APPLICATION

## What is Partial Application?
Partial application is fixing some arguments of a function and returning a new function that takes the remaining arguments. Unlike currying, you can fix multiple arguments at once.

## Currying vs Partial Application
\`\`\`js
// Original function
function add(a, b, c) {
  return a + b + c;
}

// CURRYING: Transforms into sequence of single-argument functions
// f(a, b, c)  f(a)(b)(c)
const curriedAdd = a => b => c => a + b + c;
console.log(curriedAdd(1)(2)(3)); // 6

// PARTIAL APPLICATION: Pre-fills some arguments
// f(a, b, c) with a=1  g(b, c)
function partial(fn, ...presetArgs) {
  return function(...laterArgs) {
    return fn(...presetArgs, ...laterArgs);
  };
}

const add1 = partial(add, 1);        // a is fixed to 1
console.log(add1(2, 3));             // 6

const add1and2 = partial(add, 1, 2); // a and b are fixed
console.log(add1and2(3));            // 6
\`\`\`

## Implementing Partial Application
\`\`\`js
// Basic partial application
function partial(fn, ...presetArgs) {
  return function(...laterArgs) {
    return fn(...presetArgs, ...laterArgs);
  };
}

// Example: Greeting function
function greet(greeting, name, punctuation) {
  return \`\${greeting}, \${name}\${punctuation}\`;
}

// Create specialized functions
const sayHello = partial(greet, 'Hello');
console.log(sayHello('John', '!'));     // "Hello, John!"
console.log(sayHello('Jane', '?'));     // "Hello, Jane?"

const sayHelloToJohn = partial(greet, 'Hello', 'John');
console.log(sayHelloToJohn('!'));       // "Hello, John!"
console.log(sayHelloToJohn('...'));     // "Hello, John..."

const exactGreeting = partial(greet, 'Hi', 'Bob', '!');
console.log(exactGreeting());           // "Hi, Bob!"
\`\`\`

## Using bind() for Partial Application
\`\`\`js
// JavaScript's bind() can do partial application!
// First argument is 'this', rest are preset arguments

function greet(greeting, name, punctuation) {
  return \`\${greeting}, \${name}\${punctuation}\`;
}

// Using bind (first arg is 'this' context, use null if not needed)
const sayHi = greet.bind(null, 'Hi');
console.log(sayHi('Jane', '.')); // "Hi, Jane."

const sayHiToJane = greet.bind(null, 'Hi', 'Jane');
console.log(sayHiToJane('!')); // "Hi, Jane!"

// With methods (preserving 'this')
const obj = {
  multiplier: 2,
  multiply(a, b, c) {
    return (a + b + c) * this.multiplier;
  }
};

const multiplyWith5 = obj.multiply.bind(obj, 5);
console.log(multiplyWith5(3, 2)); // (5 + 3 + 2) * 2 = 20
\`\`\`

## Partial Application with Placeholders
\`\`\`js
// Advanced: Allow filling arguments in any order using placeholders

const _ = Symbol('placeholder'); // Unique placeholder

function partialWithPlaceholders(fn, ...presetArgs) {
  return function(...laterArgs) {
    // Replace placeholders with actual arguments
    const args = presetArgs.map(arg => 
      arg === _ ? laterArgs.shift() : arg
    );
    // Add any remaining arguments
    return fn(...args, ...laterArgs);
  };
}

function greet(greeting, name, punctuation) {
  return \`\${greeting}, \${name}\${punctuation}\`;
}

// Fix just the name (middle argument)
const greetJohn = partialWithPlaceholders(greet, _, 'John', _);
console.log(greetJohn('Hello', '!'));  // "Hello, John!"
console.log(greetJohn('Hi', '?'));     // "Hi, John?"

// Fix first and last
const helloWith = partialWithPlaceholders(greet, 'Hello', _, '!');
console.log(helloWith('Jane'));        // "Hello, Jane!"
console.log(helloWith('Bob'));         // "Hello, Bob!"
\`\`\`

---

# PRACTICAL REAL-WORLD EXAMPLES

## Example 1: Logging with Curry
\`\`\`js
// Create a configurable logger
const log = level => component => message => {
  const timestamp = new Date().toISOString();
  console.log(\`[\${timestamp}] [\${level}] [\${component}] \${message}\`);
};

// Create specialized loggers
const errorLog = log('ERROR');
const authErrorLog = errorLog('AUTH');
const dbErrorLog = errorLog('DATABASE');

const infoLog = log('INFO');
const apiInfoLog = infoLog('API');

// Use them
authErrorLog('Invalid credentials');
// [2024-01-15T10:30:00.000Z] [ERROR] [AUTH] Invalid credentials

dbErrorLog('Connection failed');
// [2024-01-15T10:30:00.000Z] [ERROR] [DATABASE] Connection failed

apiInfoLog('Request received');
// [2024-01-15T10:30:00.000Z] [INFO] [API] Request received

// Each specialized logger "remembers" its configuration via closures!
\`\`\`

## Example 2: API URL Builder
\`\`\`js
// Curried URL builder
const createURL = baseURL => endpoint => params => {
  const queryString = new URLSearchParams(params).toString();
  return queryString 
    ? \`\${baseURL}\${endpoint}?\${queryString}\`
    : \`\${baseURL}\${endpoint}\`;
};

// Create specialized builders
const apiURL = createURL('https://api.example.com');
const usersEndpoint = apiURL('/users');
const productsEndpoint = apiURL('/products');

// Build specific URLs
console.log(usersEndpoint({ page: 1, limit: 10 }));
// "https://api.example.com/users?page=1&limit=10"

console.log(usersEndpoint({ id: 123 }));
// "https://api.example.com/users?id=123"

console.log(productsEndpoint({ category: 'electronics', sort: 'price' }));
// "https://api.example.com/products?category=electronics&sort=price"

// Different base URL for testing
const testURL = createURL('http://localhost:3000');
const testUsers = testURL('/users');
console.log(testUsers({ test: true }));
// "http://localhost:3000/users?test=true"
\`\`\`

## Example 3: Event Handler Factory
\`\`\`js
// Curried event handler creator
const createHandler = eventType => element => callback => {
  element.addEventListener(eventType, callback);
  // Return cleanup function
  return () => element.removeEventListener(eventType, callback);
};

// Create specialized handlers
const onClick = createHandler('click');
const onSubmit = createHandler('submit');
const onKeyPress = createHandler('keypress');

// Usage (in a real app with DOM elements)
// const button = document.querySelector('#myButton');
// const form = document.querySelector('#myForm');

// const removeClickListener = onClick(button)(() => {
//   console.log('Button clicked!');
// });

// const removeSubmitListener = onSubmit(form)((e) => {
//   e.preventDefault();
//   console.log('Form submitted!');
// });

// Later: cleanup
// removeClickListener();
// removeSubmitListener();
\`\`\`

## Example 4: Validation Functions
\`\`\`js
// Curried validators
const validate = type => config => value => {
  switch(type) {
    case 'minLength':
      return value.length >= config.min;
    case 'maxLength':
      return value.length <= config.max;
    case 'pattern':
      return config.regex.test(value);
    case 'range':
      return value >= config.min && value <= config.max;
    default:
      return true;
  }
};

// Create specific validators
const minLength = validate('minLength');
const maxLength = validate('maxLength');
const pattern = validate('pattern');
const range = validate('range');

// Create even more specific validators
const minLength5 = minLength({ min: 5 });
const maxLength20 = maxLength({ max: 20 });
const isEmail = pattern({ regex: /^[^s@]+@[^s@]+.[^s@]+$/ });
const isAdult = range({ min: 18, max: 120 });

// Use them
console.log(minLength5('hello'));     // true
console.log(minLength5('hi'));        // false
console.log(isEmail('test@email.com')); // true
console.log(isEmail('invalid'));      // false
console.log(isAdult(25));             // true
console.log(isAdult(15));             // false

// Combine validators
const validateUsername = value => 
  minLength5(value) && maxLength20(value);

console.log(validateUsername('john')); // false (too short)
console.log(validateUsername('john_doe')); // true
\`\`\`

## Example 5: Math Operations
\`\`\`js
// Curried math functions
const add = a => b => a + b;
const multiply = a => b => a * b;
const subtract = a => b => a - b;
const divide = a => b => a / b;
const power = base => exponent => Math.pow(base, exponent);

// Create specialized functions
const add10 = add(10);
const double = multiply(2);
const triple = multiply(3);
const half = divide(2); // Note: divide(2)(10) = 10/2, not 2/10!
const square = power(2); // Hmm, this is exponent 2, not base 2

// Wait, let me fix the divide and power for intuition:
const divideBy = divisor => value => value / divisor;
const powerOf = exponent => base => Math.pow(base, exponent);

const halve = divideBy(2);
const square2 = powerOf(2);
const cube = powerOf(3);

console.log(add10(5));     // 15
console.log(double(7));    // 14
console.log(triple(4));    // 12
console.log(halve(10));    // 5
console.log(square2(5));   // 25
console.log(cube(3));      // 27

// Chain operations
const process = value => cube(double(add10(value)));
console.log(process(5)); // ((5 + 10) * 2)^3 = 30^3 = 27000
\`\`\`

## Example 6: React/Redux Style Patterns
\`\`\`js
// Redux-style action creator (curried)
const createAction = type => payload => ({
  type,
  payload,
  timestamp: Date.now()
});

const addUser = createAction('ADD_USER');
const removeUser = createAction('REMOVE_USER');
const updateUser = createAction('UPDATE_USER');

console.log(addUser({ name: 'John', age: 30 }));
// { type: 'ADD_USER', payload: { name: 'John', age: 30 }, timestamp: ... }

console.log(removeUser({ id: 123 }));
// { type: 'REMOVE_USER', payload: { id: 123 }, timestamp: ... }

// Higher-order component pattern (simplified)
const withLoading = Component => props => {
  if (props.isLoading) {
    return 'Loading...';
  }
  return Component(props);
};

// Usage:
// const EnhancedList = withLoading(List);
\`\`\`

---

# CURRY WITH PLACEHOLDER (ADVANCED)

## Interview Challenge: Implement Placeholder Support
\`\`\`js
// Question: Implement curry that supports placeholders
// curry(fn)(_, 2)(1, 3) should work like fn(1, 2, 3)

const _ = Symbol('placeholder');

function curry(fn) {
  return function curried(...args) {
    // Check if we have enough non-placeholder arguments
    const complete = args.length >= fn.length &&
                     !args.slice(0, fn.length).includes(_);
    
    if (complete) {
      return fn.apply(this, args);
    }
    
    // Return function to accept more arguments
    return function(...newArgs) {
      // Replace placeholders with new arguments
      const mergedArgs = args.map(arg => {
        if (arg === _ && newArgs.length > 0) {
          return newArgs.shift(); // Take from newArgs
        }
        return arg;
      });
      
      // Add any remaining new arguments
      return curried.apply(this, [...mergedArgs, ...newArgs]);
    };
  };
}

// Usage
const join = (a, b, c) => \`\${a}-\${b}-\${c}\`;
const curriedJoin = curry(join);

console.log(curriedJoin(1, 2, 3));      // "1-2-3"
console.log(curriedJoin(1)(2)(3));      // "1-2-3"
console.log(curriedJoin(1, 2)(3));      // "1-2-3"
console.log(curriedJoin(_, 2)(1, 3));   // "1-2-3"
console.log(curriedJoin(_, _, 3)(1)(2)); // "1-2-3"
console.log(curriedJoin(_, 2, _)(1, 3)); // "1-2-3"
console.log(curriedJoin(_, _, _)(1)(2)(3)); // "1-2-3"
\`\`\`

## Step-by-Step Explanation
\`\`\`js
const _ = Symbol('placeholder');

function curry(fn) {
  return function curried(...args) {
    console.log('Current args:', args.map(a => a === _ ? '_' : a));
    
    const complete = args.length >= fn.length &&
                     !args.slice(0, fn.length).includes(_);
    
    console.log('Complete?', complete);
    
    if (complete) {
      return fn.apply(this, args);
    }
    
    return function(...newArgs) {
      console.log('New args:', newArgs);
      
      const mergedArgs = args.map(arg => {
        if (arg === _ && newArgs.length > 0) {
          const replacement = newArgs.shift();
          console.log('Replacing _ with', replacement);
          return replacement;
        }
        return arg;
      });
      
      console.log('Merged args:', mergedArgs.map(a => a === _ ? '_' : a));
      return curried.apply(this, [...mergedArgs, ...newArgs]);
    };
  };
}

const join = (a, b, c) => \`\${a}-\${b}-\${c}\`;
const curriedJoin = curry(join);

curriedJoin(_, 2, _)(1)(3);
// Current args: ['_', 2, '_']
// Complete? false
// New args: [1]
// Replacing _ with 1
// Merged args: [1, 2, '_']
// Current args: [1, 2, '_']
// Complete? false
// New args: [3]
// Replacing _ with 3
// Merged args: [1, 2, 3]
// Current args: [1, 2, 3]
// Complete? true
// "1-2-3"
\`\`\`

---

# FUNCTION COMPOSITION WITH CURRY

## Compose and Pipe
\`\`\`js
// Compose: Right to left execution
const compose = (...fns) => x => fns.reduceRight((acc, fn) => fn(acc), x);

// Pipe: Left to right execution  
const pipe = (...fns) => x => fns.reduce((acc, fn) => fn(acc), x);

// Curried utility functions
const add = a => b => a + b;
const multiply = a => b => a * b;
const subtract = a => b => b - a; // Note: b - a for easier composition

// Create specialized functions
const add5 = add(5);
const double = multiply(2);
const subtract3 = subtract(3);

// Compose them
const processCompose = compose(subtract3, double, add5);
// Reads right to left: add 5, then double, then subtract 3

const processPipe = pipe(add5, double, subtract3);
// Reads left to right: add 5, then double, then subtract 3

console.log(processCompose(10)); // ((10 + 5) * 2) - 3 = 27
console.log(processPipe(10));    // ((10 + 5) * 2) - 3 = 27

// More readable pipeline
const calculateTax = pipe(
  add(100),      // Add base fee
  multiply(1.1), // Add 10% tax
  Math.round     // Round to whole number
);

console.log(calculateTax(500)); // (500 + 100) * 1.1 = 660
\`\`\`

## Real-World Composition Example
\`\`\`js
// Data transformation pipeline
const users = [
  { name: 'John', age: 25, active: true },
  { name: 'Jane', age: 17, active: true },
  { name: 'Bob', age: 30, active: false },
  { name: 'Alice', age: 22, active: true }
];

// Curried array methods
const filter = predicate => array => array.filter(predicate);
const map = transform => array => array.map(transform);
const sort = compareFn => array => [...array].sort(compareFn);

// Curried predicates and transforms
const isActive = user => user.active;
const isAdult = user => user.age >= 18;
const getName = user => user.name;
const alphabetical = (a, b) => a.localeCompare(b);

// Compose the pipeline
const getActiveAdultNames = pipe(
  filter(isActive),
  filter(isAdult),
  map(getName),
  sort(alphabetical)
);

console.log(getActiveAdultNames(users));
// ['Alice', 'John']
\`\`\`

---

# COMMON INTERVIEW QUESTIONS

## Question 1: Implement multiply(2)(3)(4)
\`\`\`js
// Basic solution
const multiply = a => b => c => a * b * c;
console.log(multiply(2)(3)(4)); // 24

// Flexible solution (any number of args)
function multiply(...args) {
  const product = args.reduce((acc, val) => acc * val, 1);
  
  const inner = function(...moreArgs) {
    return multiply(product, ...moreArgs);
  };
  
  inner.valueOf = () => product;
  inner.toString = () => String(product);
  
  return inner;
}

console.log(multiply(2)(3)(4) + 0); // 24
console.log(multiply(2, 3)(4, 5) + 0); // 120
\`\`\`

## Question 2: Implement add(1, 2)(3, 4)(5)
\`\`\`js
// Variable arguments per call
function add(...args) {
  let sum = args.reduce((a, b) => a + b, 0);
  
  const inner = function(...moreArgs) {
    sum += moreArgs.reduce((a, b) => a + b, 0);
    return inner;
  };
  
  inner.valueOf = () => sum;
  inner.toString = () => String(sum);
  
  return inner;
}

console.log(add(1, 2)(3, 4)(5) + 0); // 15
console.log(add(1)(2)(3)(4)(5) + 0); // 15
\`\`\`

## Question 3: What's the Output?
\`\`\`js
const curry = fn => {
  const curried = (...args) =>
    args.length >= fn.length
      ? fn(...args)
      : (...more) => curried(...args, ...more);
  return curried;
};

const sum = curry((a, b, c) => a + b + c);

console.log(sum(1)(2)(3));   // 6
console.log(sum(1, 2)(3));   // 6
console.log(sum(1)(2, 3));   // 6
console.log(sum(1, 2, 3));   // 6
console.log(sum()(1)(2)(3)); // [Function] - empty call returns new function!
console.log(sum(1, 2, 3, 4)); // 6 - extra arg ignored
\`\`\`

## Question 4: Why Use Currying?
\`\`\`js
// Answer: Creates reusable, specialized functions

// Without currying - repetitive
fetch('/api/users?status=active');
fetch('/api/posts?status=active');
fetch('/api/comments?status=active');

// With currying - reusable
const fetchWithStatus = status => endpoint => 
  fetch(\`\${endpoint}?status=\${status}\`);

const fetchActive = fetchWithStatus('active');
fetchActive('/api/users');
fetchActive('/api/posts');
fetchActive('/api/comments');

// Benefits:
// 1. Code reuse
// 2. Better readability
// 3. Easier testing (test each layer separately)
// 4. Function composition
// 5. Delayed execution
\`\`\`

---

# QUICK REFERENCE

## Currying vs Partial Application
| Feature | Currying | Partial Application |
|---------|----------|---------------------|
| Transformation | f(a,b,c)  f(a)(b)(c) | f(a,b,c)  g(c) |
| Arguments per call | One at a time | Any number |
| Returns | Function (until complete) | Function with preset args |
| Use case | Function composition | Creating specialized functions |

## Key Formulas
\`\`\`js
// Basic curry
const curry = a => b => c => a + b + c;

// Generic curry
const curry = fn => (...args) =>
  args.length >= fn.length
    ? fn(...args)
    : (...more) => curry(fn)(...args, ...more);

// Partial application
const partial = (fn, ...preset) => (...later) => fn(...preset, ...later);

// Using bind
const partial = fn.bind(null, arg1, arg2);

// Infinite curry with valueOf
function sum(a) {
  const f = b => sum(a + b);
  f.valueOf = () => a;
  return f;
}
\`\`\``,codeExample:`// Currying & Partial Application Cheat Sheet
// ==========================================

// BASIC CURRY
const add = a => b => c => a + b + c;
add(1)(2)(3); // 6

// GENERIC CURRY FUNCTION
function curry(fn) {
  return function curried(...args) {
    if (args.length >= fn.length) {
      return fn(...args);
    }
    return (...more) => curried(...args, ...more);
  };
}

// PARTIAL APPLICATION
function partial(fn, ...preset) {
  return (...later) => fn(...preset, ...later);
}

// USING BIND FOR PARTIAL
const greet = (a, b, c) => \`\${a}, \${b}\${c}\`;
const sayHello = greet.bind(null, 'Hello');
sayHello('John', '!'); // "Hello, John!"

// INFINITE SUM
function sum(a) {
  return function(b) {
    return b !== undefined ? sum(a + b) : a;
  };
}
sum(1)(2)(3)(); // 6

// WITH VALUEOF (no final call needed)
function sum(a) {
  const f = b => sum(a + b);
  f.valueOf = () => a;
  return f;
}
sum(1)(2)(3) + 0; // 6

// PRACTICAL: LOGGER
const log = level => module => msg =>
  console.log(\`[\${level}] [\${module}] \${msg}\`);
const errorLog = log('ERROR');
const dbError = errorLog('DB');
dbError('Connection failed');

// PRACTICAL: URL BUILDER
const url = base => path => params =>
  \`\${base}\${path}?\${new URLSearchParams(params)}\`;
const api = url('https://api.com');
const users = api('/users');
users({ page: 1 }); // "https://api.com/users?page=1"`,language:"javascript"},{id:"interview-coercion",title:"Type Coercion & Equality",content:`# Type Coercion & Equality - Complete Interview Guide

## What is Type Coercion?
Type coercion is JavaScript automatically converting one data type to another when needed. Think of it like JavaScript being "helpful" by converting values behind the scenes - but this "help" often causes unexpected bugs!

## Why Do Interviewers Love This Topic?
- Tests deep understanding of JavaScript behavior
- Reveals if you know the quirky parts of JS
- Shows awareness of common bug sources
- Essential for debugging weird issues

## Simple Analogy
Imagine you're a translator. When someone speaks French to an English speaker, you translate automatically. JavaScript does the same with data types - it "translates" numbers to strings, strings to numbers, etc. Sometimes the translation makes sense, sometimes it's bizarre!

---

# TYPES IN JAVASCRIPT

## Primitive Types (7 types)
\`\`\`js
// 1. String
const str = "Hello";
console.log(typeof str); // "string"

// 2. Number
const num = 42;
const float = 3.14;
console.log(typeof num); // "number"

// 3. Boolean
const bool = true;
console.log(typeof bool); // "boolean"

// 4. Undefined
let undef;
console.log(typeof undef); // "undefined"

// 5. Null (famous bug!)
const nothing = null;
console.log(typeof nothing); // "object" - THIS IS A BUG!

// 6. Symbol (ES6)
const sym = Symbol('id');
console.log(typeof sym); // "symbol"

// 7. BigInt (ES2020)
const big = 123n;
console.log(typeof big); // "bigint"
\`\`\`

## Non-Primitive Types
\`\`\`js
// Objects
const obj = { name: 'John' };
console.log(typeof obj); // "object"

// Arrays (are objects!)
const arr = [1, 2, 3];
console.log(typeof arr); // "object"
console.log(Array.isArray(arr)); // true - proper way to check

// Functions
const func = function() {};
console.log(typeof func); // "function"

// Special: Date, RegExp, Map, Set - all "object"
console.log(typeof new Date()); // "object"
console.log(typeof /regex/);    // "object"
\`\`\`

## Interview Favorite: typeof Quirks
\`\`\`js
// The famous quirks!
console.log(typeof null);           // "object" (historical bug since 1995!)
console.log(typeof undefined);      // "undefined"
console.log(typeof NaN);            // "number" (Not-a-Number is a number!)
console.log(typeof Infinity);       // "number"
console.log(typeof []);             // "object"
console.log(typeof {});             // "object"
console.log(typeof function(){});   // "function"

// How to properly check types
console.log(Array.isArray([]));           // true
console.log(value === null);              // check for null
console.log(Number.isNaN(NaN));           // true
console.log(Object.prototype.toString.call([])); // "[object Array]"
\`\`\`

---

# EXPLICIT COERCION (Type Casting)

Explicit coercion is when YOU tell JavaScript to convert a type. It's intentional and clear.

## Converting to String
\`\`\`js
// Method 1: String() constructor
console.log(String(123));       // "123"
console.log(String(true));      // "true"
console.log(String(false));     // "false"
console.log(String(null));      // "null"
console.log(String(undefined)); // "undefined"
console.log(String([1, 2, 3])); // "1,2,3"
console.log(String({a: 1}));    // "[object Object]"

// Method 2: .toString() method
console.log((123).toString());  // "123"
console.log(true.toString());   // "true"
// null.toString();              // TypeError!
// undefined.toString();         // TypeError!

// Method 3: Template literal
const num = 42;
console.log(\`\${num}\`);         // "42"

// Method 4: Concatenate with empty string
console.log(123 + '');          // "123"
console.log(true + '');         // "true"
\`\`\`

## Converting to Number
\`\`\`js
// Method 1: Number() constructor
console.log(Number('123'));     // 123
console.log(Number('123.45'));  // 123.45
console.log(Number(''));        // 0
console.log(Number('  '));      // 0 (whitespace only)
console.log(Number('hello'));   // NaN
console.log(Number('123abc'));  // NaN
console.log(Number(true));      // 1
console.log(Number(false));     // 0
console.log(Number(null));      // 0
console.log(Number(undefined)); // NaN
console.log(Number([]));        // 0
console.log(Number([1]));       // 1
console.log(Number([1, 2]));    // NaN
console.log(Number({}));        // NaN

// Method 2: parseInt() and parseFloat()
console.log(parseInt('123'));       // 123
console.log(parseInt('123.45'));    // 123 (truncates)
console.log(parseInt('123abc'));    // 123 (parses until non-digit)
console.log(parseInt('abc123'));    // NaN (starts with non-digit)
console.log(parseInt('  123  '));   // 123 (trims whitespace)
console.log(parseFloat('123.45'));  // 123.45
console.log(parseFloat('3.14more')); // 3.14

// Method 3: Unary plus (+)
console.log(+'123');     // 123
console.log(+'');        // 0
console.log(+true);      // 1
console.log(+false);     // 0
console.log(+null);      // 0
console.log(+undefined); // NaN
console.log(+[]);        // 0
console.log(+{});        // NaN

// Method 4: Multiply by 1 or subtract 0
console.log('123' * 1);  // 123
console.log('123' - 0);  // 123
\`\`\`

## Converting to Boolean
\`\`\`js
// Method 1: Boolean() constructor
console.log(Boolean(1));          // true
console.log(Boolean(0));          // false
console.log(Boolean('hello'));    // true
console.log(Boolean(''));         // false
console.log(Boolean(null));       // false
console.log(Boolean(undefined));  // false
console.log(Boolean([]));         // true (empty array is truthy!)
console.log(Boolean({}));         // true (empty object is truthy!)

// Method 2: Double NOT (!!)
console.log(!!1);          // true
console.log(!!0);          // false
console.log(!!'hello');    // true
console.log(!!'');         // false
console.log(!![]);         // true
console.log(!!null);       // false

// How !! works:
// !1 = false (NOT of truthy is false)
// !!1 = !false = true (NOT of false is true)
\`\`\`

---

# TRUTHY AND FALSY VALUES

## The 7 Falsy Values (MEMORIZE THESE!)
\`\`\`js
// There are exactly 7 falsy values in JavaScript:
console.log(Boolean(false));     // false - the boolean false
console.log(Boolean(0));         // false - zero
console.log(Boolean(-0));        // false - negative zero
console.log(Boolean(0n));        // false - BigInt zero
console.log(Boolean(''));        // false - empty string
console.log(Boolean(null));      // false - null
console.log(Boolean(undefined)); // false - undefined
console.log(Boolean(NaN));       // false - Not a Number

// Memory trick: "0, empty, nothing, and false itself"
\`\`\`

## Everything Else is Truthy
\`\`\`js
// Common truthy values that trick people:
console.log(Boolean([]));           // true - empty array!
console.log(Boolean({}));           // true - empty object!
console.log(Boolean('0'));          // true - string with zero!
console.log(Boolean('false'));      // true - string with "false"!
console.log(Boolean(new Boolean(false))); // true - Boolean object!
console.log(Boolean(-1));           // true - negative numbers
console.log(Boolean(Infinity));     // true
console.log(Boolean(-Infinity));    // true
console.log(Boolean(' '));          // true - string with space
console.log(Boolean('null'));       // true - string "null"
console.log(Boolean(function(){})); // true - functions
console.log(Boolean(new Date()));   // true - objects
console.log(Boolean(/regex/));      // true - regex

// Common interview trap:
if ([]) console.log('Empty array is truthy!');  // This runs!
if ({}) console.log('Empty object is truthy!'); // This runs!
if ('0') console.log('String "0" is truthy!');  // This runs!
\`\`\`

## Truthy/Falsy in Practice
\`\`\`js
// Conditional checking
const user = null;
if (user) {
  console.log('User exists');
} else {
  console.log('No user'); // This runs
}

// Gotcha with 0
const count = 0;
if (count) {
  console.log('Has items');
} else {
  console.log('No items'); // This runs, but 0 might be valid!
}

// Better approach for 0
if (count !== undefined && count !== null) {
  console.log('Count is defined:', count); // Now 0 works
}

// Or use nullish coalescing
const displayCount = count ?? 'No count';
console.log(displayCount); // 0 (not 'No count')
\`\`\`

---

# IMPLICIT COERCION

Implicit coercion is when JavaScript automatically converts types without you asking. This is where the "weird" behavior comes from!

## String Coercion (+ operator with strings)
\`\`\`js
// Rule: If any operand is string, + does concatenation
console.log('5' + 3);         // "53" (3 becomes "3")
console.log(3 + '5');         // "35" (3 becomes "3")
console.log('5' + true);      // "5true"
console.log('5' + false);     // "5false"
console.log('5' + null);      // "5null"
console.log('5' + undefined); // "5undefined"
console.log('5' + [1, 2]);    // "51,2"
console.log('5' + {});        // "5[object Object]"

// Multiple operations (left to right)
console.log(1 + 2 + '3');     // "33" (1+2=3, then 3+"3"="33")
console.log('1' + 2 + 3);     // "123" (string from start)
console.log(1 + '2' + 3);     // "123" (string after '2')

// Interview question:
console.log(1 + 2 + 3 + '4' + 5 + 6);
// Step by step:
// 1 + 2 = 3
// 3 + 3 = 6
// 6 + '4' = '64'
// '64' + 5 = '645'
// '645' + 6 = '6456'
// Answer: "6456"
\`\`\`

## Number Coercion (-, *, /, % operators)
\`\`\`js
// Rule: -, *, /, % always try to convert to numbers
console.log('5' - 3);         // 2
console.log('5' * '2');       // 10
console.log('10' / '2');      // 5
console.log('10' % '3');      // 1
console.log('5' - true);      // 4 (true = 1)
console.log('5' - false);     // 5 (false = 0)
console.log('5' - null);      // 5 (null = 0)
console.log('5' - undefined); // NaN (undefined = NaN)
console.log('5' * []);        // 0 ([] = 0)
console.log('5' * [2]);       // 10 ([2] = 2)
console.log('5' * [1, 2]);    // NaN ([1,2] can't convert)

// Interesting cases
console.log('5' - '3');       // 2
console.log('abc' - 1);       // NaN
console.log('5abc' - 1);      // NaN
\`\`\`

## Boolean Coercion
\`\`\`js
// Logical operators and conditions trigger boolean coercion
if ('hello') {
  console.log('Truthy!'); // Runs
}

// Logical NOT forces boolean
console.log(!0);          // true
console.log!'hello');     // false
console.log(!!'hello');   // true (double NOT = Boolean())

// Comparison with boolean
console.log(true + true);   // 2 (1 + 1)
console.log(true + false);  // 1 (1 + 0)
console.log(true - true);   // 0 (1 - 1)
console.log(false * 10);    // 0 (0 * 10)
\`\`\`

---

# THE + OPERATOR COMPLEXITY

## The Rules
\`\`\`js
// + operator has two modes:
// 1. Addition (when both operands are numbers)
// 2. Concatenation (when any operand is string)

// Rule: If either side is string, concatenate
// Otherwise, convert both to numbers and add

console.log(1 + 1);       // 2 (both numbers)
console.log('1' + '1');   // "11" (both strings)
console.log(1 + '1');     // "11" (one is string)
console.log('1' + 1);     // "11" (one is string)

// What about objects and arrays?
// They get converted to primitives first using ToPrimitive

// Arrays convert to string
console.log([1, 2] + [3, 4]); // "1,23,4"
// Step: [1,2].toString() = "1,2", [3,4].toString() = "3,4"
// Then: "1,2" + "3,4" = "1,23,4"

// Empty array converts to empty string
console.log([] + []);     // ""
// Step: "".toString() = "", "" + "" = ""

// Objects convert to "[object Object]"
console.log({} + {});     // "[object Object][object Object]"
console.log({} + []);     // "[object Object]"
console.log([] + {});     // "[object Object]"
\`\`\`

## The {} + [] Gotcha
\`\`\`js
// This is context-dependent!

// In browser console:
{} + []  // 0
// Why? {} is treated as empty block, not object!
// So it becomes: + [] which is +'' which is 0

// But in expression context:
console.log({} + []); // "[object Object]"
// Here {} is definitely an object

// Force it to be an object:
({}) + []  // "[object Object]"
\`\`\`

---

# EQUALITY OPERATORS (== vs ===)

## Strict Equality (===)
\`\`\`js
// === compares value AND type
// No coercion happens!

console.log(5 === 5);       // true
console.log(5 === '5');     // false (different types)
console.log(true === 1);    // false (different types)
console.log(null === null); // true
console.log(undefined === undefined); // true
console.log(null === undefined);      // false (different types)

// NaN is never equal to anything, including itself!
console.log(NaN === NaN);   // false
console.log(Number.isNaN(NaN)); // true (proper way to check)

// Objects compare by reference, not value
console.log([] === []);     // false (different references)
console.log({} === {});     // false (different references)

const arr = [1, 2, 3];
const sameArr = arr;
console.log(arr === sameArr); // true (same reference)
\`\`\`

## Loose Equality (==)
\`\`\`js
// == compares values with type coercion
// Complex rules apply!

console.log(5 == 5);        // true
console.log(5 == '5');      // true (string converted to number)
console.log(true == 1);     // true (boolean converted to number)
console.log(false == 0);    // true
console.log(null == undefined); // true (special rule!)
console.log(null == null);  // true
console.log(undefined == undefined); // true

// But null is NOT == to other falsy values
console.log(null == 0);     // false
console.log(null == '');    // false
console.log(null == false); // false
console.log(undefined == 0); // false
\`\`\`

## == Coercion Rules
\`\`\`js
// The algorithm (simplified):
// 1. If same type, compare directly
// 2. null == undefined is true
// 3. Number vs String: convert string to number
// 4. Boolean vs anything: convert boolean to number first
// 5. Object vs primitive: convert object to primitive

// Examples with explanation:
console.log('5' == 5);
// String vs Number  '5' becomes 5  5 == 5  true

console.log(true == '1');
// Boolean vs String  true becomes 1  1 == '1'
// Number vs String  '1' becomes 1  1 == 1  true

console.log([] == false);
// Object vs Boolean  false becomes 0  [] == 0
// Object vs Number  [] becomes ''  '' == 0
// String vs Number  '' becomes 0  0 == 0  true

console.log([] == '');
// Object vs String  [] becomes ''  '' == ''  true

console.log([1] == 1);
// Object vs Number  [1] becomes '1'  '1' == 1
// String vs Number  '1' becomes 1  1 == 1  true

console.log([1, 2] == '1,2');
// Object vs String  [1,2] becomes '1,2'  '1,2' == '1,2'  true
\`\`\`

## Interview Favorite: Weird Comparisons
\`\`\`js
console.log([] == ![]);      // true!
// Step by step:
// ![] = false (array is truthy, NOT makes it false)
// [] == false
// [] == 0 (false to number)
// '' == 0 (array to string)
// 0 == 0  true!

console.log([] == []);       // false (different references)
console.log(![] == []);      // true (as shown above)

console.log('' == false);    // true (both become 0)
console.log('0' == false);   // true ('0'  0, false  0)
console.log('' == '0');      // false (both strings, compared directly)

// Transitivity broken!
console.log('' == 0);        // true
console.log(0 == '0');       // true
console.log('' == '0');      // false! (not transitive)

// More weirdness
console.log(false == 'false');  // false ('false'  NaN)
console.log(false == '0');      // true ('0'  0, false  0)
console.log(false == undefined); // false
console.log(false == null);     // false

// Recommendation: ALWAYS use === unless you have specific reason for ==
\`\`\`

---

# NaN (Not a Number)

## Understanding NaN
\`\`\`js
// NaN represents a failed number conversion
console.log(Number('hello'));  // NaN
console.log(parseInt('abc'));  // NaN
console.log(Math.sqrt(-1));    // NaN
console.log(0 / 0);            // NaN
console.log(Infinity - Infinity); // NaN

// NaN is the only value not equal to itself
console.log(NaN === NaN);      // false
console.log(NaN == NaN);       // false

// How to check for NaN
// Method 1: Number.isNaN() - RECOMMENDED
console.log(Number.isNaN(NaN));        // true
console.log(Number.isNaN('hello'));    // false (doesn't coerce)
console.log(Number.isNaN(undefined));  // false

// Method 2: isNaN() - NOT recommended (coerces first)
console.log(isNaN(NaN));       // true
console.log(isNaN('hello'));   // true (coerces to NaN first!)
console.log(isNaN(undefined)); // true (coerces to NaN!)

// Method 3: Object.is()
console.log(Object.is(NaN, NaN)); // true

// Method 4: Self comparison (clever trick)
const value = NaN;
console.log(value !== value); // true only for NaN!
\`\`\`

## NaN Propagates
\`\`\`js
// Any operation with NaN produces NaN
console.log(NaN + 1);      // NaN
console.log(NaN * 100);    // NaN
console.log(NaN / NaN);    // NaN
console.log(Math.max(1, 2, NaN)); // NaN

// Except comparison which gives false
console.log(NaN > 0);      // false
console.log(NaN < 0);      // false
console.log(NaN >= 0);     // false
console.log(NaN <= 0);     // false
\`\`\`

---

# COMPARISON OPERATORS QUIRKS

## Comparing Different Types
\`\`\`js
// < > <= >= convert both to numbers (usually)
console.log('5' > 3);       // true ('5'  5)
console.log('5' < '10');    // false! (string comparison: '5' > '1')
console.log(5 < '10');      // true ('10'  10)

// String comparison is lexicographic (character by character)
console.log('apple' < 'banana'); // true ('a' < 'b')
console.log('10' < '9');    // true! ('1' < '9')
console.log('10' < 9);      // false (10 < 9)
\`\`\`

## The null/undefined Comparison Trap
\`\`\`js
// This is a famous interview question!
console.log(null == undefined);  // true (special rule)
console.log(null === undefined); // false

// But with comparisons:
console.log(null > 0);   // false (null  0, 0 > 0)
console.log(null == 0);  // false (special rule: null only == undefined)
console.log(null >= 0);  // true! (null  0, 0 >= 0)

// So null is NOT > 0, NOT == 0, but IS >= 0???
// This is because == and >= use different algorithms!

// undefined is even weirder
console.log(undefined > 0);  // false (undefined  NaN)
console.log(undefined < 0);  // false (NaN comparison)
console.log(undefined == 0); // false
console.log(undefined >= 0); // false (NaN >= 0 is false)
\`\`\`

## Chained Comparisons Trap
\`\`\`js
// JavaScript doesn't work like math!
console.log(1 < 2 < 3);  // true
// But not for the reason you think!
// 1 < 2  true
// true < 3  1 < 3  true

console.log(3 > 2 > 1);  // false!
// 3 > 2  true
// true > 1  1 > 1  false

console.log(1 < 2 < 1);  // true!
// 1 < 2  true
// true < 1  1 < 1  false... wait, that's false

// Let me recalculate:
console.log(1 < 2);      // true
console.log(true < 1);   // false (1 < 1 is false)
// So 1 < 2 < 1 should be false, let me verify...
// Actually: 1 < 2 < 1
// 1 < 2 = true
// true < 1 = 1 < 1 = false
// Result: false
\`\`\`

---

# SHORT-CIRCUIT EVALUATION

## OR Operator (||)
\`\`\`js
// || returns first truthy value, or last value if all falsy
console.log('hello' || 'default');  // 'hello' (first truthy)
console.log('' || 'default');       // 'default' ('' is falsy)
console.log(0 || 'default');        // 'default' (0 is falsy)
console.log(null || 'default');     // 'default'
console.log(undefined || 'default'); // 'default'
console.log(false || 'default');    // 'default'

// Returns the actual value, not boolean
console.log(false || 0 || '' || 'found'); // 'found'
console.log(false || 0 || '' || null);    // null (last value)

// Practical: Default values
function greet(name) {
  name = name || 'Guest';
  console.log('Hello, ' + name);
}
greet('John');  // 'Hello, John'
greet('');      // 'Hello, Guest' - But what if empty string is valid?
greet(0);       // 'Hello, Guest' - Bug if 0 is a valid name!
\`\`\`

## AND Operator (&&)
\`\`\`js
// && returns first falsy value, or last value if all truthy
console.log('hello' && 'world');    // 'world' (both truthy, returns last)
console.log('' && 'world');         // '' (first falsy)
console.log('hello' && 0 && 'world'); // 0 (first falsy)
console.log(null && 'anything');    // null

// Practical: Conditional execution
const user = { name: 'John' };
user && console.log(user.name); // 'John'

const noUser = null;
noUser && console.log(noUser.name); // Nothing (short-circuits)

// Practical: Conditional rendering (React)
// {isLoggedIn && <Dashboard />}
// {items.length > 0 && <ItemList items={items} />}
\`\`\`

## Nullish Coalescing (??)
\`\`\`js
// ?? only checks for null/undefined, not all falsy values
console.log(0 || 'default');    // 'default' (0 is falsy)
console.log(0 ?? 'default');    // 0 (0 is not null/undefined)

console.log('' || 'default');   // 'default' ('' is falsy)
console.log('' ?? 'default');   // '' ('' is not null/undefined)

console.log(false || 'default'); // 'default'
console.log(false ?? 'default'); // false

console.log(null ?? 'default');  // 'default'
console.log(undefined ?? 'default'); // 'default'

// Use ?? when 0, '', or false are valid values
const count = 0;
const displayCount = count ?? 'No count'; // 0 (correct!)
const wrongCount = count || 'No count';   // 'No count' (wrong!)
\`\`\`

---

# FLOATING POINT PRECISION

## The Famous 0.1 + 0.2 Problem
\`\`\`js
console.log(0.1 + 0.2);          // 0.30000000000000004
console.log(0.1 + 0.2 === 0.3);  // false!

// Why? Binary floating point can't represent 0.1 exactly
// Just like 1/3 can't be represented exactly in decimal

// Other examples:
console.log(0.1 + 0.7);  // 0.7999999999999999
console.log(1.1 + 1.3);  // 2.4000000000000004
console.log(0.3 - 0.1);  // 0.19999999999999998
\`\`\`

## Solutions
\`\`\`js
// Solution 1: Use epsilon comparison
function areEqual(a, b) {
  return Math.abs(a - b) < Number.EPSILON;
}
console.log(areEqual(0.1 + 0.2, 0.3)); // true

// Solution 2: Round to fixed decimal places
console.log((0.1 + 0.2).toFixed(1) === '0.3'); // true
console.log(parseFloat((0.1 + 0.2).toFixed(10))); // 0.3

// Solution 3: Use integers (cents instead of dollars)
const price1 = 10; // cents
const price2 = 20; // cents
const total = (price1 + price2) / 100; // $0.30

// Solution 4: Use a library (decimal.js, big.js)
\`\`\`

---

# CLASSIC INTERVIEW QUESTIONS

## Question 1: The "banana" Question
\`\`\`js
console.log('b' + 'a' + + 'a' + 'a');
// Answer: "baNaNa"

// Explanation:
// 'b' + 'a' = 'ba'
// + 'a' = NaN (unary + tries to convert 'a' to number)
// 'ba' + NaN = 'baNaN'
// 'baNaN' + 'a' = 'baNaNa'
\`\`\`

## Question 2: Array Equality
\`\`\`js
console.log([] == false);  // true
console.log(![] == false); // true
console.log([] == ![]);    // true

// But:
console.log([] == []);     // false
console.log([] === []);    // false
\`\`\`

## Question 3: What Will This Output?
\`\`\`js
console.log(typeof typeof 1);
// Answer: "string"

// Explanation:
// typeof 1 = "number" (a string)
// typeof "number" = "string"
\`\`\`

## Question 4: Double Bang
\`\`\`js
console.log(!!null);       // false
console.log(!!'');         // false
console.log(!!0);          // false
console.log(!!NaN);        // false
console.log(!!undefined);  // false
console.log(!!'false');    // true (non-empty string)
console.log(!!'0');        // true (non-empty string)
console.log(!![]);         // true (empty array is truthy)
console.log(!!{});         // true (empty object is truthy)
\`\`\`

## Question 5: Increment Operators
\`\`\`js
let a = '5';
console.log(++a);  // 6 (converts to number first)
console.log(a);    // 6 (now a number)

let b = '5';
console.log(b++);  // "5" (returns before increment? No!)
// Actually: b++ converts to number, returns 5, then increments
console.log(b);    // 6
\`\`\`

## Question 6: Object Coercion
\`\`\`js
const obj = {
  valueOf() {
    return 42;
  },
  toString() {
    return 'hello';
  }
};

console.log(obj + 1);   // 43 (valueOf used for number context)
console.log(\`\${obj}\`);  // 'hello' (toString used for string context)
console.log(String(obj)); // 'hello'
console.log(Number(obj)); // 42
\`\`\`

---

# BEST PRACTICES

## Avoid Implicit Coercion When Possible
\`\`\`js
// BAD: Relies on implicit coercion
if (value) { }
const display = value || 'default';

// GOOD: Explicit checks
if (value !== null && value !== undefined) { }
if (value != null) { } // OK for null/undefined check
const display = value ?? 'default';
\`\`\`

## Always Use === (Mostly)
\`\`\`js
// Always use ===
if (a === b) { }

// Only exception: checking for null/undefined together
if (value == null) { } // checks both null and undefined
// Equivalent to:
if (value === null || value === undefined) { }
\`\`\`

## Be Explicit with Conversions
\`\`\`js
// BAD: Implicit
const num = +string;
const str = number + '';
const bool = !!value;

// GOOD: Explicit
const num = Number(string);
const num = parseInt(string, 10); // Always specify radix!
const str = String(number);
const bool = Boolean(value);
\`\`\``,codeExample:`// Type Coercion Quick Reference
// ==============================

// FALSY VALUES (memorize these 7!)
// false, 0, -0, 0n, '', null, undefined, NaN

// TRUTHY GOTCHAS
Boolean([]);        // true - empty array!
Boolean({});        // true - empty object!
Boolean('0');       // true - string with zero!
Boolean('false');   // true - string "false"!

// TYPE CONVERSION
String(123);        // "123"
Number('123');      // 123
Boolean(1);         // true
parseInt('42px');   // 42
parseFloat('3.14'); // 3.14

// == vs ===
5 == '5';           // true (coercion)
5 === '5';          // false (strict)
null == undefined;  // true
null === undefined; // false

// NaN checks
NaN === NaN;        // false (always!)
Number.isNaN(NaN);  // true (correct way)
isNaN('hello');     // true (wrong - coerces first)

// || vs ??
0 || 'default';     // 'default' (0 is falsy)
0 ?? 'default';     // 0 (only null/undefined)

// Classic traps
[] + [];            // ""
[] + {};            // "[object Object]"
{} + [];            // 0 or "[object Object]"
0.1 + 0.2 === 0.3;  // false!

// The "banana" trick
'b' + 'a' + + 'a' + 'a'; // "baNaNa"

// Type checking
typeof null;        // "object" (bug!)
typeof NaN;         // "number"
typeof [];          // "object"
Array.isArray([]);  // true`,language:"javascript"},{id:"interview-es6",title:"ES6+ Features Overview",content:`# ES6+ Features - Complete Interview Guide
## What is ES6?
ES6 (ECMAScript 2015) is a major update to JavaScript that introduced many new features we use daily. Think of it as JavaScript getting a massive upgrade with new tools that make coding easier and cleaner.
## Why Do Interviewers Ask About ES6?
- Shows you write modern JavaScript
- Many features solve common problems elegantly
- Understanding ES6+ is essential for React, Node.js, and modern frameworks
## Timeline of Features
- **ES6 (2015)**: let/const, arrow functions, classes, promises, destructuring, spread/rest, modules, symbols, Map/Set
- **ES7 (2016)**: Array.includes(), exponentiation operator (**)
- **ES8 (2017)**: async/await, Object.entries/values, string padding
- **ES9 (2018)**: Rest/spread for objects, Promise.finally()
- **ES10 (2019)**: Array.flat(), Object.fromEntries(), optional catch binding
- **ES11 (2020)**: Optional chaining (?.), nullish coalescing (??), BigInt, Promise.allSettled()
- **ES12 (2021)**: String.replaceAll(), Promise.any(), logical assignment operators
---
# LET, CONST, AND VAR
## The Problem with var
\`\`\`js
// var has function scope, not block scope
function varProblem() {
  if (true) {
    var x = 10;
  }
  console.log(x); // 10 - x is accessible outside the block!
}
// var gets hoisted
console.log(hoisted); // undefined (not error!)
var hoisted = 'I am hoisted';
// var allows redeclaration
var name = 'John';
var name = 'Jane'; // No error - can cause bugs!
\`\`\`
## let and const Fix These Issues
\`\`\`js
// Block scoped
if (true) {
  let blockScoped = 'only here';
  const alsoBlockScoped = 'only here too';
}
// console.log(blockScoped); // ReferenceError!
// No hoisting (actually hoisted but in "temporal dead zone")
// console.log(tdzVariable); // ReferenceError!
let tdzVariable = 'value';
// No redeclaration
let unique = 'first';
// let unique = 'second'; // SyntaxError!
// const must be initialized and can't be reassigned
const PI = 3.14159;
// PI = 3.14; // TypeError!
// const EMPTY; // SyntaxError - must initialize
// BUT const objects/arrays can be mutated
const person = { name: 'John' };
person.name = 'Jane'; // This works!
person.age = 30;      // This works!
// person = {};       // This fails - can't reassign
const numbers = [1, 2, 3];
numbers.push(4);      // This works! [1, 2, 3, 4]
// numbers = [];      // This fails - can't reassign
\`\`\`
## Interview Question: When to Use What?
\`\`\`js
// Use const by default (most variables don't need reassignment)
const API_URL = 'https://api.example.com';
const user = { name: 'John' };
const items = [1, 2, 3];
// Use let only when you need to reassign
let counter = 0;
counter++;
let status = 'pending';
status = 'completed';
// Never use var in modern JavaScript
\`\`\`
---
# ARROW FUNCTIONS
## Basic Syntax
\`\`\`js
// Regular function
function add(a, b) {
  return a + b;
}
// Arrow function - full syntax
const addArrow = (a, b) => {
  return a + b;
};
// Arrow function - implicit return (single expression)
const addShort = (a, b) => a + b;
// Single parameter - no parentheses needed
const double = x => x * 2;
// No parameters - empty parentheses required
const greet = () => 'Hello!';
// Returning object - wrap in parentheses
const makeUser = (name, age) => ({ name, age });
console.log(makeUser('John', 30)); // { name: 'John', age: 30 }
\`\`\`
## The "this" Difference (VERY IMPORTANT!)
\`\`\`js
// Regular function: "this" depends on HOW it's called
const obj1 = {
  name: 'Object 1',
  regularMethod: function() {
    console.log(this.name); // 'Object 1'
    setTimeout(function() {
      console.log(this.name); // undefined! "this" is window/undefined
    }, 100);
  }
};
// Arrow function: "this" is inherited from surrounding scope (lexical)
const obj2 = {
  name: 'Object 2',
  arrowMethod: function() {
    console.log(this.name); // 'Object 2'
    setTimeout(() => {
      console.log(this.name); // 'Object 2'! Arrow inherits "this"
    }, 100);
  }
};
// Old workaround before arrow functions
const obj3 = {
  name: 'Object 3',
  method: function() {
    const self = this; // Save reference
    setTimeout(function() {
      console.log(self.name); // 'Object 3'
    }, 100);
  }
};
\`\`\`
## When NOT to Use Arrow Functions
\`\`\`js
// 1. Object methods that need their own "this"
const person = {
  name: 'John',
  // BAD - arrow doesn't have its own "this"
  greetArrow: () => {
    console.log('Hello, ' + this.name); // undefined!
  },
  // GOOD - regular function has its own "this"
  greetRegular() {
    console.log('Hello, ' + this.name); // 'Hello, John'
  }
};
// 2. Constructor functions
// const Person = (name) => { this.name = name; }; // Can't use "new"
// new Person('John'); // TypeError!
// 3. When you need "arguments" object
function regularWithArgs() {
  console.log(arguments); // Works!
}
const arrowWithArgs = () => {
  // console.log(arguments); // ReferenceError!
};
// Use rest parameters instead
const arrowWithRest = (...args) => {
  console.log(args); // Works!
};
\`\`\`
---
# TEMPLATE LITERALS
## Basic Usage
\`\`\`js
const name = 'John';
const age = 30;
// Old way - string concatenation
const oldMessage = 'Hello, ' + name + '! You are ' + age + ' years old.';
// New way - template literals
const newMessage = \`Hello, \${name}! You are \${age} years old.\`;
// Expressions inside \${}
const price = 19.99;
const quantity = 3;
const total = \`Total: $\${(price * quantity).toFixed(2)}\`; // 'Total: $59.97'
// Function calls inside \${}
const upper = \`Name: \${name.toUpperCase()}\`; // 'Name: JOHN'
// Conditional expressions
const greeting = \`Hello, \${age >= 18 ? 'Adult' : 'Minor'}!\`;
\`\`\`
## Multi-line Strings
\`\`\`js
// Old way - concatenation or escape characters
const oldMulti = 'Line 1\\n' +
                 'Line 2\\n' +
                 'Line 3';
// New way - just press Enter
const newMulti = \`
  Line 1
  Line 2
  Line 3
\`;
// Practical: HTML templates
const html = \`
  <div class="card">
    <h2>\${name}</h2>
    <p>Age: \${age}</p>
  </div>
\`;
\`\`\`
## Tagged Templates (Advanced - But Asked in Interviews!)
\`\`\`js
// Tagged template is a function that processes template literal
function highlight(strings, ...values) {
  // strings: array of string parts
  // values: array of interpolated values
  console.log(strings); // ['Hello, ', '! You are ', ' years old.']
  console.log(values);  // ['John', 30]
  return strings.reduce((result, str, i) => {
    const value = values[i] ? \`<b>\${values[i]}</b>\` : '';
    return result + str + value;
  }, '');
}
const highlighted = highlight\`Hello, \${name}! You are \${age} years old.\`;
console.log(highlighted); // 'Hello, <b>John</b>! You are <b>30</b> years old.'
// Practical: SQL query sanitization
function sql(strings, ...values) {
  // Escape values to prevent SQL injection
  const escaped = values.map(v => 
    typeof v === 'string' ? v.replace(/'/g, "''") : v
  );
  return strings.reduce((result, str, i) => 
    result + str + (escaped[i] ?? ''), ''
  );
}
const userInput = "John'; DROP TABLE users; --";
const query = sql\`SELECT * FROM users WHERE name = '\${userInput}'\`;
// Safely escaped!
// Practical: Styled components (React)
// const Button = styled.button\`
//   background: \${props => props.primary ? 'blue' : 'white'};
//   color: \${props => props.primary ? 'white' : 'blue'};
// \`;
\`\`\`
---
# DESTRUCTURING
## Array Destructuring
\`\`\`js
const numbers = [1, 2, 3, 4, 5];
// Basic destructuring
const [a, b, c] = numbers;
console.log(a, b, c); // 1, 2, 3
// Skip elements
const [first, , third] = numbers;
console.log(first, third); // 1, 3
// Rest pattern - collect remaining
const [head, ...tail] = numbers;
console.log(head); // 1
console.log(tail); // [2, 3, 4, 5]
// Default values
const [x, y, z = 0] = [1, 2];
console.log(x, y, z); // 1, 2, 0
// Swapping variables (classic interview question!)
let m = 1, n = 2;
[m, n] = [n, m];
console.log(m, n); // 2, 1
// Nested arrays
const nested = [1, [2, 3], 4];
const [one, [two, three], four] = nested;
console.log(two, three); // 2, 3
// From function return
function getCoordinates() {
  return [10, 20];
}
const [lat, lng] = getCoordinates();
\`\`\`
## Object Destructuring
\`\`\`js
const person = {
  name: 'John',
  age: 30,
  city: 'New York',
  country: 'USA'
};
// Basic destructuring
const { name, age } = person;
console.log(name, age); // 'John', 30
// Rename variables
const { name: personName, age: personAge } = person;
console.log(personName, personAge); // 'John', 30
// Default values
const { name: n, phone = 'N/A' } = person;
console.log(phone); // 'N/A'
// Rest pattern
const { name: userName, ...otherInfo } = person;
console.log(otherInfo); // { age: 30, city: 'New York', country: 'USA' }
// Nested destructuring
const data = {
  user: {
    profile: {
      firstName: 'John',
      lastName: 'Doe'
    }
  }
};
const { user: { profile: { firstName, lastName } } } = data;
console.log(firstName, lastName); // 'John', 'Doe'
// With default for nested
const { user: { profile: { middleName = 'N/A' } } } = data;
console.log(middleName); // 'N/A'
\`\`\`
## Function Parameter Destructuring
\`\`\`js
// Object parameter destructuring
function greet({ name, age = 18, city = 'Unknown' }) {
  return \`\${name}, \${age}, from \${city}\`;
}
console.log(greet({ name: 'John', age: 30 }));
// 'John, 30, from Unknown'
// With renaming
function processUser({ name: userName, id: oderId }) {
  console.log(userName, oderId);
}
// Array parameter destructuring
function getFirstTwo([first, second]) {
  return first + second;
}
console.log(getFirstTwo([10, 20, 30])); // 30
// Common pattern: Options object
function createServer({
  port = 3000,
  host = 'localhost',
  protocol = 'http'
} = {}) {
  return \`\${protocol}://\${host}:\${port}\`;
}
console.log(createServer()); // 'http://localhost:3000'
console.log(createServer({ port: 8080 })); // 'http://localhost:8080'
// React props destructuring
// function Component({ title, onClick, children }) {
//   return <button onClick={onClick}>{title}{children}</button>;
// }
\`\`\`
## Interview Favorite: Complex Destructuring
\`\`\`js
// API response handling
const apiResponse = {
  status: 200,
  data: {
    users: [
      { id: 1, name: 'John', email: 'john@email.com' },
      { id: 2, name: 'Jane', email: 'jane@email.com' }
    ],
    pagination: {
      page: 1,
      total: 100
    }
  }
};
// Extract what you need
const {
  status,
  data: {
    users: [firstUser, secondUser],
    pagination: { page, total }
  }
} = apiResponse;
console.log(status);    // 200
console.log(firstUser); // { id: 1, name: 'John', email: 'john@email.com' }
console.log(page);      // 1
\`\`\`
---
# SYMBOLS
## What are Symbols?
Symbols are a primitive data type that creates unique identifiers. Think of them as guaranteed unique IDs that can never collide with anything else.
## Basic Symbol Usage
\`\`\`js
// Creating symbols
const sym1 = Symbol('description');
const sym2 = Symbol('description');
// Even with same description, symbols are unique
console.log(sym1 === sym2); // false
console.log(sym1 === sym1); // true
// Symbols as object keys
const SECRET_KEY = Symbol('secret');
const user = {
  name: 'John',
  age: 30,
  [SECRET_KEY]: 'hidden password'
};
// Regular iteration doesn't show symbols
console.log(Object.keys(user));    // ['name', 'age']
console.log(Object.values(user));  // ['John', 30]
console.log(JSON.stringify(user)); // '{"name":"John","age":30}'
// But you can access it directly
console.log(user[SECRET_KEY]); // 'hidden password'
// Get all symbol keys
console.log(Object.getOwnPropertySymbols(user)); // [Symbol(secret)]
\`\`\`
## Why Use Symbols?
\`\`\`js
// 1. Prevent property name collisions
const INTERNAL_STATE = Symbol('internal');
class MyClass {
  constructor() {
    this[INTERNAL_STATE] = 'private-ish';
  }
}
// 2. Define "hidden" properties
const metadata = Symbol('metadata');
const document = {
  title: 'My Document',
  content: 'Hello World',
  [metadata]: { created: new Date(), author: 'John' }
};
// 3. Create unique constants
const STATUS = {
  PENDING: Symbol('pending'),
  APPROVED: Symbol('approved'),
  REJECTED: Symbol('rejected')
};
// Can never accidentally equal something else
\`\`\`
## Global Symbol Registry
\`\`\`js
// Symbol.for() creates/retrieves from global registry
const globalSym1 = Symbol.for('app.id');
const globalSym2 = Symbol.for('app.id');
console.log(globalSym1 === globalSym2); // true! Same symbol
// Get key from symbol
console.log(Symbol.keyFor(globalSym1)); // 'app.id'
// Regular Symbol() not in registry
const localSym = Symbol('local');
console.log(Symbol.keyFor(localSym)); // undefined
\`\`\`
## Well-Known Symbols (Advanced)
\`\`\`js
// Symbol.iterator - makes object iterable
const customIterable = {
  data: [1, 2, 3],
  [Symbol.iterator]() {
    let index = 0;
    return {
      next: () => {
        if (index < this.data.length) {
          return { value: this.data[index++], done: false };
        }
        return { done: true };
      }
    };
  }
};
for (const item of customIterable) {
  console.log(item); // 1, 2, 3
}
// Symbol.toStringTag - customize Object.prototype.toString()
class MyClass {
  get [Symbol.toStringTag]() {
    return 'MyClass';
  }
}
console.log(Object.prototype.toString.call(new MyClass())); 
// '[object MyClass]'
\`\`\`
---
# MAP AND SET
## Map - Key-Value Pairs with Any Key Type
\`\`\`js
// Object limitation: keys are always strings
const objMap = {};
objMap[1] = 'one';
objMap['1'] = 'string one';
console.log(objMap); // { '1': 'string one' } - key converted to string!
// Map can use any type as key
const map = new Map();
// Different key types
map.set('string', 'value1');
map.set(1, 'value2');
map.set(true, 'value3');
map.set({ key: 'obj' }, 'value4');
map.set(function() {}, 'value5');
console.log(map.get('string')); // 'value1'
console.log(map.get(1));        // 'value2'
console.log(map.size);          // 5
// Map methods
console.log(map.has('string')); // true
map.delete('string');
console.log(map.has('string')); // false
// Initialize with array of arrays
const map2 = new Map([
  ['name', 'John'],
  ['age', 30],
  ['city', 'NYC']
]);
// Iteration
for (const [key, value] of map2) {
  console.log(\`\${key}: \${value}\`);
}
// Convert to array
const entries = [...map2];          // [['name','John'], ['age',30], ['city','NYC']]
const keys = [...map2.keys()];      // ['name', 'age', 'city']
const values = [...map2.values()];  // ['John', 30, 'NYC']
// Clear all entries
map2.clear();
\`\`\`
## Map vs Object - When to Use Which?
\`\`\`js
// Use Map when:
// 1. Keys are not strings
// 2. You need to iterate in insertion order
// 3. You need frequent additions/deletions
// 4. You need to know the size easily
// Use Object when:
// 1. Simple string keys
// 2. You need JSON serialization
// 3. You need to work with object methods
// 4. You're using it as a record/struct
// Map preserves insertion order
const orderMap = new Map();
orderMap.set('z', 1);
orderMap.set('a', 2);
orderMap.set('m', 3);
console.log([...orderMap.keys()]); // ['z', 'a', 'm'] - order preserved!
// Object also preserves order (for string keys) in modern JS
// But numeric keys are sorted numerically
const obj = { 3: 'three', 1: 'one', 2: 'two' };
console.log(Object.keys(obj)); // ['1', '2', '3'] - sorted!
\`\`\`
## Set - Unique Values Only
\`\`\`js
// Creating a Set
const set = new Set();
set.add(1);
set.add(2);
set.add(2); // Duplicate - ignored!
set.add(3);
console.log(set); // Set { 1, 2, 3 }
console.log(set.size); // 3
// Initialize with array
const set2 = new Set([1, 2, 2, 3, 3, 3, 4, 4, 4, 4]);
console.log([...set2]); // [1, 2, 3, 4]
// Most common use: Remove duplicates
const duplicates = [1, 2, 2, 3, 3, 3, 'a', 'a', 'b'];
const unique = [...new Set(duplicates)];
console.log(unique); // [1, 2, 3, 'a', 'b']
// Set methods
set.has(2);     // true
set.delete(2);  // removes 2
set.clear();    // removes all
// Iteration
const fruits = new Set(['apple', 'banana', 'orange']);
for (const fruit of fruits) {
  console.log(fruit);
}
// Set operations (not built-in, but easy to implement)
const setA = new Set([1, 2, 3, 4]);
const setB = new Set([3, 4, 5, 6]);
// Union
const union = new Set([...setA, ...setB]);
console.log([...union]); // [1, 2, 3, 4, 5, 6]
// Intersection
const intersection = new Set([...setA].filter(x => setB.has(x)));
console.log([...intersection]); // [3, 4]
// Difference
const difference = new Set([...setA].filter(x => !setB.has(x)));
console.log([...difference]); // [1, 2]
\`\`\`
## WeakMap and WeakSet
\`\`\`js
// WeakMap - keys must be objects, garbage collected when no other references
// Use case: Storing metadata about objects without preventing garbage collection
let user = { name: 'John' };
const weakMap = new WeakMap();
weakMap.set(user, 'some metadata');
console.log(weakMap.get(user)); // 'some metadata'
user = null; // Now the object can be garbage collected
// The weakMap entry is automatically removed
// WeakSet - same concept for unique values
let obj = { data: 'test' };
const weakSet = new WeakSet();
weakSet.add(obj);
console.log(weakSet.has(obj)); // true
obj = null; // Object can be garbage collected
// Practical use: Track visited objects
const visited = new WeakSet();
function processObject(obj) {
  if (visited.has(obj)) {
    return; // Already processed
  }
  visited.add(obj);
  // Process object...
}
\`\`\`
---
# OPTIONAL CHAINING (?.)
## The Problem It Solves
\`\`\`js
const user = {
  name: 'John',
  address: {
    city: 'NYC'
  }
};
// Old way - verbose null checks
const city = user && user.address && user.address.city;
// Or with ternary
const city2 = user ? (user.address ? user.address.city : undefined) : undefined;
// New way - optional chaining
const city3 = user?.address?.city; // 'NYC'
\`\`\`
## Different Usage Patterns
\`\`\`js
const user = {
  name: 'John',
  address: {
    city: 'NYC',
    coordinates: {
      lat: 40.7128,
      lng: -74.0060
    }
  },
  friends: ['Alice', 'Bob'],
  greet() {
    return 'Hello!';
  }
};
// Property access
console.log(user?.name);                    // 'John'
console.log(user?.email);                   // undefined
console.log(user?.address?.city);           // 'NYC'
console.log(user?.address?.country);        // undefined
console.log(user?.phone?.number);           // undefined (no error!)
// Method calls
console.log(user?.greet?.());               // 'Hello!'
console.log(user?.nonExistent?.());         // undefined
// Array access
console.log(user?.friends?.[0]);            // 'Alice'
console.log(user?.friends?.[10]);           // undefined
console.log(user?.enemies?.[0]);            // undefined
// Combining with nullish coalescing
const country = user?.address?.country ?? 'Unknown';
console.log(country); // 'Unknown'
\`\`\`
## Common Interview Patterns
\`\`\`js
// API response handling
const response = {
  data: {
    users: [
      { id: 1, profile: { avatar: 'url1' } },
      { id: 2 }
    ]
  }
};
const firstAvatar = response?.data?.users?.[0]?.profile?.avatar;
console.log(firstAvatar); // 'url1'
const secondAvatar = response?.data?.users?.[1]?.profile?.avatar;
console.log(secondAvatar); // undefined (profile doesn't exist)
// With functions
const callback = null;
callback?.(); // Does nothing, no error
// Delete with optional chaining
delete user?.address?.temp;
// Cannot use with assignment
// user?.name = 'Jane'; // SyntaxError!
\`\`\`
---
# NULLISH COALESCING (??)
## The Problem with ||
\`\`\`js
// || returns first truthy value
// Problem: 0, '', false are valid values but falsy!
const count = 0;
const message = '';
const isActive = false;
// Using || - wrong results!
console.log(count || 10);      // 10 (but we wanted 0!)
console.log(message || 'N/A'); // 'N/A' (but we wanted ''!)
console.log(isActive || true); // true (but we wanted false!)
// Using ?? - correct results!
console.log(count ?? 10);      // 0 (correct!)
console.log(message ?? 'N/A'); // '' (correct!)
console.log(isActive ?? true); // false (correct!)
\`\`\`
## How It Works
\`\`\`js
// ?? only checks for null or undefined
// Returns right side only if left side is null/undefined
console.log(null ?? 'default');      // 'default'
console.log(undefined ?? 'default'); // 'default'
console.log(0 ?? 'default');         // 0
console.log('' ?? 'default');        // ''
console.log(false ?? 'default');     // false
console.log(NaN ?? 'default');       // NaN
// Comparison
const value = 0;
console.log(value || 100); // 100 (treats 0 as falsy)
console.log(value ?? 100); // 0 (only null/undefined trigger default)
\`\`\`
## Combining with Optional Chaining
\`\`\`js
const config = {
  settings: {
    timeout: 0,
    retries: null
  }
};
// Get timeout (0 is valid)
const timeout = config?.settings?.timeout ?? 5000;
console.log(timeout); // 0 (not 5000!)
// Get retries (null should use default)
const retries = config?.settings?.retries ?? 3;
console.log(retries); // 3
// Get missing property
const maxSize = config?.settings?.maxSize ?? 1024;
console.log(maxSize); // 1024
\`\`\`
## Logical Assignment Operators (ES2021)
\`\`\`js
// Nullish assignment (??=)
let a = null;
a ??= 'default';
console.log(a); // 'default'
let b = 'existing';
b ??= 'default';
console.log(b); // 'existing'
// Logical OR assignment (||=)
let c = '';
c ||= 'default';
console.log(c); // 'default' (empty string is falsy)
// Logical AND assignment (&&=)
let d = 'value';
d &&= 'new value';
console.log(d); // 'new value' (only assigns if truthy)
let e = null;
e &&= 'new value';
console.log(e); // null (doesn't assign if falsy)
\`\`\`
---
# BIGINT
## Why Do We Need BigInt?
\`\`\`js
// JavaScript numbers have a safe integer limit
console.log(Number.MAX_SAFE_INTEGER); // 9007199254740991
// Beyond this, precision is lost
console.log(9007199254740991 + 1); // 9007199254740992 (correct)
console.log(9007199254740991 + 2); // 9007199254740992 (WRONG!)
console.log(9007199254740991 + 3); // 9007199254740994 (WRONG!)
// BigInt solves this
console.log(9007199254740991n + 1n); // 9007199254740992n (correct)
console.log(9007199254740991n + 2n); // 9007199254740993n (correct!)
console.log(9007199254740991n + 3n); // 9007199254740994n (correct!)
\`\`\`
## Creating BigInt
\`\`\`js
// Using n suffix
const big1 = 9007199254740991n;
const big2 = 123456789012345678901234567890n;
// Using BigInt() constructor
const big3 = BigInt(9007199254740991);
const big4 = BigInt('123456789012345678901234567890');
// Operations
console.log(big1 + 1n);  // 9007199254740992n
console.log(big1 * 2n);  // 18014398509481982n
console.log(big1 / 2n);  // 4503599627370495n (truncates decimal)
console.log(big1 % 3n);  // 1n
console.log(big1 ** 2n); // 81129638414606663681390495662081n
\`\`\`
## BigInt Limitations
\`\`\`js
// Cannot mix BigInt and Number
const big = 10n;
const num = 5;
// console.log(big + num); // TypeError!
// Must convert first
console.log(big + BigInt(num)); // 15n
console.log(Number(big) + num); // 15
// Cannot use Math methods
// Math.max(1n, 2n); // TypeError!
// Comparison works across types
console.log(10n > 5);   // true
console.log(10n === 10); // false (different types)
console.log(10n == 10);  // true (loose equality)
// JSON.stringify doesn't work
// JSON.stringify({ big: 10n }); // TypeError!
// Workaround
const data = { big: 10n };
JSON.stringify(data, (key, value) =>
  typeof value === 'bigint' ? value.toString() : value
);
\`\`\`
---
# PROMISE METHODS (ADVANCED)
## Promise.all vs Promise.allSettled vs Promise.race vs Promise.any
\`\`\`js
const promise1 = Promise.resolve(1);
const promise2 = Promise.resolve(2);
const promise3 = Promise.reject('Error!');
// Promise.all - fails if ANY promise rejects
Promise.all([promise1, promise2])
  .then(results => console.log(results)); // [1, 2]
Promise.all([promise1, promise2, promise3])
  .catch(error => console.log(error)); // 'Error!'
// Promise.allSettled - waits for all, never rejects
Promise.allSettled([promise1, promise2, promise3])
  .then(results => console.log(results));
// [
//   { status: 'fulfilled', value: 1 },
//   { status: 'fulfilled', value: 2 },
//   { status: 'rejected', reason: 'Error!' }
// ]
// Promise.race - returns first settled (fulfilled or rejected)
Promise.race([
  new Promise(r => setTimeout(() => r('slow'), 100)),
  new Promise(r => setTimeout(() => r('fast'), 50))
]).then(result => console.log(result)); // 'fast'
// Promise.any - returns first fulfilled (ignores rejections)
Promise.any([
  Promise.reject('Error 1'),
  Promise.resolve('Success!'),
  Promise.reject('Error 2')
]).then(result => console.log(result)); // 'Success!'
// Promise.any fails only if ALL reject
Promise.any([
  Promise.reject('Error 1'),
  Promise.reject('Error 2')
]).catch(error => console.log(error)); // AggregateError
\`\`\`
---
# QUICK REFERENCE SUMMARY
| Feature | Purpose | Example |
|---------|---------|---------|
| let/const | Block scoped variables | const x = 1; let y = 2; |
| Arrow functions | Shorter syntax, lexical this | const fn = (x) => x * 2 |
| Template literals | String interpolation | \\\`Hello \${name}\\\` |
| Destructuring | Extract values | const {a, b} = obj |
| Spread | Expand elements | [...arr1, ...arr2] |
| Rest | Collect elements | function(...args) |
| Symbol | Unique identifier | Symbol('id') |
| Map | Key-value (any key type) | new Map() |
| Set | Unique values | new Set([1,2,2,3]) |
| Optional chaining | Safe property access | obj?.prop?.nested |
| Nullish coalescing | Default for null/undefined | value ?? 'default' |
| BigInt | Large integers | 9007199254740991n |`,codeExample:`// ES6+ Quick Cheat Sheet
// ======================
// let/const (block scoped)
const PI = 3.14;
let count = 0;
// Arrow functions
const add = (a, b) => a + b;
const double = x => x * 2;
// Template literals
const greeting = \`Hello, \${name}!\`;
// Destructuring
const [first, ...rest] = [1, 2, 3, 4];
const { name, age = 18 } = person;
// Spread operator
const merged = [...arr1, ...arr2];
const clone = { ...original };
// Default parameters
function greet(name = 'Guest') {}
// Symbol
const SECRET = Symbol('secret');
obj[SECRET] = 'hidden';
// Map & Set
const map = new Map([['key', 'value']]);
const unique = [...new Set([1, 2, 2, 3])];
// Optional chaining
const city = user?.address?.city;
// Nullish coalescing
const value = input ?? 'default';
// BigInt
const big = 9007199254740991n;
// Promise methods
await Promise.all([p1, p2]);
await Promise.allSettled([p1, p2]);
await Promise.race([p1, p2]);
await Promise.any([p1, p2]);`,language:"javascript"},{id:"interview-spread-rest",title:"Spread & Rest Operators",content:`# Spread & Rest Operators - Complete Interview Guide

## What are These Operators?
Both spread and rest use the same three dots (...) syntax but they do completely opposite things. This is one of the most confusing topics for beginners but very simple once you understand the context.

## Simple Analogy
- **Spread**: Imagine you have a box of chocolates. Spread is like opening the box and spreading all chocolates on the table individually.
- **Rest**: Imagine chocolates are scattered on table. Rest is like collecting all remaining chocolates and putting them back in a box.

## The Golden Rule
- If ... is on the RIGHT side of = or in function CALL  It's SPREAD (expanding)
- If ... is on the LEFT side of = or in function DEFINITION  It's REST (collecting)

---

# REST PARAMETER (...rest)

## What is Rest Parameter?
Rest parameter allows a function to accept any number of arguments and collects them into a single array. The word "rest" literally means "the rest of the arguments".

## Basic Syntax
\`\`\`js
function functionName(param1, param2, ...restParams) {
  // restParams is an array containing all remaining arguments
}
\`\`\`

## Example 1: Sum of Any Number of Arguments
\`\`\`js
// Without rest parameter (old way using arguments object)
function sumOld() {
  let total = 0;
  for (let i = 0; i < arguments.length; i++) {
    total += arguments[i];
  }
  return total;
}

// With rest parameter (modern and clean)
function sum(...numbers) {
  return numbers.reduce((acc, curr) => acc + curr, 0);
}
console.log(sum(1, 2));           // 3
console.log(sum(1, 2, 3, 4, 5));  // 15
console.log(sum(10, 20, 30));     // 60
\`\`\`

## Interview Question: Why is Rest Better Than arguments Object?
\`\`\`js
// arguments object problems:
function oldWay() {
  console.log(arguments);           // { '0': 1, '1': 2, '2': 3 }
  console.log(Array.isArray(arguments)); // false (it's array-like, not real array)
  // arguments.map(x => x * 2);     // TypeError! map doesn't exist
  
  // Need to convert first
  const arr = Array.from(arguments);
  return arr.map(x => x * 2);
}

// Rest parameter gives real array directly
function newWay(...nums) {
  console.log(nums);                // [1, 2, 3]
  console.log(Array.isArray(nums)); // true
  return nums.map(x => x * 2);      // Works directly!
}
oldWay(1, 2, 3);
newWay(1, 2, 3);
\`\`\`

## Example 2: Rest Must Be Last Parameter
\`\`\`js
// Correct - rest at the end
function greet(greeting, ...names) {
  return names.map(name => greeting + ' ' + name);
}
console.log(greet('Hello', 'John', 'Jane', 'Bob'));
// ['Hello John', 'Hello Jane', 'Hello Bob']

// Correct - first few params separate, rest collects remaining
function calculate(operation, ...numbers) {
  if (operation === 'add') {
    return numbers.reduce((a, b) => a + b, 0);
  } else if (operation === 'multiply') {
    return numbers.reduce((a, b) => a * b, 1);
  }
}
console.log(calculate('add', 1, 2, 3, 4));      // 10
console.log(calculate('multiply', 1, 2, 3, 4)); // 24

// WRONG - SyntaxError!
// function wrong(...rest, last) { } // Rest must be last!
// function wrong(...a, ...b) { }    // Only one rest allowed!
\`\`\`

## Example 3: Extracting First Few and Rest
\`\`\`js
function introduceTeam(leader, coLeader, ...members) {
  console.log('Leader:', leader);
  console.log('Co-Leader:', coLeader);
  console.log('Team Members:', members);
}
introduceTeam('Alice', 'Bob', 'Charlie', 'David', 'Eve');
// Leader: Alice
// Co-Leader: Bob
// Team Members: ['Charlie', 'David', 'Eve']
\`\`\`

---

# SPREAD OPERATOR (...spread)

## What is Spread Operator?
Spread operator expands an iterable (array, string, object) into individual elements. It's like unpacking a suitcase and laying out all items separately.

## Spread in Function Calls
\`\`\`js
// Problem: Math.max expects individual arguments, not array
const scores = [85, 92, 78, 96, 88];
// console.log(Math.max(scores)); // NaN - doesn't work!

// Solution: Spread the array
console.log(Math.max(...scores)); // 96
console.log(Math.min(...scores)); // 78

// What spread does internally:
// Math.max(...scores) becomes Math.max(85, 92, 78, 96, 88)

// Mix spread with other values
console.log(Math.max(0, ...scores, 100)); // 100
console.log(Math.min(-10, ...scores));    // -10
\`\`\`

## Spread in Arrays

### Copying Arrays
\`\`\`js
const original = [1, 2, 3];

// Spread creates a new array (shallow copy)
const copy = [...original];
copy.push(4);
console.log(original); // [1, 2, 3] - unchanged!
console.log(copy);     // [1, 2, 3, 4]

// Without spread (reference copy - both point to same array)
const wrongCopy = original;
wrongCopy.push(4);
console.log(original); // [1, 2, 3, 4] - original changed!
\`\`\`

### Merging Arrays
\`\`\`js
const frontend = ['HTML', 'CSS', 'JavaScript'];
const backend = ['Node.js', 'Python', 'Java'];
const database = ['MongoDB', 'PostgreSQL'];

// Merge all arrays
const fullStack = [...frontend, ...backend, ...database];
console.log(fullStack);
// ['HTML', 'CSS', 'JavaScript', 'Node.js', 'Python', 'Java', 'MongoDB', 'PostgreSQL']

// Insert in between
const skills = [...frontend, 'React', 'Vue', ...backend];
console.log(skills);
// ['HTML', 'CSS', 'JavaScript', 'React', 'Vue', 'Node.js', 'Python', 'Java']

// Add at beginning and end
const complete = ['Fundamentals', ...frontend, 'Advanced'];
console.log(complete);
// ['Fundamentals', 'HTML', 'CSS', 'JavaScript', 'Advanced']
\`\`\`

### Converting Iterables to Arrays
\`\`\`js
// String to array of characters
const word = 'Hello';
const letters = [...word];
console.log(letters); // ['H', 'e', 'l', 'l', 'o']

// Set to array (removes duplicates)
const numbersWithDupes = [1, 2, 2, 3, 3, 3, 4, 4, 4, 4];
const unique = [...new Set(numbersWithDupes)];
console.log(unique); // [1, 2, 3, 4]

// Map to array
const map = new Map([['a', 1], ['b', 2]]);
const mapArray = [...map];
console.log(mapArray); // [['a', 1], ['b', 2]]

// NodeList to array (DOM)
// const divs = [...document.querySelectorAll('div')];
\`\`\`

## Spread in Objects

### Copying Objects
\`\`\`js
const user = { name: 'John', age: 30 };

// Spread creates new object (shallow copy)
const userCopy = { ...user };
userCopy.age = 31;
console.log(user.age);     // 30 - unchanged!
console.log(userCopy.age); // 31
\`\`\`

### Merging Objects
\`\`\`js
const personalInfo = { name: 'John', age: 30 };
const contactInfo = { email: 'john@email.com', phone: '123-456' };
const jobInfo = { company: 'Google', role: 'Developer' };

// Merge all objects
const profile = { ...personalInfo, ...contactInfo, ...jobInfo };
console.log(profile);
// { name: 'John', age: 30, email: 'john@email.com', phone: '123-456', company: 'Google', role: 'Developer' }
\`\`\`

### Property Override (Last One Wins)
\`\`\`js
const defaults = { theme: 'light', fontSize: 14, language: 'en' };
const userPrefs = { theme: 'dark', fontSize: 18 };

// User preferences override defaults
const settings = { ...defaults, ...userPrefs };
console.log(settings);
// { theme: 'dark', fontSize: 18, language: 'en' }

// Order matters!
const wrongOrder = { ...userPrefs, ...defaults };
console.log(wrongOrder);
// { theme: 'light', fontSize: 14, language: 'en' } - defaults override user prefs!
\`\`\`

### Adding or Updating Properties
\`\`\`js
const product = { id: 1, name: 'Phone', price: 999 };

// Add new property
const withStock = { ...product, inStock: true };
console.log(withStock);
// { id: 1, name: 'Phone', price: 999, inStock: true }

// Update existing property
const discounted = { ...product, price: 799 };
console.log(discounted);
// { id: 1, name: 'Phone', price: 799 }

// Add and update together
const updated = { ...product, price: 799, inStock: true, category: 'Electronics' };
console.log(updated);
// { id: 1, name: 'Phone', price: 799, inStock: true, category: 'Electronics' }
\`\`\`

---

# REST IN DESTRUCTURING

## Array Destructuring with Rest
\`\`\`js
const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// Get first two, rest in array
const [first, second, ...remaining] = numbers;
console.log(first);     // 1
console.log(second);    // 2
console.log(remaining); // [3, 4, 5, 6, 7, 8, 9, 10]

// Skip some values
const [a, , , d, ...rest] = numbers;
console.log(a);    // 1
console.log(d);    // 4
console.log(rest); // [5, 6, 7, 8, 9, 10]

// Practical: Head and Tail
const [head, ...tail] = [1, 2, 3, 4, 5];
console.log(head); // 1
console.log(tail); // [2, 3, 4, 5]
\`\`\`

## Object Destructuring with Rest
\`\`\`js
const employee = {
  id: 101,
  name: 'John',
  age: 30,
  department: 'Engineering',
  salary: 75000,
  password: 'secret123'
};

// Extract specific properties, collect rest
const { id, name, ...otherDetails } = employee;
console.log(id);           // 101
console.log(name);         // 'John'
console.log(otherDetails); // { age: 30, department: 'Engineering', salary: 75000, password: 'secret123' }

// Practical: Remove sensitive data
const { password, salary, ...publicInfo } = employee;
console.log(publicInfo);
// { id: 101, name: 'John', age: 30, department: 'Engineering' }
\`\`\`

---

# INTERVIEW FAVORITE QUESTIONS

## Q1: Remove Property Immutably (Without Mutating Original)
\`\`\`js
// Common requirement in React/Redux
const user = {
  id: 1,
  name: 'John',
  email: 'john@email.com',
  password: 'secret123'
};

// Method 1: Using rest in destructuring
const removeProperty = (obj, propToRemove) => {
  const { [propToRemove]: removed, ...rest } = obj;
  return rest;
};

const safeUser = removeProperty(user, 'password');
console.log(safeUser); // { id: 1, name: 'John', email: 'john@email.com' }
console.log(user);     // Original unchanged

// Method 2: Remove multiple properties
const { password, email, ...minimal } = user;
console.log(minimal); // { id: 1, name: 'John' }
\`\`\`

## Q2: Conditional Object Properties
\`\`\`js
// Add property only if condition is true
const isAdmin = true;
const hasSubscription = false;

const user = {
  name: 'John',
  age: 30,
  ...(isAdmin && { role: 'admin', permissions: ['read', 'write', 'delete'] }),
  ...(hasSubscription && { plan: 'premium', expiryDate: '2025-12-31' })
};

console.log(user);
// { name: 'John', age: 30, role: 'admin', permissions: ['read', 'write', 'delete'] }
// Note: hasSubscription properties not added because condition is false

// Why this works:
// true && { role: 'admin' } = { role: 'admin' } -> spread adds the properties
// false && { plan: 'premium' } = false -> spread of false adds nothing
\`\`\`

## Q3: Function with Options Object
\`\`\`js
// Common pattern in libraries and APIs
function createUser({ name, email, ...options }) {
  const user = {
    name,
    email,
    createdAt: new Date(),
    ...options
  };
  return user;
}

const newUser = createUser({
  name: 'John',
  email: 'john@email.com',
  age: 30,
  role: 'developer',
  department: 'Engineering'
});

console.log(newUser);
// { name: 'John', email: 'john@email.com', createdAt: Date, age: 30, role: 'developer', department: 'Engineering' }
\`\`\`

## Q4: Merge Arrays Without Duplicates
\`\`\`js
const array1 = [1, 2, 3, 4, 5];
const array2 = [4, 5, 6, 7, 8];

// Combine and remove duplicates
const merged = [...new Set([...array1, ...array2])];
console.log(merged); // [1, 2, 3, 4, 5, 6, 7, 8]

// Step by step:
// 1. [...array1, ...array2] = [1, 2, 3, 4, 5, 4, 5, 6, 7, 8]
// 2. new Set([...]) = Set { 1, 2, 3, 4, 5, 6, 7, 8 }
// 3. [...Set] = [1, 2, 3, 4, 5, 6, 7, 8]
\`\`\`

## Q5: Clone and Modify in One Line
\`\`\`js
const state = {
  user: 'John',
  isLoggedIn: true,
  cart: ['item1', 'item2']
};

// Add item to cart immutably (common in React)
const newState = {
  ...state,
  cart: [...state.cart, 'item3']
};

console.log(state.cart);    // ['item1', 'item2'] - unchanged
console.log(newState.cart); // ['item1', 'item2', 'item3']
\`\`\`

## Q6: Convert Arguments to Array and Transform
\`\`\`js
function doubleAll(...numbers) {
  return numbers.map(n => n * 2);
}
console.log(doubleAll(1, 2, 3, 4, 5)); // [2, 4, 6, 8, 10]

// Practical: Logger function
function log(level, ...messages) {
  const timestamp = new Date().toISOString();
  console.log(\`[\${timestamp}] [\${level.toUpperCase()}]\`, ...messages);
}
log('info', 'User logged in', 'userId:', 123);
// [2024-01-15T10:30:00.000Z] [INFO] User logged in userId: 123
\`\`\`

---

# SHALLOW VS DEEP COPY (CRITICAL FOR INTERVIEWS!)

## Understanding Shallow Copy
\`\`\`js
// Spread creates SHALLOW copy
// Shallow = Only first level is copied, nested objects are still referenced

const original = {
  name: 'John',
  age: 30,
  address: {
    city: 'New York',
    country: 'USA'
  },
  hobbies: ['reading', 'gaming']
};

const shallowCopy = { ...original };

// Modifying primitive (first level) - SAFE
shallowCopy.name = 'Jane';
shallowCopy.age = 25;
console.log(original.name); // 'John' - unchanged
console.log(original.age);  // 30 - unchanged

// Modifying nested object - DANGER!
shallowCopy.address.city = 'Los Angeles';
console.log(original.address.city); // 'Los Angeles' - CHANGED!

// Modifying nested array - DANGER!
shallowCopy.hobbies.push('cooking');
console.log(original.hobbies); // ['reading', 'gaming', 'cooking'] - CHANGED!
\`\`\`

## Why Does This Happen?
\`\`\`js
// Visual explanation:
// original.address -----> { city: 'New York', country: 'USA' }
//                              ^
// shallowCopy.address -------- | (points to same object!)

// After spread:
// - Primitives (name, age) are copied by value
// - Objects/Arrays (address, hobbies) are copied by reference
\`\`\`

## Deep Copy Solutions

### Solution 1: JSON Method
\`\`\`js
const original = {
  name: 'John',
  address: { city: 'NYC' }
};

const deepCopy = JSON.parse(JSON.stringify(original));
deepCopy.address.city = 'LA';
console.log(original.address.city); // 'NYC' - unchanged!

// LIMITATIONS of JSON method:
const problematic = {
  date: new Date(),           // Becomes string
  func: function() {},        // Lost completely
  undef: undefined,           // Lost completely
  symbol: Symbol('test'),     // Lost completely
  infinity: Infinity,         // Becomes null
  nan: NaN,                   // Becomes null
  regex: /test/g              // Becomes empty object {}
};
const jsonCopy = JSON.parse(JSON.stringify(problematic));
console.log(jsonCopy);
// { date: '2024-01-15T...', infinity: null, nan: null, regex: {} }
// func, undef, symbol are missing!
\`\`\`

### Solution 2: structuredClone (Modern - Recommended)
\`\`\`js
const original = {
  name: 'John',
  address: { city: 'NYC' },
  date: new Date(),
  numbers: [1, 2, 3],
  nested: { deep: { deeper: { value: 42 } } }
};

const deepCopy = structuredClone(original);
deepCopy.address.city = 'LA';
deepCopy.nested.deep.deeper.value = 100;

console.log(original.address.city);           // 'NYC' - unchanged!
console.log(original.nested.deep.deeper.value); // 42 - unchanged!

// LIMITATIONS of structuredClone:
// - Cannot clone functions
// - Cannot clone DOM nodes
// - Cannot clone certain objects (Error, WeakMap, WeakSet)
\`\`\`

### Solution 3: Custom Recursive Function
\`\`\`js
function deepClone(obj) {
  // Handle null and primitives
  if (obj === null || typeof obj !== 'object') {
    return obj;
  }
  // Handle Date
  if (obj instanceof Date) {
    return new Date(obj.getTime());
  }
  // Handle Array
  if (Array.isArray(obj)) {
    return obj.map(item => deepClone(item));
  }
  // Handle Object
  const cloned = {};
  for (const key in obj) {
    if (obj.hasOwnProperty(key)) {
      cloned[key] = deepClone(obj[key]);
    }
  }
  return cloned;
}

const original = {
  a: 1,
  b: { c: 2, d: { e: 3 } },
  arr: [1, [2, 3], { f: 4 }]
};
const deep = deepClone(original);
deep.b.d.e = 100;
console.log(original.b.d.e); // 3 - unchanged!
\`\`\`

### Solution 4: Lodash Library
\`\`\`js
// Using lodash (most reliable for complex cases)
// import _ from 'lodash';
// const deepCopy = _.cloneDeep(original);
\`\`\`

---

# COMMON INTERVIEW MISTAKES AND TRAPS

## Mistake 1: Thinking Spread Does Deep Copy
\`\`\`js
const nested = { arr: [1, 2, 3] };
const copy = { ...nested };
copy.arr.push(4);
console.log(nested.arr); // [1, 2, 3, 4] - Original modified!

// Fix: Deep clone nested parts too
const correctCopy = { ...nested, arr: [...nested.arr] };
correctCopy.arr.push(4);
console.log(nested.arr); // [1, 2, 3] - Original safe!
\`\`\`

## Mistake 2: Spreading Non-Iterables
\`\`\`js
// These will throw errors:
// const spreadNumber = [...123];      // TypeError
// const spreadNull = [...null];       // TypeError
// const spreadUndefined = [...undefined]; // TypeError

// These work:
const spreadString = [..."hello"];     // ['h', 'e', 'l', 'l', 'o']
const spreadArray = [...[1, 2, 3]];    // [1, 2, 3]
const spreadSet = [...new Set([1])];  // [1]
\`\`\`

## Mistake 3: Rest Not at the End
\`\`\`js
// WRONG - SyntaxError
// function wrong(...rest, last) { }
// const [first, ...middle, last] = [1, 2, 3, 4];

// CORRECT
function correct(first, ...rest) { }
const [head, ...tail] = [1, 2, 3, 4];
\`\`\`

## Mistake 4: Spreading Object into Array
\`\`\`js
const obj = { a: 1, b: 2 };
// const arr = [...obj]; // TypeError! Objects aren't iterable

// Correct ways:
const keys = Object.keys(obj);     // ['a', 'b']
const values = Object.values(obj); // [1, 2]
const entries = Object.entries(obj); // [['a', 1], ['b', 2]]
\`\`\`

---

# QUICK REFERENCE TABLE

| Feature | Spread | Rest |
|---------|--------|------|
| Syntax | ...array | ...params |
| Purpose | Expand elements | Collect elements |
| Location | Right side / Function call | Left side / Function definition |
| Result | Individual elements | Array |
| Example | Math.max(...arr) | function(...args) |

---

# PRACTICAL REAL-WORLD EXAMPLES

## React State Update
\`\`\`js
// Adding item to array in state
const [items, setItems] = useState(['item1', 'item2']);
setItems([...items, 'newItem']);

// Updating object in state
const [user, setUser] = useState({ name: 'John', age: 30 });
setUser({ ...user, age: 31 });

// Removing item from array
const removeItem = (index) => {
  setItems(items.filter((_, i) => i !== index));
};
\`\`\`

## API Response Handling
\`\`\`js
const apiResponse = {
  data: { id: 1, name: 'Product' },
  meta: { timestamp: '2024-01-15' },
  status: 200
};

const { data, ...metadata } = apiResponse;
console.log(data);     // { id: 1, name: 'Product' }
console.log(metadata); // { meta: {...}, status: 200 }
\`\`\`

## Config Merging
\`\`\`js
const defaultConfig = {
  timeout: 5000,
  retries: 3,
  baseURL: 'https://api.example.com',
  headers: { 'Content-Type': 'application/json' }
};

function createClient(userConfig = {}) {
  return {
    ...defaultConfig,
    ...userConfig,
    headers: {
      ...defaultConfig.headers,
      ...userConfig.headers
    }
  };
}

const client = createClient({
  timeout: 10000,
  headers: { 'Authorization': 'Bearer token' }
});
console.log(client);
// { timeout: 10000, retries: 3, baseURL: '...', headers: { 'Content-Type': '...', 'Authorization': '...' } }
\`\`\``,codeExample:`// Quick Cheat Sheet for Interview
// ================================

// REST - Collects arguments into array
function sum(...nums) { return nums.reduce((a,b) => a+b, 0); }

// SPREAD - Expands array into arguments
Math.max(...[1, 2, 3]); // 3

// SPREAD - Copy array
const copy = [...original];

// SPREAD - Merge arrays
const merged = [...arr1, ...arr2];

// SPREAD - Copy object
const clone = { ...obj };

// SPREAD - Merge objects (last wins)
const merged = { ...defaults, ...userPrefs };

// REST in destructuring
const [first, ...rest] = [1, 2, 3, 4];
const { name, ...others } = person;

// Remove property immutably
const { password, ...safeUser } = user;

// Conditional spread
const obj = { a: 1, ...(condition && { b: 2 }) };

// REMEMBER: Spread = SHALLOW copy only!
const shallow = { ...nested }; // Nested objects still referenced`,language:"javascript"}]},{id:"interview-react",title:"React Interview",description:"React-specific interview questions and patterns.",difficulty:"intermediate",duration:"3 hours",topics:["Virtual DOM","Lifecycle","Hooks","State Management"],lessons:[]},{id:"interview-coding",title:"Coding Challenges",description:"Practice common coding challenges for interviews.",difficulty:"advanced",duration:"6 hours",topics:["Arrays","Strings","Objects","Algorithms"],lessons:[{id:"interview-array-challenges",title:"Array Challenges",content:`# Array Coding Challenges

Practice common array manipulation problems.`,codeExample:`// Remove Duplicates
const removeDuplicates = arr => [...new Set(arr)];
console.log("Remove duplicates:", removeDuplicates([1,2,2,3,3,3]));

// Find Duplicates
const findDuplicates = arr => {
  const seen = new Set();
  const dupes = new Set();
  arr.forEach(x => seen.has(x) ? dupes.add(x) : seen.add(x));
  return [...dupes];
};
console.log("Find duplicates:", findDuplicates([1,2,2,3,3,4]));

// Array Intersection
const intersection = (a, b) => a.filter(x => new Set(b).has(x));
console.log("Intersection:", intersection([1,2,3], [2,3,4]));

// Flatten Array
const flatten = arr => arr.flat(Infinity);
console.log("Flatten:", flatten([1,[2,[3,[4]]]]));

// Chunk Array
const chunk = (arr, size) => {
  const result = [];
  for (let i = 0; i < arr.length; i += size) {
    result.push(arr.slice(i, i + size));
  }
  return result;
};
console.log("Chunk:", chunk([1,2,3,4,5], 2));`,language:"javascript"}]},{id:"interview-system",title:"System Design",description:"Frontend system design interview preparation.",difficulty:"advanced",duration:"4 hours",topics:["Architecture","Performance","Scalability","Best Practices"],lessons:[]}];function eD(e){switch(e){case"interview":return C1;case"html-css":return x1;case"react":return jl;case"javascript":return S1;default:return[]}}function cn(e,t){return eD(e).find(o=>o.id===t)}function kl(e,t,n){const o=cn(e,t);return o==null?void 0:o.lessons.find(r=>r.id===n)}function Tl({topic:e,basePath:t,categoryTitle:n,onBack:o}){const r=Me(),s=a=>{r(`${t}/${e.id}/${a}`)},i=e.difficulty==="beginner"?"success":e.difficulty==="intermediate"?"warning":"destructive";return d.jsxs(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"container mx-auto px-4 py-8",children:[d.jsxs(J,{variant:"ghost",onClick:o,className:"mb-6 gap-2",children:[d.jsx(qP,{className:"h-4 w-4"}),"Back to ",n]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:e.title}),d.jsx("p",{className:"text-muted-foreground max-w-2xl",children:e.description})]}),d.jsx(Ke,{variant:i,className:"text-sm",children:e.difficulty})]}),d.jsxs("div",{className:"flex items-center gap-6 mt-4 text-sm text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ys,{className:"h-4 w-4"}),d.jsx("span",{children:e.duration})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ns,{className:"h-4 w-4"}),d.jsxs("span",{children:[e.lessons.length," lessons"]})]})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:e.topics.map(a=>d.jsx(Ke,{variant:"outline",children:a},a))})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[d.jsx(Ns,{className:"h-5 w-5"}),"Lessons"]}),e.lessons.length===0?d.jsx(Bt,{className:"border-dashed",children:d.jsx(an,{className:"py-12 text-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Lessons for this topic are coming soon!"})})}):d.jsx("div",{className:"grid gap-4",children:e.lessons.map((a,l)=>d.jsx(yt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.1},children:d.jsx(Bt,{className:"hover:shadow-md transition-all hover:border-primary/50 cursor-pointer group",onClick:()=>s(a.id),children:d.jsx(an,{className:"p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10 text-primary font-semibold",children:l+1}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium group-hover:text-primary transition-colors",children:a.title}),a.language&&d.jsx(Ke,{variant:"secondary",className:"mt-1 text-xs",children:a.language})]})]}),d.jsx(J,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(lo,{className:"h-4 w-4"})})]})})})},a.id))})]}),e.lessons.length>0&&d.jsx("div",{className:"mt-8 flex justify-center",children:d.jsxs(J,{size:"lg",onClick:()=>s(e.lessons[0].id),className:"gap-2",children:[d.jsx(lo,{className:"h-5 w-5"}),"Start Learning"]})})]})}function Al({topic:e,lesson:t,lessonIndex:n,basePath:o}){const r=Me(),[s,i]=m.useState(!1),a=e.lessons[n-1],l=e.lessons[n+1],c=t.language||"javascript",u=async()=>{t.codeExample&&(await navigator.clipboard.writeText(t.codeExample),i(!0),setTimeout(()=>i(!1),2e3))},f=()=>{r("/playground",{state:{code:t.codeExample,language:c}})},p=w=>{const v=[],x=w.split(`
`);let h=0,g=0;for(;h<x.length;){const b=x[h],S=b.match(/^```(\w*)/);if(S){const C=S[1]||"javascript",j=[];for(h++;h<x.length&&!x[h].startsWith("```");)j.push(x[h]),h++;h++;const E=j.join(`
`);v.push(d.jsx("div",{className:"my-4",children:d.jsxs("div",{className:"rounded-lg border bg-card overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-muted/50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Na,{className:"h-4 w-4 text-muted-foreground"}),d.jsx(Ke,{variant:"secondary",className:"text-xs",children:C})]}),d.jsxs(J,{variant:"ghost",size:"sm",className:"h-7 text-xs gap-1",onClick:()=>{navigator.clipboard.writeText(E)},children:[d.jsx(zu,{className:"h-3 w-3"}),"Copy"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsx("pre",{className:"p-4 text-sm font-mono leading-relaxed",children:d.jsx("code",{children:E.split(`
`).map((k,N)=>d.jsxs("div",{className:"table-row",children:[d.jsx("span",{className:"table-cell pr-4 text-muted-foreground select-none text-right w-8 opacity-50",children:N+1}),d.jsx("span",{className:"table-cell",children:Og(k,C)})]},N))})})})]})},g++));continue}if(b.trim().startsWith("|")&&b.trim().endsWith("|")){const C=[];for(;h<x.length&&x[h].trim().startsWith("|")&&x[h].trim().endsWith("|");)C.push(x[h]),h++;if(C.length>=2){const j=F=>F.split("|").slice(1,-1).map(U=>U.trim()),E=j(C[0]),k=F=>/^\|[\s\-:]+\|$/.test(F.replace(/\|/g,"|").replace(/[^|\-:\s]/g,""));let N=1;C.length>1&&k(C[1])&&(N=2);const P=C.slice(N).map(j);v.push(d.jsx("div",{className:"my-4 overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse border border-border rounded-lg text-sm",children:[d.jsx("thead",{children:d.jsx("tr",{className:"bg-muted/50",children:E.map((F,U)=>d.jsx("th",{className:"border border-border px-4 py-2 text-left font-semibold",children:y(F)},U))})}),d.jsx("tbody",{children:P.map((F,U)=>d.jsx("tr",{className:U%2===0?"bg-background":"bg-muted/20",children:F.map((H,M)=>d.jsx("td",{className:"border border-border px-4 py-2",children:y(H)},M))},U))})]})},g++));continue}}b.startsWith("# ")?v.push(d.jsx("h1",{className:"text-3xl font-bold mt-8 mb-4 first:mt-0",children:b.slice(2)},g++)):b.startsWith("## ")?v.push(d.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-3",children:b.slice(3)},g++)):b.startsWith("### ")?v.push(d.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2",children:b.slice(4)},g++)):b.startsWith("- ")?v.push(d.jsx("li",{className:"ml-6 mb-1 list-disc",children:y(b.slice(2))},g++)):b.match(/^\d+\. /)?v.push(d.jsx("li",{className:"ml-6 mb-1 list-decimal",children:y(b.replace(/^\d+\. /,""))},g++)):b.startsWith("---")?v.push(d.jsx("hr",{className:"my-6 border-border"},g++)):b.trim()===""?v.push(d.jsx("div",{className:"h-2"},g++)):v.push(d.jsx("p",{className:"mb-3 text-muted-foreground leading-relaxed",children:y(b)},g++)),h++}return v},y=w=>w.split(/(`[^`]+`)/).map((x,h)=>x.startsWith("`")&&x.endsWith("`")?d.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-primary",children:x.slice(1,-1)},h):x.split(/(\*\*[^*]+\*\*)/).map((b,S)=>b.startsWith("**")&&b.endsWith("**")?d.jsx("strong",{className:"text-foreground font-semibold",children:b.slice(2,-2)},`${h}-${S}`):d.jsx("span",{children:b},`${h}-${S}`)));return d.jsxs(yt.div,{initial:{opacity:0},animate:{opacity:1},className:"h-[calc(100vh-4rem)] flex flex-col",children:[d.jsxs("div",{className:"border-b bg-card px-6 py-4 shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[d.jsx(Ns,{className:"h-4 w-4"}),d.jsx("span",{children:e.title}),d.jsx(Pa,{className:"h-4 w-4"}),d.jsx("span",{className:"text-foreground font-medium",children:t.title})]}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("h1",{className:"text-2xl font-bold",children:t.title})})]}),d.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:d.jsx(pl,{className:"h-full",children:d.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[d.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:p(t.content)}),t.codeExample&&d.jsx("div",{className:"mt-8",children:d.jsxs("div",{className:"rounded-lg border bg-card overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-muted/50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Na,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm font-medium",children:"Code Example"}),d.jsx(Ke,{variant:"secondary",className:"text-xs",children:c})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs(J,{onClick:u,variant:"ghost",size:"sm",className:"gap-1 h-7 text-xs",children:[s?d.jsx(Uf,{className:"h-3 w-3"}):d.jsx(zu,{className:"h-3 w-3"}),s?"Copied!":"Copy"]}),d.jsxs(J,{onClick:f,variant:"ghost",size:"sm",className:"gap-1 h-7 text-xs",children:[d.jsx(tN,{className:"h-3 w-3"}),"Try in Playground"]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsx("pre",{className:"p-4 text-sm font-mono leading-relaxed",children:d.jsx("code",{className:q("block whitespace-pre",c==="javascript"&&"language-javascript",c==="typescript"&&"language-typescript",c==="html"&&"language-html",c==="css"&&"language-css",c==="python"&&"language-python",c==="cpp"&&"language-cpp"),children:t.codeExample.split(`
`).map((w,v)=>d.jsxs("div",{className:"table-row",children:[d.jsx("span",{className:"table-cell pr-4 text-muted-foreground select-none text-right w-8",children:v+1}),d.jsx("span",{className:"table-cell",children:Og(w,c)})]},v))})})})]})})]})})}),d.jsx("div",{className:"border-t bg-card px-6 py-4 shrink-0",children:d.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[d.jsxs(J,{variant:"outline",onClick:()=>a&&r(`${o}/${e.id}/${a.id}`),disabled:!a,className:"gap-2",children:[d.jsx(ix,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:(a==null?void 0:a.title)||"Previous"}),d.jsx("span",{className:"sm:hidden",children:"Prev"})]}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[n+1," / ",e.lessons.length]}),d.jsxs(J,{onClick:()=>l&&r(`${o}/${e.id}/${l.id}`),disabled:!l,className:"gap-2",children:[d.jsx("span",{className:"hidden sm:inline",children:(l==null?void 0:l.title)||"Next"}),d.jsx("span",{className:"sm:hidden",children:"Next"}),d.jsx(Pa,{className:"h-4 w-4"})]})]})})]})}function Og(e,t){if(!e)return" ";const n={javascript:["const","let","var","function","return","if","else","for","while","class","import","export","from","async","await","try","catch","throw","new","this","true","false","null","undefined","typeof","instanceof"],js:["const","let","var","function","return","if","else","for","while","class","import","export","from","async","await","try","catch","throw","new","this","true","false","null","undefined","typeof","instanceof"],typescript:["const","let","var","function","return","if","else","for","while","class","import","export","from","async","await","try","catch","throw","new","this","true","false","null","undefined","interface","type","extends","implements","typeof","instanceof"],ts:["const","let","var","function","return","if","else","for","while","class","import","export","from","async","await","try","catch","throw","new","this","true","false","null","undefined","interface","type","extends","implements","typeof","instanceof"],python:["def","return","if","else","elif","for","while","class","import","from","try","except","raise","with","as","True","False","None","and","or","not","in","is","lambda","yield","async","await"],cpp:["int","float","double","char","void","bool","string","return","if","else","for","while","class","struct","public","private","protected","include","using","namespace","std","cout","cin","endl","true","false","nullptr","new","delete"]},o=n[t]||n.javascript||[];return e.trim().startsWith("//")||e.trim().startsWith("#")?d.jsx("span",{className:"text-muted-foreground italic",children:e}):e.split(/(\s+|[(){}[\];,.<>]|"[^"]*"|'[^']*'|`[^`]*`)/).map((s,i)=>s.startsWith('"')||s.startsWith("'")||s.startsWith("`")?d.jsx("span",{className:"text-green-600 dark:text-green-400",children:s},i):/^\d+$/.test(s)?d.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:s},i):o.includes(s)?d.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:s},i):["console","print","cout","log","error","warn"].includes(s)?d.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:s},i):d.jsx("span",{children:s},i))}const tD={beginner:"success",intermediate:"warning",advanced:"destructive"};function nD(){const e=Me();return d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-lg bg-yellow-500/10 flex items-center justify-center",children:d.jsx(ZP,{className:"h-6 w-6 text-yellow-500"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"JavaScript"}),d.jsx("p",{className:"text-muted-foreground",children:"Master the language of the web"})]})]}),d.jsx("p",{className:"text-muted-foreground max-w-3xl",children:"From basics to advanced concepts, learn JavaScript step by step with practical examples and hands-on exercises."})]}),d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:S1.map((t,n)=>d.jsx(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:n*.1},children:d.jsxs(Bt,{className:"h-full hover:shadow-lg transition-all hover:border-primary/50 group cursor-pointer",onClick:()=>e(`/javascript/${t.id}`),children:[d.jsxs(vr,{children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsx(br,{className:"text-xl",children:t.title}),d.jsx(Ke,{variant:tD[t.difficulty],children:t.difficulty})]}),d.jsx(wr,{children:t.description})]}),d.jsxs(an,{children:[d.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ys,{className:"h-4 w-4"}),d.jsx("span",{children:t.duration})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(lo,{className:"h-4 w-4"}),d.jsxs("span",{children:[t.lessons.length," lessons"]})]})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.topics.map(o=>d.jsx(Ke,{variant:"outline",className:"text-xs",children:o},o))}),d.jsxs(J,{className:"w-full group-hover:bg-primary group-hover:text-primary-foreground",variant:"outline",children:["Start Learning",d.jsx(Gs,{className:"h-4 w-4 ml-2"})]})]})]})},t.id))})]})}function oD(){const{topicId:e}=Hn(),t=Me(),n=cn("javascript",e||"");return n?d.jsx(Tl,{topic:n,basePath:"/javascript",categoryTitle:"JavaScript",onBack:()=>t("/javascript")}):d.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Topic not found"}),d.jsx(J,{onClick:()=>t("/javascript"),children:"Back to JavaScript"})]})}function rD(){const{topicId:e,lessonId:t}=Hn(),n=Me(),o=cn("javascript",e||""),r=kl("javascript",e||"",t||"");if(!o||!r)return d.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Lesson not found"}),d.jsx(J,{onClick:()=>n("/javascript"),children:"Back to JavaScript"})]});const s=o.lessons.findIndex(i=>i.id===t);return d.jsx(Al,{topic:o,lesson:r,lessonIndex:s,basePath:"/javascript"})}function sD(){return d.jsxs(Vs,{children:[d.jsx(be,{index:!0,element:d.jsx(nD,{})}),d.jsx(be,{path:":topicId",element:d.jsx(oD,{})}),d.jsx(be,{path:":topicId/:lessonId",element:d.jsx(rD,{})})]})}const iD={beginner:"success",intermediate:"warning",advanced:"destructive"};function aD(){const e=Me();return d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-lg bg-orange-500/10 flex items-center justify-center",children:d.jsx(Bf,{className:"h-6 w-6 text-orange-500"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"HTML & CSS"}),d.jsx("p",{className:"text-muted-foreground",children:"Build beautiful, responsive web pages"})]})]}),d.jsx("p",{className:"text-muted-foreground max-w-3xl",children:"Learn to structure content with semantic HTML and style it with modern CSS. Master Flexbox, Grid, and responsive design techniques."})]}),d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:x1.map((t,n)=>d.jsx(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:n*.1},children:d.jsxs(Bt,{className:"h-full hover:shadow-lg transition-all hover:border-primary/50 group cursor-pointer",onClick:()=>e(`/html-css/${t.id}`),children:[d.jsxs(vr,{children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsx(br,{className:"text-xl",children:t.title}),d.jsx(Ke,{variant:iD[t.difficulty],children:t.difficulty})]}),d.jsx(wr,{children:t.description})]}),d.jsxs(an,{children:[d.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ys,{className:"h-4 w-4"}),d.jsx("span",{children:t.duration})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(lo,{className:"h-4 w-4"}),d.jsxs("span",{children:[t.lessons.length," lessons"]})]})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.topics.map(o=>d.jsx(Ke,{variant:"outline",className:"text-xs",children:o},o))}),d.jsxs(J,{className:"w-full group-hover:bg-primary group-hover:text-primary-foreground",variant:"outline",children:["Start Learning",d.jsx(Gs,{className:"h-4 w-4 ml-2"})]})]})]})},t.id))})]})}function lD(){const{topicId:e}=Hn(),t=Me(),n=cn("html-css",e||"");return n?d.jsx(Tl,{topic:n,basePath:"/html-css",categoryTitle:"HTML & CSS",onBack:()=>t("/html-css")}):d.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Topic not found"}),d.jsx(J,{onClick:()=>t("/html-css"),children:"Back to HTML & CSS"})]})}function cD(){const{topicId:e,lessonId:t}=Hn(),n=Me(),o=cn("html-css",e||""),r=kl("html-css",e||"",t||"");if(!o||!r)return d.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Lesson not found"}),d.jsx(J,{onClick:()=>n("/html-css"),children:"Back to HTML & CSS"})]});const s=o.lessons.findIndex(i=>i.id===t);return d.jsx(Al,{topic:o,lesson:r,lessonIndex:s,basePath:"/html-css"})}function uD(){return d.jsxs(Vs,{children:[d.jsx(be,{index:!0,element:d.jsx(aD,{})}),d.jsx(be,{path:":topicId",element:d.jsx(lD,{})}),d.jsx(be,{path:":topicId/:lessonId",element:d.jsx(cD,{})})]})}const dD={beginner:"success",intermediate:"warning",advanced:"destructive"};console.log(jl);function fD(){const e=Me();return d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-lg bg-cyan-500/10 flex items-center justify-center",children:d.jsx(Ff,{className:"h-6 w-6 text-cyan-500"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"React"}),d.jsx("p",{className:"text-muted-foreground",children:"Build modern user interfaces"})]})]}),d.jsx("p",{className:"text-muted-foreground max-w-3xl",children:"Learn React from the ground up. Master components, hooks, state management, and advanced patterns used in production applications."})]}),d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:jl.map((t,n)=>d.jsx(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:n*.1},children:d.jsxs(Bt,{className:"h-full hover:shadow-lg transition-all hover:border-primary/50 group cursor-pointer",onClick:()=>e(`/react/${t.id}`),children:[d.jsxs(vr,{children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsx(br,{className:"text-xl",children:t.title}),d.jsx(Ke,{variant:dD[t.difficulty],children:t.difficulty})]}),d.jsx(wr,{children:t.description})]}),d.jsxs(an,{children:[d.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ys,{className:"h-4 w-4"}),d.jsx("span",{children:t.duration})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(lo,{className:"h-4 w-4"}),d.jsxs("span",{children:[t.lessons.length," lessons"]})]})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.topics.map(o=>d.jsx(Ke,{variant:"outline",className:"text-xs",children:o},o))}),d.jsxs(J,{className:"w-full group-hover:bg-primary group-hover:text-primary-foreground",variant:"outline",children:["Start Learning",d.jsx(Gs,{className:"h-4 w-4 ml-2"})]})]})]})},t.id))})]})}function pD(){const{topicId:e}=Hn(),t=Me();console.log("Looking for topicId:",e),console.log("Available topics:",jl);const n=cn("react",e||"");return console.log("Found topic:",n),n?d.jsx(Tl,{topic:n,basePath:"/react",categoryTitle:"React",onBack:()=>t("/react")}):d.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Topic not found"}),d.jsxs("p",{className:"text-muted-foreground mb-4",children:["Looking for: ",e]}),d.jsx(J,{onClick:()=>t("/react"),children:"Back to React"})]})}function mD(){const{topicId:e,lessonId:t}=Hn(),n=Me(),o=cn("react",e||""),r=kl("react",e||"",t||"");if(!o||!r)return d.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Lesson not found"}),d.jsx(J,{onClick:()=>n("/react"),children:"Back to React"})]});const s=o.lessons.findIndex(i=>i.id===t);return d.jsx(Al,{topic:o,lesson:r,lessonIndex:s,basePath:"/react"})}function hD(){return d.jsxs(Vs,{children:[d.jsx(be,{index:!0,element:d.jsx(fD,{})}),d.jsx(be,{path:":topicId",element:d.jsx(pD,{})}),d.jsx(be,{path:":topicId/:lessonId",element:d.jsx(mD,{})})]})}const gD={beginner:"success",intermediate:"warning",advanced:"destructive"};function yD(){const e=Me();return d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-500/10 flex items-center justify-center",children:d.jsx(_f,{className:"h-6 w-6 text-purple-500"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Interview Preparation"}),d.jsx("p",{className:"text-muted-foreground",children:"Ace your frontend interviews"})]})]}),d.jsx("p",{className:"text-muted-foreground max-w-3xl",children:"Prepare for frontend developer interviews with curated questions, coding challenges, and system design problems."})]}),d.jsx(Bt,{className:"mb-8 bg-gradient-to-r from-purple-500/10 to-purple-500/5 border-purple-500/20",children:d.jsx(an,{className:"p-6",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx(lN,{className:"h-8 w-8 text-purple-500 shrink-0"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-2",children:"Interview Success Tips"}),d.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[d.jsx("li",{children:" Practice coding problems daily in the Playground"}),d.jsx("li",{children:" Understand concepts deeply, not just memorize answers"}),d.jsx("li",{children:" Build projects to demonstrate your skills"}),d.jsx("li",{children:" Review common behavioral questions too"})]})]})]})})}),d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:C1.map((t,n)=>d.jsx(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:n*.1},children:d.jsxs(Bt,{className:"h-full hover:shadow-lg transition-all hover:border-primary/50 group cursor-pointer",onClick:()=>e(`/interview/${t.id}`),children:[d.jsxs(vr,{children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsx(br,{className:"text-xl",children:t.title}),d.jsx(Ke,{variant:gD[t.difficulty],children:t.difficulty})]}),d.jsx(wr,{children:t.description})]}),d.jsxs(an,{children:[d.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ys,{className:"h-4 w-4"}),d.jsx("span",{children:t.duration})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(lo,{className:"h-4 w-4"}),d.jsxs("span",{children:[t.lessons.length," lessons"]})]})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.topics.map(o=>d.jsx(Ke,{variant:"outline",className:"text-xs",children:o},o))}),d.jsxs(J,{className:"w-full group-hover:bg-primary group-hover:text-primary-foreground",variant:"outline",children:["Start Practice",d.jsx(Gs,{className:"h-4 w-4 ml-2"})]})]})]})},t.id))})]})}function vD(){const{topicId:e}=Hn(),t=Me(),n=cn("interview",e||"");return n?d.jsx(Tl,{topic:n,basePath:"/interview",categoryTitle:"Interview Prep",onBack:()=>t("/interview")}):d.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Topic not found"}),d.jsx(J,{onClick:()=>t("/interview"),children:"Back to Interview Prep"})]})}function bD(){const{topicId:e,lessonId:t}=Hn(),n=Me(),o=cn("interview",e||""),r=kl("interview",e||"",t||"");if(!o||!r)return d.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Lesson not found"}),d.jsx(J,{onClick:()=>n("/interview"),children:"Back to Interview Prep"})]});const s=o.lessons.findIndex(i=>i.id===t);return d.jsx(Al,{topic:o,lesson:r,lessonIndex:s,basePath:"/interview"})}function wD(){return d.jsxs(Vs,{children:[d.jsx(be,{index:!0,element:d.jsx(yD,{})}),d.jsx(be,{path:":topicId",element:d.jsx(vD,{})}),d.jsx(be,{path:":topicId/:lessonId",element:d.jsx(bD,{})})]})}function xD(){const e=Vn(),t=OM(),[n,o]=m.useState(!t);return d.jsxs("div",{className:"flex min-h-screen bg-background",children:[d.jsx(fN,{open:n,onOpenChange:o}),d.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[d.jsx(NM,{onMenuClick:()=>o(!n)}),d.jsx("main",{className:"flex-1 overflow-auto",children:d.jsx(rb,{mode:"wait",children:d.jsxs(Vs,{location:e,children:[d.jsx(be,{path:"/",element:d.jsx(Co,{children:d.jsx(DM,{})})}),d.jsx(be,{path:"/playground",element:d.jsx(Co,{children:d.jsx(Z3,{})})}),d.jsx(be,{path:"/javascript/*",element:d.jsx(Co,{children:d.jsx(sD,{})})}),d.jsx(be,{path:"/html-css/*",element:d.jsx(Co,{children:d.jsx(uD,{})})}),d.jsx(be,{path:"/react/*",element:d.jsx(Co,{children:d.jsx(hD,{})})}),d.jsx(be,{path:"/interview/*",element:d.jsx(Co,{children:d.jsx(wD,{})})})]},e.pathname)})})]})]})}Oc.createRoot(document.getElementById("root")).render(d.jsx(Ue.StrictMode,{children:d.jsx(XE,{children:d.jsx(TM,{defaultTheme:"system",storageKey:"study-web-theme",children:d.jsx(xD,{})})})}));
